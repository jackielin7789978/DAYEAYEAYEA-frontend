{"version":3,"sources":["context.js","constants/style.js","components/navbar/CategoryMenu.js","utils.js","components/cartSystem/CartItem.js","components/Button.js","components/navbar/MenuStyles.js","components/cartSystem/CartMenu.js","components/navbar/AccountMenu.js","components/navbar/SearchMenu.js","components/navbar/NavbarStyled.js","components/navbar/Navbar.js","components/Footer.js","constants/baseURL.js","hooks/useFetch.js","components/Modal.js","hooks/useModal.js","components/IsLoading.js","hooks/useMediaQuery.js","components/productSystem/ProductCard.js","components/general.js","components/Paginator.js","pages/Articles/Articles.js","components/checkoutSystem/Step.js","components/Counter.js","webAPI/productsAPI.js","components/checkoutSystem/step1CartItem.js","pages/Checkout/Step1/Step1.js","components/loginSystem/loginCard.js","components/Tab.js","webAPI/loginAPI.js","components/loginSystem/SignInForm.js","components/loginSystem/SignUpForm.js","pages/Login/Login.js","webAPI/orderAPI.js","webAPI/memberAPI.js","pages/Checkout/Step2/Step2.js","components/checkoutSystem/step3OrderItem.js","pages/Checkout/Step3/Step3.js","pages/Categories/Categories.js","pages/Search/Search.js","components/homeSystem/HomeCategoriesImg.js","components/Carousel.js","pages/Home/Home.js","components/Table.js","pages/MemberPages/OrderTable.js","pages/MemberPages/Home/Home.js","pages/MemberPages/Orders/Orders.js","pages/MemberPages/Info/Info.js","pages/MemberPages/MeTab/MeTab.js","pages/MemberPages/OrderDetail/ItemTable.js","pages/MemberPages/OrderDetail/OrderDetail.js","components/productSystem/ProductImg.js","components/productSystem/ProductUpInfo.js","components/productSystem/ProductBottomInfo.js","pages/Products/Products.js","pages/404/404.js","webAPI/adminAPIs.js","pages/AdminPages/AdminLogin/AdminLogin.js","pages/AdminPages/AdminLogin/index.js","webAPI/adminMembersAPI.js","components/admin/TableStyle.js","components/admin/memberManage/MemberItem.js","components/admin/memberManage/Search.js","components/admin/AdminIsLoading.js","components/admin/PaginatorStyle.js","pages/AdminPages/AdminMembers/AdminMembers.js","components/admin/memberManage/OrderItem.js","pages/AdminPages/AdminMembers/AdminMemberDetail.js","components/admin/productManage/Search.js","components/admin/productManage/Table.js","pages/AdminPages/AdminProducts/AdminProducts.js","components/admin/productManage/Tab.js","components/admin/productManage/FormStyle.js","components/admin/productManage/AdminDetailForms/ImgForm.js","components/admin/productManage/AdminDetailForms/DescForm.js","components/admin/productManage/AdminDetailForms/InfoForm.js","pages/AdminPages/AdminProducts/AdminProductDetail.js","components/admin/productManage/AdminAddForms/ImgForm.js","components/admin/productManage/AdminAddForms/DescForm.js","components/admin/productManage/AdminAddForms/InfoForm.js","hooks/useCreateProduct.js","pages/AdminPages/AdminProducts/AdminProductAdd.js","components/admin/orderManage/Buttons.js","components/admin/orderManage/DetailItem.js","components/admin/orderManage/OrderInfo.js","components/admin/orderManage/Search.js","constants/itemsPerPage.js","components/admin/orderManage/Table.js","pages/AdminPages/AdminOrders/AdminOrders.js","pages/AdminPages/AdminOrders/AdminOrderDetail.js","pages/AdminPages/Navbar.js","pages/AdminPages/Footer.js","pages/AdminPages/Layout.js","pages/AdminPages/Admin404/404.js","pages/InfoPages/Brand/Brand.js","webAPI/faq.js","pages/InfoPages/FAQ/FAQ.js","pages/InfoPages/Join/Join.js","pages/InfoPages/Notice/Notice.js","pages/InfoPages/Privacy/Privacy.js","constants/globalStyle.js","App.js","index.js"],"names":["LoadingContext","createContext","ModalContext","LocalStorageContext","UserContext","AdminContext","OversoldContext","ProductIdContext","COLOR","ADMIN_COLOR","table_blue","light_grey","grey","Btn_grey","Btn_grey_hover","Btn_darkgrey","Btn_darkgrey_hover","Btn_blue","Btn_blue_hover","border_grey","border_dark_grey","warning","FONT","FONT_SIZE","xxxl","xxl","xl","lg","md","sm","xs","MEDIA_QUERY","ADMIN_MEDIA_QUERY","CategoryContainer","styled","div","$isOpen","Category","Link","props","$active","Menu","pathname","useLocation","to","includes","CARTTITLE_NAME","TOKEN","NEWPRODUCTINFO","ScrollToTop","useEffect","window","scrollTo","addItemsToLocalStorage","productItems","localStorage","setItem","JSON","stringify","getItemsFromLocalStorage","getItem","getTokenFromLocalStorage","addTokenToLocalStorage","token","removeNewProductFromLocalStorage","removeItem","countWhiteCardAmount","length","isDesktop","perWrap","whiteCardAmountArray","Amount","i","push","setNumInArray","num","NumArray","setAdminProductsPageInArray","totalNum","totalPage","Math","ceil","pagesArray","formatPrice","cents","toLocaleString","style","currency","replace","imgVerify","imgUrl","test","checkInputIsValid","isValid","Object","values","every","valid","calTotalPages","totalItems","floor","isTokenExpired","decode","exp","Date","now","error","console","log","ItemContainer","Pic","$img","Info","Name","NumPrice","RemoveBtn","FontAwesomeIcon","CartItem","id","name","img","price","quantity","handleRemoveCartItem","useContext","height","icon","faTrashAlt","onClick","ButtonStyle","button","color","ShoppingCardIcon","ColorShoppingCardIcon","GeneralIcon","ShoppingCarBtn","children","buttonStyle","faShoppingCart","ShoppingCarWhiteBtn","ArrowBtn","faArrowRight","LoginBtn","faSignInAlt","LogoutBtn","faSignOutAlt","EditBtn","faEdit","SaveBtn","faSave","GeneralBtn","type","HoverArea","MenuContainer","Triangle","Title","AccountTitle","CSSTriangle","RestyledHoverArea","ItemsContainer","CartInfo","BtnWrapper","EmptyCart","CartMenu","handleHover","cartItems","totalPrice","onMouseEnter","onMouseLeave","map","item","discountPrice","RestyledMenuContainer","AccountMenu","$setMenu","user","setUser","onMouseOver","onMouseOut","SearchTitle","SearchMenuContainer","SearchInput","input","SearchButton","SearchDiv","keywordsSearch","history","setInputValue","keyword","inputValue","SearchMenu","useState","trim","useHistory","handleOnChange","useCallback","e","target","value","handleOnClick","handleKeyDown","keyCode","placeholder","onChange","onKeyDown","faSearch","DesktopBar","DesktopContainer","Nav","nav","LeftIcons","RightIcons","LOGO","BurgerBTN","$shouldHide","CloseBTN","$isClicked","SearchBTN","AccountBTN","CartBTN","Navbar","menu","setMenu","innerWidth","document","body","overflowY","faBars","faTimes","faUserCircle","$menu","FooterContainer","ColumnContainer","Column","ColumnTitle","PageLink","ColumnDesc","Copyright","Footer","BASE_URL","useFetch","url","options","isLoading","setIsLoading","setValue","setError","targetURL","useMemo","fetchData","args","requestOption","suffixPath","bodyData","handler","undefined","errorHandler","a","DEFAULT_OPTIONS","method","headers","Authorization","fetch","res","json","data","status","Error","message","FixedBackground","ModalContent","isNavClick","ModalIconDiv","ModalBtnDiv","ModalContentDiv","CancelRoundedColorIcon","CloseButton","faTimesCircle","ModalIcon","ModalButton","buttonOne","buttonTwo","FullModal","content","open","onClose","useModal","initialContent","isModal","setIsModal","handleModalOpen","handleModalClose","Modal","IsLoadingStyle","override","css","IsLoadingComponent","size","speedMultiplier","useMediaQuery","query","mediaMatch","setMediaMatch","media","matchMedia","matches","mediaListener","addEventListener","removeEventListener","CardContainerDiv","stockQuantity","CardLink","ButtonContainer","ImgContainer","ProductInfoContainer","TitleContainer","PriceContainer","PriceStyle","span","discount","SoldOut","DiscountPriceStyle","ProductCard","imgs","handleAddCartItem","localCart","parse","hasDiscount","isProductInCart","filter","parseInt","stock","inStock","setInStock","productInfo","handleAddProductInCart","backgroundImage","WhiteCard","PageHeight","PageWidth","FullWidth","PaginatorButtonStyle","PaginatorButton","page","active","ArticleImgContainer","TitleBorder","ContentDiv","ProductCardsContainer","PaginatorDiv","Articles","articleSort","useParams","isMobile","getArticleById","ProductsLoading","Products","getProductsByArticle","whiteCardAmount","title","Product_imgs","imgUrlSm","imgUrlMd","amount","singlePage","linkDirection","StepsWrapper","Step","StepTitle","StepContent","Steps","location","faChevronRight","CartTitles","TitleWidth","TitleGroup","CartTitle","Item","ItemInfo","ItemImg","ItemName","ItemContent","ItemPrice","ItemPriceHidden","ItemCount","ItemCountHidden","ItemCountMobile","ItemDelete","TotalPrice","BtnFlex","BtnFlexCenter","LinkStyle","maxWidth","width","margin","FormTitle","FormWrapper","Form","form","InputWrapper","InputTitle","RadionLabel","Input","Label","label","DeliveryData","p","WarningMessage","MsgTitle","Select","select","Counter","Number","ItemCounter","marginStyle","handleCount","handleChange","handleOnBlur","count","targetId","faMinus","onBlur","key","preventDefault","faPlus","getProductById","Cart","handleUpdateCount","$setNotAllowed","setQuantity","totalQuantity","setTotalQuantity","itemStatus","setItemStatus","warningMessage","setWarningMessage","setIsModalOpen","isOversold","result","marginRight","Step1","isModalOpen","notAllowed","setNotAllowed","setCartItems","reduce","total","c","cursor","PageWidthHeight","AbsoluteCenter","ErrorMsg","SendPassword","PasswordInput","TabWrapper","Tab","Tabs","tabs","tabsPanel","presetTab","changeTab","activeTab","setActiveTab","tab","index","signIn","username","password","signUp","email","getMe","authorization","SignInForm","tokenCheck","$errMessage","$setErrMessage","useForm","register","errors","formState","handleSubmit","onSubmit","submitData","ok","required","marginTop","textAlign","SignUpForm","then","pattern","Login","errMessage","setErrMessage","createOrder","orderAddress","orderEmail","orderName","orderPhone","payment","shipping","orderItem","subTotal","isDeleted","getOrderOne","ticket","Step2","setIsOversold","errMsg","userStreet","setUserStreet","useTwZipCode","city","zipCode","handleCityChange","handleDistrictChange","newCity","address","cities","newDistricts","districts","district","handleChecked","checked","setTimeout","fullname","phone","street","productId","ticketNo","marginLeft","htmlFor","OrderItem","Product","Step3","setOrderData","orderData","Member","Order_items","CardContainer","Categories","setTotalPage","slug","categoryValue","imgUrlLg","PageContainer","SearchFoundContainer","SearchNotFoundContainer","SearchFoundResult","searchAmount","Search","keywords","search","keywordString","qs","ignoreQueryPrefix","currentPage","perPageSliceStart","perPageSliceEnd","SearchProductsAmount","setSearchPageInArray","slice","CategoryImg","HomeCategoriesImg","category","CarouselItem","Carousel","dots","arrows","autoplay","infinite","speed","slidesToShow","slidesToScroll","marginBottom","article","ProductContainer","showProductsInComponent","MediaQuery","Home","product","Button","Table","table","col","H3","h3","PageListWrapper","ul","Li","li","PageLi","PageList","currPage","arr","setCurrPage","OrderTable","pageBar","orders","setData","maxPage","pageData","reverse","Array","isArray","order","getMilliseconds","fill","Container","Header","SubTitle","h4","MemberInfo","profile","logout","profileOrders","Orders","level","InfoWrapper","Field","$danger","BtnField","EditButton","fontSize","isEditing","setIsEditing","updateMe","response","defaultValue","Wrapper","MeTab","tabIndex","info","ItemTH","th","ItemTD","td","TD","IMG","ItemTable","src","alt","ButtonGroup","OrderDetail","cancelOrder","handleCancel","ProductImgContainer","ThumbnailContainer","ThumbnailImgDiv","$isSelected","LargeImgDiv","ProductImgsComponent","showLargeImg","setShowLargeImg","showThumbnailImage","setShowThumbnailImage","selectedId","useLayoutEffect","handleThumbnailClick","newLargeImg","isSelected","InfoStyle","ProductName","text_dark","Shortdesc","InfoSetContainer","SoldOutBtn","ProductUpInfoComponent","shortDesc","cartQuantity","targetValue","changeQuantity","AddProductToCart","ProductBottomContainer","LongDescSingleContent","LongDescMultiContent","ProductBottomInfoComponent","longDesc","ProductPageDiv","ProductTopContainer","WrapperBg","$bg","NotFound","process","position","left","bottom","transform","adminLogin","adminCheck","h1","FormContainer","Err","AdminLogin","setUsername","setPassword","setErrMsg","alert","background","getAllMembers","toString","getMember","updateMemberLevel","ColumnHeader","TableItemContainer","Cell","Btn","editBtn_grey","editBtn_grey_hover","RestyledContainer","RestyledCell","TableItem","member","calTotalPrice","StyledSearchIcon","isSearching","setIsSearching","AdminIsLoadingComponent","PageWrapper","SearchContainer","RestyleHeader","$name","Paginator","headerNames","Msg","AdminMembers","setMembers","members","offset","setOffset","setPage","param","URLSearchParams","get","TotalPages","keys","membersFilter","setMembersFilter","reg","RegExp","sort","b","pageValue","minWidth","MemberWrapper","List","ListTitle","ListData","AdminMemberDetail","isEdit","setIsEdit","setMemberDetail","memberDetail","handleEdit","Dropdown","CategoryDropdown","disabled","NameHeader","GeneralCell","NameCell","ProductCell","ImgCell","QuantityCounter","StatusButton","productQuantity","setProductQuantity","productStatus","setProductStatus","setProductId","productImg","handleOnStatusClick","newStatus","handleOnDeleteClick","products","SearchSideContainer","SearchResultDiv","CancelButton","onCancelClick","DeleteButton","onDeleteClick","AdminProducts","showProductsList","showProductsByPage","setProducts","categoryFilter","setCategoryFilter","isSuperAdmin","checkModal","deleteModal","searchLoading","searchProduct","getProductsLoading","getAllProducts","deleteProduct","handleDropDownChange","handleDelete","deletedProductsList","Provider","FormTitleBorder","ButtonDiv","ButtonForImgForm","onLeaveClick","onSaveClick","onEditClick","ButtonGroupForAdd","FormTitleComponent","SelectedComponent","DropdownStyle","valueArray","productValue","ForNewDropdown","PriceInputContainer","InputMark","PriceInputStyle","PriceInput","border","QuantityInputStyle","CheckIcon","EditIcon","ImgInput","ImgForm","ImgInputOutContainer","FormContentContainer","ImgPreviewContainer","ImgUrlSetContainer","ImgUrlWithTitleContainer","SmallTitle","ImgInputContainer","$isBlank","ImgPreviewSet","isBlank","ImgUrlWithTitle","formData","setFormData","targetName","newFormData","ImgInputSet","require","setIsValid","isDisabled","setIsDisabled","errorMsg","setErrorMsg","imgData","setImgData","buttonStatus","setButtonStatus","inputId","setInputValid","checkIsImg","isChecked","newData","handleEditClick","handleCheckClick","isNotValid","isImgCheck","newValid","faCheckCircle","DetailImgForm","productImgUrlOne","setProductImgUrlOne","productImgUrlOTwo","setProductImgUrlTwo","productImgUrlThree","setProductImgUrlThree","validCheck","setValidCheck","deleteKeysFromData","createdAt","updatedAt","handleLeaveClick","handleSaveClick","imgsData","DescInput","DescForm","ComponentDiv","DescTextArea","textarea","DetailDescForm","descData","setDescData","errorMsgForName","setErrorMsgForName","errorMsgForShort","setErrorMsgForShort","errorMsgForLong","setErrorMsgForLong","newDescData","InfoForm","InfoFormSetContainer","OptionsContainer","StatusDropdown","CategoriesDropdown","ArticlesDropdown","handleBlur","isNaN","StatusComponent","PriceComponent","errorMsgForPrice","setErrorMsgForPrice","errorMsgForDiscount","setErrorMsgForDiscount","inputPriceValue","setInputPriceValue","handleOnPriceBlur","handleOnDiscountBlur","QuantityComponent","inputQuantityValue","setInputQuantityValue","DetailInfoForm","InfoData","setInfoData","AdminProductDetail","productDetail","setProductDetail","imgFromData","setIsChecked","setImgDataIsValid","imgDataIsValid","isImgVerifyCheck","splice","imgDataOne","imgDataTwo","imgDataThree","setDescDataIsValid","dropdownTitle","useCreateProduct","initProductState","imgsDataOne","imgsDataTwo","imgsDataThree","createProduct","getProductsPage","newProductInfo","isAllChecked","AdminProductAdd","Buttons","orderDetail","handleOrderStatus","handleArchive","Archived","OrderInfo","faQuestionCircle","searchVal","setSearchVal","Filter","handleFilter","searchedOrders","isViewingArchive","PaginatorBtn","AdminOrders","setIsViewingArchive","setFilter","pages","setPages","getOrders","handleGetOrders","condition","setSearchedOrders","Subtotal","Collapser","Icon","TableHeaders","PriceDetail","AdminOrderDetail","isOpen","setIsOpen","modal","archiveOrder","updateOrderStatus","action","convertOrderStatus","faChevronDown","convertedStatus","NavWrapper","Avatar","NavbarList","NavLink","activeClass","LogoutButton","SwitchButton","handleLogout","setActive","setIsNavClick","faUserFriends","faEye","faImages","pre","faAngleLeft","FootWrapper","footer","Layout","isAdmin","setIsAdmin","setIsSuperAdmin","jwt_decode","Img","AboutImg","Brand","getFAQs","Q","A","Toggle","faq","question","faChevronUp","answer","FAQ","faqs","setFaqs","fetchFAQs","library","add","fab","Card","DanceAvator","$width","$height","$translateY","CardMember","x1","$x1","x2","$x2","keyframes","CardTop","Work","CardFooter","IconTitle","Join","faPortrait","Content","Notice","Privacy","GlobalStyle","createGlobalStyle","App","basename","path","component","AdminRoutes","Shop","AdminNotFound","_info","hasOwnProperty","sum","cartItem","productList","storageProductItems","CheckoutRoutes","MemberRoutes","InfoRoutes","exact","useRouteMatch","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ba906a54.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport const LoadingContext = createContext(false)\r\nexport const ModalContext = createContext(false)\r\nexport const LocalStorageContext = createContext('')\r\nexport const UserContext = createContext('')\r\nexport const AdminContext = createContext(true)\r\nexport const OversoldContext = createContext('')\r\nexport const ProductIdContext = createContext('')\r\n","export const COLOR = {\r\n  primary_light: '#D2C9B1',\r\n  primary_light_hover: '#b5a988',\r\n  primary_light_tab: '#e4decc',\r\n  primary_dark: '#9A8B66',\r\n  warning: '#ffb22e',\r\n  warning_hover: '#f7a100',\r\n  accent: '#5B756E',\r\n  accent_hover: '#35574e',\r\n  light_grey: '#cecece',\r\n  grey: '#aaa',\r\n  light: '#fff',\r\n\r\n  text_primary_light: '#D2C9B1',\r\n  text_primary_dark: '#9A8B66',\r\n  text_warning: '#ffb22e',\r\n  text_light: '#fff',\r\n  text_dark: '#333',\r\n  text_black: '#000',\r\n  text_grey: '#999',\r\n  text_placeholder: '#CECECE',\r\n\r\n  border_primary: '#D2C9B1',\r\n  border_primary_dark: '#9A8B66',\r\n  border_grey: '#cecece',\r\n  border_light_grey: '#e5e5e5',\r\n  border_super_light: '#eee',\r\n  border_light: '#fff',\r\n  border_dark: '#333'\r\n}\r\nexport const ADMIN_COLOR = {\r\n  table_blue: '#3689c9',\r\n  light_grey: '#EDF1F4',\r\n  grey: '#ececec',\r\n  Btn_grey: '#aaa',\r\n  Btn_grey_hover: '#888',\r\n  Btn_darkgrey: '#333',\r\n  Btn_darkgrey_hover: '#2a2a2a',\r\n  Btn_blue: '#3689c9',\r\n  Btn_blue_hover: '#1971b5',\r\n  border_grey: '#BBC5D1',\r\n  border_dark_grey: '#555',\r\n  warning: 'rgb(210, 30, 30)'\r\n}\r\n\r\n// 要用什麼字體？\r\nexport const FONT = {\r\n  logo: \"'Karla', sans-serif;\"\r\n}\r\n\r\nexport const FONT_SIZE = {\r\n  xxxl: '42px',\r\n  xxl: '30px',\r\n  xl: '24px',\r\n  lg: '20px',\r\n  md: '16px',\r\n  sm: '14px',\r\n  xs: '12px'\r\n}\r\n\r\nexport const EFFECT = {\r\n  shadow_dark: `0px 5px 12px 1px rgba(140, 140, 140, 0.2);`\r\n}\r\n\r\nexport const MEDIA_QUERY = {\r\n  desktop: '@media screen and (min-width: 1200px)',\r\n  tablet: '@media screen and (min-width: 768px) and (max-width: 1200px)',\r\n  widescreen: '@media screen and (min-width: 2560px)'\r\n}\r\nexport const ADMIN_MEDIA_QUERY = {\r\n  sm: '@media screen and (min-width: 1000px) and (max-width: 1400px)',\r\n  md: '@media screen and (min-width: 1400px) and (max-width: 2560px)',\r\n  lg: '@media screen and (min-width: 2560px)'\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { Link, useLocation } from 'react-router-dom'\r\n\r\nconst CategoryContainer = styled.div`\r\n  position: fixed;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  top: ${({ $isOpen }) => ($isOpen ? '50px' : '-100vh')};\r\n  background: ${COLOR.primary_light};\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  transition: ease 0.3s;\r\n  z-index: 1;\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n    background: transparent;\r\n    position: static;\r\n    height: 90px;\r\n    width: unset;\r\n  }\r\n`\r\nconst Category = styled(Link)`\r\n  text-decoration: none;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid ${COLOR.border_light};\r\n  font-size: ${FONT_SIZE.md};\r\n  width: 80%;\r\n  color: ${COLOR.text_light};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 12%;\r\n  &:hover {\r\n    color: ${COLOR.text_primary_dark};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    font-weight: bold;\r\n  `}\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    color: ${COLOR.text_dark};\r\n    font-size: ${FONT_SIZE.md};\r\n    padding: 0 22px;\r\n  }\r\n`\r\n\r\nexport default function Menu({ $isOpen }) {\r\n  const pathname = useLocation().pathname\r\n\r\n  return (\r\n    <CategoryContainer $isOpen={$isOpen}>\r\n      <Category\r\n        to='/categories/all/1'\r\n        $active={pathname.includes('/categories/all')}\r\n      >\r\n        所有商品\r\n      </Category>\r\n      <Category\r\n        to='/categories/home/1'\r\n        $active={pathname.includes('/categories/home')}\r\n      >\r\n        居家生活\r\n      </Category>\r\n      <Category\r\n        to='/categories/apparel/1'\r\n        $active={pathname.includes('/categories/apparel')}\r\n      >\r\n        服飾配件\r\n      </Category>\r\n      <Category\r\n        to='/categories/kitchenware/1'\r\n        $active={pathname.includes('/categories/kitchenware')}\r\n      >\r\n        廚房餐具\r\n      </Category>\r\n      <Category\r\n        to='/categories/food/1'\r\n        $active={pathname.includes('/categories/food')}\r\n      >\r\n        食材雜貨\r\n      </Category>\r\n      <Category\r\n        to='/categories/stationery/1'\r\n        $active={pathname.includes('/categories/stationery')}\r\n      >\r\n        設計文具\r\n      </Category>\r\n      <Category\r\n        to='/categories/outdoor/1'\r\n        $active={pathname.includes('/categories/outdoor')}\r\n      >\r\n        休閒戶外\r\n      </Category>\r\n    </CategoryContainer>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport decode from 'jwt-decode'\r\n\r\nconst CARTTITLE_NAME = 'cartItemsList'\r\nconst TOKEN = 'token'\r\nconst NEWPRODUCTINFO = 'newProductInfo'\r\n\r\nexport function ScrollToTop() {\r\n  const { pathname } = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [pathname])\r\n\r\n  return null\r\n}\r\n\r\nexport const addItemsToLocalStorage = (productItems) => {\r\n  localStorage.setItem(CARTTITLE_NAME, JSON.stringify(productItems))\r\n}\r\n\r\nexport const getItemsFromLocalStorage = () => {\r\n  return localStorage.getItem(CARTTITLE_NAME)\r\n}\r\n\r\nexport const getTokenFromLocalStorage = () => {\r\n  return localStorage.getItem(TOKEN)\r\n}\r\n\r\nexport const addTokenToLocalStorage = (token) => {\r\n  localStorage.setItem(TOKEN, token)\r\n}\r\n\r\nexport const addNewProductToLocalStorage = (newProductInfo) => {\r\n  localStorage.setItem(NEWPRODUCTINFO, JSON.stringify(newProductInfo))\r\n}\r\n\r\nexport const getNewProductFromLocalStorage = () => {\r\n  return localStorage.getItem(NEWPRODUCTINFO)\r\n}\r\n\r\nexport const removeNewProductFromLocalStorage = () => {\r\n  return localStorage.removeItem(NEWPRODUCTINFO)\r\n}\r\n\r\nexport const countWhiteCardAmount = (length, isDesktop) => {\r\n  let perWrap = isDesktop ? 4 : 2\r\n  let whiteCardAmountArray = []\r\n  const Amount = perWrap - (length % perWrap)\r\n  if (Amount !== perWrap) {\r\n    for (let i = 1; i <= Amount; i++) {\r\n      whiteCardAmountArray.push(i)\r\n    }\r\n  }\r\n  return whiteCardAmountArray\r\n}\r\n\r\nexport const setNumInArray = (num) => {\r\n  const NumArray = []\r\n  for (let i = 1; i <= num; i++) {\r\n    NumArray.push(i)\r\n  }\r\n  return NumArray\r\n}\r\n\r\nexport const setSearchPageInArray = (totalNum) => {\r\n  const productsAmountPerPage = 12\r\n  const totalPage = Math.ceil(totalNum / productsAmountPerPage)\r\n  const pagesArray = []\r\n  for (let i = 1; i <= totalPage; i++) {\r\n    pagesArray.push(i)\r\n  }\r\n  return { totalPage, pagesArray }\r\n}\r\n\r\nexport const setAdminProductsPageInArray = (totalNum) => {\r\n  const productsAmountPerPage = 12\r\n  const totalPage = Math.ceil(totalNum / productsAmountPerPage)\r\n  const pagesArray = []\r\n  for (let i = 1; i <= totalPage; i++) {\r\n    pagesArray.push(i)\r\n  }\r\n  return { totalPage, pagesArray }\r\n}\r\n\r\nexport const formatPrice = (cents) => {\r\n  return cents\r\n    .toLocaleString('zh', {\r\n      style: 'currency',\r\n      currency: 'TWD'\r\n    })\r\n    .replace('.00', '')\r\n}\r\n\r\nexport const multiplyPrice = (quantity, price) => quantity * price\r\n\r\nexport const imgVerify = (imgUrl) => {\r\n  const rule = /\\.(jpeg|jpg|gif|png)$/\r\n  const isChecked = !rule.test(imgUrl) ? false : true\r\n  return isChecked\r\n}\r\n\r\nexport const checkIsImg = (imgData) => {\r\n  const imgDataForCheck = Object.values(imgData)\r\n  const result = imgDataForCheck.every((imgUrl) => imgVerify(imgUrl))\r\n  return result\r\n}\r\n\r\nexport const checkInputIsValid = (isValid) => {\r\n  const isValidForCheck = Object.values(isValid)\r\n  const result = isValidForCheck.every((valid) => valid)\r\n  return result\r\n}\r\n\r\nexport const calTotalPages = (totalItems) => {\r\n  if (totalItems % 10) return Math.floor(totalItems / 10) + 1\r\n  return totalItems / 10\r\n}\r\n\r\nexport const isTokenExpired = (token) => {\r\n  try {\r\n    const _info = decode(token)\r\n    if (_info.exp < Date.now() / 1000) {\r\n      return true\r\n    } else return false\r\n  } catch (error) {\r\n    console.log(error)\r\n    return false\r\n  }\r\n}\r\n","import { useContext } from 'react'\r\nimport { LocalStorageContext } from '../../context'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { formatPrice } from '../../utils'\r\n\r\nconst ItemContainer = styled.div`\r\n  border-bottom: 2px solid ${COLOR.border_grey};\r\n  padding: 20px 0px;\r\n  display: flex;\r\n  position: relative;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 10px 0px;\r\n  }\r\n`\r\nconst Pic = styled(Link)`\r\n  min-width: 70px;\r\n  height: 70px;\r\n  background: url(${({ $img }) => $img}) no-repeat center;\r\n  background-size: cover;\r\n  &:hover {\r\n    transition: all 0.3s;\r\n    transform: scale(1.05);\r\n  }\r\n`\r\nconst Info = styled.div`\r\n  padding-left: 14px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\nconst Name = styled(Link)`\r\n  font-size: ${FONT_SIZE.sm};\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  &:hover {\r\n    transition: all 0.2s;\r\n    color: ${COLOR.text_black};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xs};\r\n  }\r\n`\r\nconst NumPrice = styled.div`\r\n  font-size: ${FONT_SIZE.sm};\r\n  font-weight: bold;\r\n  letter-spacing: 1px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xs};\r\n  }\r\n`\r\nconst RemoveBtn = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 2px;\r\n  bottom: 16px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    bottom: 8px;\r\n    transition: all 0.1s;\r\n    &:hover {\r\n      color: ${COLOR.primary_dark} !important;\r\n    }\r\n  }\r\n`\r\n\r\nexport default function CartItem({ id, name, img, price, quantity }) {\r\n  const { handleRemoveCartItem } = useContext(LocalStorageContext)\r\n  return (\r\n    <ItemContainer>\r\n      <Pic to={`/products/${id}`} style={{ height: '70px' }} $img={img} />\r\n      <Info>\r\n        <Name to={`/products/${id}`}>{name}</Name>\r\n        <NumPrice>\r\n          {quantity} x {formatPrice(price)}\r\n        </NumPrice>\r\n        <RemoveBtn\r\n          icon={faTrashAlt}\r\n          onClick={() => {\r\n            handleRemoveCartItem(id)\r\n          }}\r\n        />\r\n      </Info>\r\n    </ItemContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, ADMIN_COLOR } from '../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faShoppingCart,\r\n  faSignInAlt,\r\n  faSignOutAlt,\r\n  faEdit,\r\n  faArrowRight,\r\n  faSave\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst ButtonStyle = styled.button`\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  font-size: ${FONT_SIZE.md};\r\n  color: ${COLOR.text_light};\r\n  white-space: nowrap;\r\n  height: 36px;\r\n  width: 100%;\r\n  transition: linear 0.2s;\r\n  background: ${COLOR.light_grey};\r\n  ${(props) =>\r\n    props.color === 'primary' &&\r\n    `background: ${COLOR.primary_light};\r\n      &:hover {\r\n        background: ${COLOR.primary_light_hover};\r\n      }\r\n    `};\r\n  ${(props) =>\r\n    props.color === 'warning' &&\r\n    `background: ${COLOR.warning};\r\n\r\n      &:hover {\r\n        background: ${COLOR.warning_hover};\r\n      }\r\n  `};\r\n  ${(props) =>\r\n    props.color === 'accent' &&\r\n    `background: ${COLOR.accent};\r\n\r\n      &:hover {\r\n        background: ${COLOR.accent_hover};\r\n      }\r\n  `};\r\n  ${(props) =>\r\n    props.color === 'white' &&\r\n    `background: ${COLOR.light};\r\n     border: 1.5px solid ${COLOR.border_primary};\r\n     color: ${COLOR.primary_light}\r\n  `};\r\n  ${(props) =>\r\n    props.color === 'admin_blue' &&\r\n    `background: ${ADMIN_COLOR.Btn_blue};\r\n      &:hover {\r\n        background: ${ADMIN_COLOR.Btn_blue_hover};\r\n      }\r\n    `};\r\n  ${(props) =>\r\n    props.color === 'admin_grey' &&\r\n    `background: ${ADMIN_COLOR.Btn_grey};\r\n      &:hover {\r\n        background: ${ADMIN_COLOR.Btn_grey_hover};\r\n      }\r\n    `};\r\n`\r\nconst ShoppingCardIcon = styled(FontAwesomeIcon)`\r\n  margin-right: 6px;\r\n  margin-top: 2px;\r\n  color: ${COLOR.light};\r\n`\r\nconst ColorShoppingCardIcon = styled(ShoppingCardIcon)`\r\n  color: ${COLOR.primary_light};\r\n`\r\nconst GeneralIcon = styled(FontAwesomeIcon)`\r\n  margin-left: 6px;\r\n  margin-top: 1px;\r\n  color: ${COLOR.light};\r\n`\r\n\r\nfunction ShoppingCarBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      <ShoppingCardIcon icon={faShoppingCart} />\r\n      {children}\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction ShoppingCarWhiteBtn({ id, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color='white' style={buttonStyle} onClick={onClick}>\r\n      <ColorShoppingCardIcon icon={faShoppingCart} />\r\n      {children}\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction ArrowBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faArrowRight} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction LoginBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faSignInAlt} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction LogoutBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faSignOutAlt} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction EditBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faEdit} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction SaveBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faSave} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction GeneralBtn({ id, color, type, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} type={type} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nexport {\r\n  ShoppingCarBtn,\r\n  EditBtn,\r\n  GeneralBtn,\r\n  ShoppingCarWhiteBtn,\r\n  LoginBtn,\r\n  LogoutBtn,\r\n  ArrowBtn,\r\n  SaveBtn\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\n\r\nexport const HoverArea = styled.div`\r\n  position: fixed;\r\n  height: 100vh;\r\n  width: 100%;\r\n  transition: linear 0.3s;\r\n  top: ${({ $isOpen }) => ($isOpen ? '50px' : '-100vh')};\r\n  background: ${COLOR.light};\r\n  z-index: 1;\r\n  ${MEDIA_QUERY.desktop} {\r\n    transition: ease 0.2s;\r\n    height: ${({ $isOpen }) => ($isOpen ? 'unset' : '0px')};\r\n    width: ${({ $isOpen }) => ($isOpen ? '380px' : 'unset')};\r\n    top: 40px;\r\n    right: 110px;\r\n    background: transparent;\r\n  }\r\n`\r\nexport const MenuContainer = styled.div`\r\n  width: 84%;\r\n  margin: 30px auto;\r\n  position: relative;\r\n  button {\r\n    width: 100%;\r\n    height: 35px;\r\n    background: ${COLOR.primary_light};\r\n    color: #fff;\r\n    border-radius: 3px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: unset;\r\n    display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n    outline: 1px solid\r\n      ${({ $isOpen }) => ($isOpen ? COLOR.primary_light : 'transparent')};\r\n    height: ${({ $isOpen }) => ($isOpen ? '100%' : '0px')};\r\n    padding: ${({ $isOpen }) => ($isOpen ? '16px' : '0px')};\r\n    background: ${COLOR.light};\r\n    position: relative;\r\n    bottom: 0;\r\n    margin: ${({ $isOpen }) => ($isOpen ? '10px 0 0 0;' : '0px')};\r\n  }\r\n`\r\nconst Triangle = styled.div`\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: ${({ $isOpen }) => ($isOpen ? 1 : 0)};\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 15px solid transparent;\r\n    border-right: 15px solid transparent;\r\n    border-bottom: 15px solid ${COLOR.primary_light};\r\n    position: absolute;\r\n    top: -15px;\r\n    right: 32px;\r\n\r\n    p {\r\n      width: 0;\r\n      height: 0;\r\n      border-left: 14px solid transparent;\r\n      border-right: 14px solid transparent;\r\n      border-bottom: 14px solid ${COLOR.light};\r\n      position: absolute;\r\n      right: -14px;\r\n      top: 1px;\r\n    }\r\n  }\r\n`\r\nexport const Title = styled.div`\r\n  text-align: center;\r\n  font-size: ${FONT_SIZE.md};\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n`\r\nexport const AccountTitle = styled(Link)`\r\n  font-size: ${FONT_SIZE.sm};\r\n  text-decoration: none;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-size: ${FONT_SIZE.md};\r\n  padding: 20px;\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 12%;\r\n  & + & {\r\n    border-top: 2px solid ${COLOR.border_grey};\r\n  }\r\n\r\n  &:hover {\r\n    color: ${COLOR.text_primary_dark};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 10px;\r\n  }\r\n`\r\nexport function CSSTriangle({ $isOpen }) {\r\n  return (\r\n    <Triangle $isOpen={$isOpen}>\r\n      <p></p>\r\n    </Triangle>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport { LocalStorageContext } from '../../context'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport CartItem from './CartItem'\r\nimport { ShoppingCarBtn } from '../Button'\r\nimport {\r\n  HoverArea,\r\n  MenuContainer,\r\n  CSSTriangle,\r\n  Title\r\n} from '../navbar/MenuStyles'\r\nimport { formatPrice } from '../../utils'\r\n\r\nconst RestyledHoverArea = styled(HoverArea)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    right: 60px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 16vw;\r\n  }\r\n`\r\nconst ItemsContainer = styled.div`\r\n  max-height: ${({ $isOpen }) => ($isOpen ? '70vh' : '0px')};\r\n  overflow: scroll;\r\n  &::-webkit-scrollbar {\r\n    width: 3px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 4px;\r\n    border-radius: 4px;\r\n    background: rgb(219, 219, 219);\r\n  }\r\n  padding: 0 10px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    max-height: ${({ $isOpen }) => ($isOpen ? '60vh' : '0px')};\r\n  }\r\n`\r\nconst CartInfo = styled.div`\r\n  margin: 0px 10px 10px 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n  font-size: ${FONT_SIZE.sm};\r\n  font-weight: bold;\r\n  letter-spacing: 1px;\r\n  p {\r\n    margin: 0;\r\n    margin-top: 4px;\r\n    padding: 0;\r\n    text-align: right;\r\n  }\r\n`\r\nconst BtnWrapper = styled(Link)`\r\n  ${MEDIA_QUERY.tablet} {\r\n    position: absolute;\r\n    right: 0;\r\n    width: 250px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 10px 0px;\r\n  }\r\n`\r\nconst EmptyCart = styled.div`\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: ;\r\n`\r\n\r\nexport default function CartMenu({ handleHover, $isOpen }) {\r\n  const { cartItems, totalItems, totalPrice } = useContext(LocalStorageContext)\r\n\r\n  return (\r\n    <RestyledHoverArea\r\n      onMouseEnter={() => {\r\n        handleHover('cart')\r\n      }}\r\n      onMouseLeave={() => {\r\n        handleHover('')\r\n      }}\r\n      $isOpen={$isOpen}\r\n    >\r\n      <MenuContainer $isOpen={$isOpen}>\r\n        <CSSTriangle $isOpen={$isOpen} />\r\n\r\n        {!totalItems && (\r\n          <>\r\n            <EmptyCart>您的購物車是空的</EmptyCart>\r\n          </>\r\n        )}\r\n        {totalItems ? (\r\n          <>\r\n            <Title>購物車</Title>\r\n            <ItemsContainer $isOpen={$isOpen}>\r\n              {cartItems.map((item) => {\r\n                return (\r\n                  <CartItem\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    name={item.name}\r\n                    img={item.img}\r\n                    price={item.discountPrice}\r\n                    quantity={item.quantity}\r\n                  />\r\n                )\r\n              })}\r\n            </ItemsContainer>\r\n            <CartInfo>\r\n              <div>共有 {totalItems} 件商品</div>\r\n              <div>\r\n                <p>運費 {formatPrice(80)}</p>\r\n                <p>總金額 {formatPrice(totalPrice)}</p>\r\n              </div>\r\n            </CartInfo>\r\n\r\n            <BtnWrapper to='/checkout/step1'>\r\n              <ShoppingCarBtn color={'primary'}>訂單結帳</ShoppingCarBtn>\r\n            </BtnWrapper>\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </MenuContainer>\r\n    </RestyledHoverArea>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  HoverArea,\r\n  MenuContainer,\r\n  CSSTriangle,\r\n  AccountTitle\r\n} from './MenuStyles'\r\nimport { MEDIA_QUERY } from '../../constants/style'\r\nimport { UserContext } from '../../context'\r\nconst RestyledHoverArea = styled(HoverArea)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    right: 110px;\r\n    width: 180px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 18vw;\r\n  }\r\n`\r\nconst RestyledMenuContainer = styled(MenuContainer)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 5px 16px;\r\n  }\r\n`\r\nexport default function AccountMenu({ handleHover, $isOpen, $setMenu }) {\r\n  const { user, setUser } = useContext(UserContext)\r\n  return (\r\n    <RestyledHoverArea\r\n      onMouseOver={() => {\r\n        handleHover('account')\r\n      }}\r\n      onMouseOut={() => {\r\n        handleHover('')\r\n      }}\r\n      $isOpen={$isOpen}\r\n    >\r\n      <RestyledMenuContainer $isOpen={$isOpen}>\r\n        <CSSTriangle $isOpen={$isOpen} />\r\n\r\n        {user ? (\r\n          <>\r\n            <AccountTitle to='/member/me'>會員專區</AccountTitle>\r\n            <AccountTitle\r\n              to=''\r\n              onClick={() => {\r\n                localStorage.removeItem('token')\r\n                setUser(null)\r\n                $setMenu('')\r\n              }}\r\n            >\r\n              登出\r\n            </AccountTitle>\r\n          </>\r\n        ) : (\r\n          <AccountTitle to='/login'>登入/註冊</AccountTitle>\r\n        )}\r\n      </RestyledMenuContainer>\r\n    </RestyledHoverArea>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { HoverArea, MenuContainer, CSSTriangle, Title } from './MenuStyles'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst RestyledHoverArea = styled(HoverArea)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    right: 160px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 20vw;\r\n  }\r\n`\r\nconst SearchTitle = styled(Title)`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n`\r\nconst SearchMenuContainer = styled(MenuContainer)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst SearchInput = styled.input`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'inline-block' : 'none')};\r\n  width: 100%;\r\n  padding: 9px 21px;\r\n  border: 1px solid ${COLOR.border_grey};\r\n  color: ${COLOR.text_dark};\r\n  border-radius: 30px;\r\n  background: ${COLOR.light};\r\n  font-size: ${FONT_SIZE.sm};\r\n  line-height: ${FONT_SIZE.sm};\r\n  height: 34px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid ${COLOR.border_grey};\r\n  }\r\n}\r\n`\r\nconst SearchButton = styled(FontAwesomeIcon)`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n  margin-left: 8px;\r\n  cursor: pointer;\r\n  color: ${COLOR.grey};\r\n`\r\nconst SearchDiv = styled.div`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'inline-block' : 'none')};\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 80%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n  }\r\n`\r\nconst keywordsSearch = (history, setInputValue, keyword) => {\r\n  history.push(`/search/?search=${keyword}&p=1`)\r\n  setInputValue((inputValue) => '')\r\n}\r\n\r\nexport default function SearchMenu({ handleHover, $isOpen }) {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const keyword = inputValue.trim('').replace(/ /g, '%2B')\r\n  const history = useHistory()\r\n  const handleOnChange = useCallback((e) => {\r\n    setInputValue(e.target.value)\r\n  }, [])\r\n\r\n  const handleOnClick = useCallback(() => {\r\n    keywordsSearch(history, setInputValue, keyword)\r\n  }, [history, keyword])\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e) => {\r\n      if (e.keyCode !== 13) return\r\n      keywordsSearch(history, setInputValue, keyword)\r\n    },\r\n    [history, keyword]\r\n  )\r\n\r\n  return (\r\n    <RestyledHoverArea\r\n      onMouseOver={() => {\r\n        handleHover('search')\r\n      }}\r\n      onMouseOut={() => {\r\n        handleHover('')\r\n      }}\r\n      $isOpen={$isOpen}\r\n    >\r\n      <SearchMenuContainer $isOpen={$isOpen}>\r\n        <CSSTriangle $isOpen={$isOpen} />\r\n        <SearchTitle $isOpen={$isOpen}>找商品</SearchTitle>\r\n        <SearchDiv $isOpen={$isOpen}>\r\n          <SearchInput\r\n            $isOpen={$isOpen}\r\n            placeholder='搜尋關鍵字'\r\n            type='text'\r\n            name='search'\r\n            value={inputValue}\r\n            onChange={handleOnChange}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n          <SearchButton\r\n            $isOpen={$isOpen}\r\n            onClick={handleOnClick}\r\n            icon={faSearch}\r\n          />\r\n        </SearchDiv>\r\n      </SearchMenuContainer>\r\n    </RestyledHoverArea>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport {\r\n  COLOR,\r\n  FONT,\r\n  FONT_SIZE,\r\n  EFFECT,\r\n  MEDIA_QUERY\r\n} from '../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst DesktopBar = styled.div`\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: fixed;\r\n    width: 100%;\r\n    display: static;\r\n    height: 40px;\r\n    background: ${COLOR.primary_light};\r\n    z-index: 1;\r\n  }\r\n`\r\nconst DesktopContainer = styled.div`\r\n  ${MEDIA_QUERY.desktop} {\r\n    background: ${COLOR.light};\r\n    position: fixed;\r\n    top: 40px;\r\n    width: 100%;\r\n    height: 90px;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    box-shadow: ${EFFECT.shadow_dark};\r\n    z-index: 2;\r\n  }\r\n`\r\nconst Nav = styled.nav`\r\n  background: ${COLOR.primary_light};\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: static;\r\n    width: unset;\r\n    background: transparent;\r\n    font-family: ${FONT.logo};\r\n    top: 30px;\r\n    height: 90px;\r\n    box-shadow: none;\r\n  }\r\n`\r\nconst LeftIcons = styled.div`\r\n  position: absolute;\r\n  top: 13px;\r\n  left: 2vw;\r\n  display: flex;\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: static;\r\n    top: 0;\r\n    width: 0;\r\n    margin: 0;\r\n  }\r\n`\r\nconst RightIcons = styled.div`\r\n  position: absolute;\r\n  top: 13px;\r\n  right: 2vw;\r\n  display: flex;\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: static;\r\n    top: 0;\r\n    width: 0;\r\n    margin: 0;\r\n  }\r\n`\r\nconst LOGO = styled(Link)`\r\n  text-decoration: none;\r\n  color: ${COLOR.text_dark};\r\n  font-size: ${FONT_SIZE.xl};\r\n  font-family: ${FONT.logo};\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n    position: relative;\r\n  }\r\n`\r\nconst BurgerBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  display: ${({ $shouldHide }) => ($shouldHide ? 'none' : 'inline-block')};\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 5px;\r\n    position: absolute;\r\n    display: none;\r\n  }\r\n`\r\nconst CloseBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n\r\n  display: ${({ $isClicked }) => ($isClicked ? 'inline-block' : 'none')};\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 5px;\r\n    position: absolute;\r\n    display: none;\r\n  }\r\n`\r\nconst SearchBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  opacity: ${({ $shouldHide }) => ($shouldHide ? 0 : 1)};\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: 1;\r\n    margin-right: 30px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    top: -37px;\r\n    right: 160px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 20vw;\r\n  }\r\n`\r\nconst AccountBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  opacity: ${({ $shouldHide }) => ($shouldHide ? 0 : 1)};\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: 1;\r\n    margin-right: 30px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    top: -37px;\r\n    right: 110px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 18vw;\r\n  }\r\n`\r\nconst CartBTN = styled.div`\r\n  position: relative;\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  opacity: ${({ $shouldHide }) => ($shouldHide ? 0 : 1)};\r\n  span {\r\n    position: absolute;\r\n    top: -6px;\r\n    right: -10px;\r\n    display: inline-block;\r\n    width: 20px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    background: #8a3f1a;\r\n    background: ${COLOR.warning_hover};\r\n    color: ${COLOR.text_light};\r\n    font-size: ${FONT_SIZE.xs};\r\n    line-height: 20px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: 1;\r\n    margin-right: 30px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    top: -37px;\r\n    right: 60px;\r\n    span {\r\n      font-size: ${FONT_SIZE.sm};\r\n      line-height: 18px;\r\n      top: 0px;\r\n      right: -8px;\r\n    }\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 16vw;\r\n  }\r\n`\r\n\r\nexport {\r\n  DesktopBar,\r\n  DesktopContainer,\r\n  Nav,\r\n  LeftIcons,\r\n  RightIcons,\r\n  LOGO,\r\n  BurgerBTN,\r\n  CloseBTN,\r\n  SearchBTN,\r\n  AccountBTN,\r\n  CartBTN\r\n}\r\n","import { useEffect, useState, useContext } from 'react'\r\nimport { LocalStorageContext } from '../../context'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport CategoryMenu from './CategoryMenu'\r\nimport CartMenu from '../cartSystem/CartMenu'\r\nimport AccountMenu from './AccountMenu'\r\nimport SearchMenu from './SearchMenu'\r\nimport {\r\n  DesktopBar,\r\n  DesktopContainer,\r\n  Nav,\r\n  LeftIcons,\r\n  RightIcons,\r\n  LOGO,\r\n  BurgerBTN,\r\n  CloseBTN,\r\n  SearchBTN,\r\n  AccountBTN,\r\n  CartBTN\r\n} from './NavbarStyled'\r\n\r\nexport default function Navbar() {\r\n  const [menu, setMenu] = useState('')\r\n  const { totalItems } = useContext(LocalStorageContext)\r\n  const handleHover = (name) => {\r\n    if (window.innerWidth < 1200) return\r\n    setMenu(name)\r\n  }\r\n  const { pathname } = useLocation()\r\n  useEffect(() => {\r\n    setMenu('')\r\n  }, [pathname, setMenu])\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth > 1200) return\r\n    if (menu) return (document.body.style.overflowY = 'hidden')\r\n    if (!menu) return (document.body.style.overflowY = 'scroll')\r\n  }, [menu])\r\n\r\n  return (\r\n    <>\r\n      <DesktopBar />\r\n      <DesktopContainer>\r\n        <Nav>\r\n          <LeftIcons>\r\n            <BurgerBTN\r\n              onClick={() => {\r\n                setMenu('category')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faBars} />\r\n            </BurgerBTN>\r\n            <CloseBTN\r\n              onClick={() => {\r\n                setMenu('')\r\n              }}\r\n              $isClicked={menu !== '' ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faTimes} />\r\n            </CloseBTN>\r\n            <SearchBTN\r\n              onClick={() => {\r\n                setMenu('search')\r\n              }}\r\n              onMouseOver={() => {\r\n                handleHover('search')\r\n              }}\r\n              onMouseOut={() => {\r\n                handleHover('')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </SearchBTN>\r\n          </LeftIcons>\r\n          <LOGO to='/'>DAYEAYEAYEA</LOGO>\r\n          <RightIcons>\r\n            <AccountBTN\r\n              onClick={() => {\r\n                setMenu('account')\r\n              }}\r\n              onMouseOver={() => {\r\n                handleHover('account')\r\n              }}\r\n              onMouseOut={() => {\r\n                handleHover('')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faUserCircle} />\r\n            </AccountBTN>\r\n            <CartBTN\r\n              onClick={() => {\r\n                setMenu('cart')\r\n              }}\r\n              onMouseEnter={() => {\r\n                handleHover('cart')\r\n              }}\r\n              onMouseLeave={() => {\r\n                handleHover('')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faShoppingCart} />\r\n              {totalItems ? <span>{totalItems}</span> : null}\r\n            </CartBTN>\r\n          </RightIcons>\r\n        </Nav>\r\n        <CategoryMenu $isOpen={menu === 'category' ? true : false} />\r\n        <CartMenu\r\n          handleHover={handleHover}\r\n          $isOpen={menu === 'cart' ? true : false}\r\n          $menu={menu}\r\n        />\r\n        <AccountMenu\r\n          handleHover={handleHover}\r\n          $isOpen={menu === 'account' ? true : false}\r\n          $menu={menu}\r\n          $setMenu={setMenu}\r\n        />\r\n        <SearchMenu\r\n          handleHover={handleHover}\r\n          $isOpen={menu === 'search' ? true : false}\r\n          $menu={menu}\r\n        />\r\n      </DesktopContainer>\r\n    </>\r\n  )\r\n}\r\n","import styled from \"styled-components\";\r\nimport { COLOR, FONT, FONT_SIZE, MEDIA_QUERY } from \"../constants/style\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FooterContainer = styled.div`\r\n  width: 100%;\r\n  font-family: ${FONT.logo};\r\n  background: ${COLOR.primary_dark};\r\n  color: ${COLOR.text_light};\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  padding-top: 20px;\r\n  padding-bottom: 80px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n`;\r\nconst ColumnContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 10px;\r\n    width: unset;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 10px;\r\n    width: unset;\r\n  }\r\n`;\r\nconst Column = styled.div`\r\n  padding: 10px;\r\n  width: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 160px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 200px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`;\r\nconst ColumnTitle = styled.div`\r\n  width: 80%;\r\n  white-space:nowrap;\r\n  text-align: center;\r\n  padding: 8px 0;\r\n  margin-bottom: 8px;\r\n  border-bottom: 1px solid ${COLOR.text_light};\r\n  color: ${COLOR.text_light};\\\r\n`;\r\nconst PageLink = styled(Link)`\r\n  text-decoration: none;\r\n  color: ${COLOR.text_light};\r\n  padding: 2px 0;\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n`;\r\nconst ColumnDesc = styled.div`\r\n  text-align: center;\r\n  color: ${COLOR.text_light};\r\n  padding: 2px 0;\r\n  p {\r\n    margin: 2px;\r\n    color: ${COLOR.text_light};\r\n    font-size: ${FONT_SIZE.xs};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.sm};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.sm};\r\n    }\r\n  }\r\n`;\r\nconst Copyright = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  color: ${COLOR.text_light};\r\n  text-align: center;\r\n  font-size: ${FONT_SIZE.sm};\r\n  padding: 20px 0;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`;\r\nexport default function Footer() {\r\n  return (\r\n    <FooterContainer>\r\n      <ColumnContainer>\r\n        <Column>\r\n          <ColumnTitle>INFORMATION</ColumnTitle>\r\n          <PageLink to=\"/info/notice\">購物需知</PageLink>\r\n          <PageLink to=\"/info/FAQ\">常見問題</PageLink>\r\n          <PageLink to=\"/info/privacy\">隱私權條款</PageLink>\r\n        </Column>\r\n        <Column>\r\n          <ColumnTitle>ABOUT US</ColumnTitle>\r\n          <PageLink to=\"/info/brand\">品牌理念</PageLink>\r\n          <PageLink to=\"/info/join\">加入我們</PageLink>\r\n        </Column>\r\n      </ColumnContainer>\r\n      <ColumnContainer>\r\n        <Column>\r\n          <ColumnTitle>STORE LOCATION</ColumnTitle>\r\n          <ColumnDesc>\r\n            門市資訊<p>台北市大安區師大路 88 號</p>\r\n          </ColumnDesc>\r\n        </Column>\r\n        <Column>\r\n          <ColumnTitle>CONTACT</ColumnTitle>\r\n          <ColumnDesc>\r\n            客服專線<p>02-2829-3031</p>\r\n          </ColumnDesc>\r\n          <ColumnDesc>\r\n            客服信箱<p>dayeayeayea@gmail.com</p>\r\n          </ColumnDesc>\r\n        </Column>\r\n      </ColumnContainer>\r\n      <Copyright>© 2021 DAYEAYEAYEA - All Rights Reserved.</Copyright>\r\n    </FooterContainer>\r\n  );\r\n}\r\n","export const BASE_URL = 'https://api.coolizz.tw'\r\n","import { useState, useMemo, useCallback } from 'react'\r\nimport { getTokenFromLocalStorage } from '../utils'\r\nimport { BASE_URL } from '../constants/baseURL'\r\n\r\nconst useFetch = (url, options) => {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [value, setValue] = useState({})\r\n  const [error, setError] = useState(null)\r\n  const targetURL = useMemo(\r\n    () => (/^https/.test(url) ? url : `${BASE_URL}${url}`),\r\n    [url]\r\n  )\r\n\r\n  const fetchData = useCallback(\r\n    (args) => {\r\n      let requestOption = {\r\n        suffixPath: '',\r\n        bodyData: null,\r\n        handler: undefined,\r\n        errorHandler: undefined\r\n      }\r\n      if (args && typeof args === 'object') {\r\n        requestOption = { ...requestOption, ...args }\r\n      }\r\n      const { suffixPath, bodyData, handler, errorHandler } = {\r\n        ...requestOption\r\n      }\r\n\r\n      ;(async () => {\r\n        try {\r\n          setIsLoading(true)\r\n          setValue({})\r\n          setError(null)\r\n          const DEFAULT_OPTIONS = {\r\n            method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `Bearer ${getTokenFromLocalStorage()}`\r\n            }\r\n          }\r\n          const body = bodyData && JSON.stringify(bodyData)\r\n          const res = await fetch(targetURL + (suffixPath || ''), {\r\n            ...DEFAULT_OPTIONS,\r\n            ...options,\r\n            body\r\n          })\r\n          const data = await res.json()\r\n          setValue(data)\r\n          if (!/^2\\d{2}$/.test(res.status)) throw new Error(data.message)\r\n          if (handler) handler(data)\r\n        } catch (error) {\r\n          if (errorHandler) errorHandler(error)\r\n          setError(error)\r\n        } finally {\r\n          setIsLoading(false)\r\n        }\r\n      })()\r\n    },\r\n    [targetURL, options]\r\n  )\r\n\r\n  return {\r\n    isLoading,\r\n    value,\r\n    error,\r\n    fetchData\r\n  }\r\n}\r\n\r\nexport default useFetch\r\n","import styled from 'styled-components'\r\nimport { useContext } from 'react'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { ModalContext } from '../context'\r\n\r\nconst FixedBackground = styled.div`\r\n  position: fixed;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst ModalContent = styled.div`\r\n  background: ${COLOR.light};\r\n  font-size: ${FONT_SIZE.lg};\r\n  color: ${COLOR.text_dark};\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: ${(props) =>\r\n    props.isNavClick ? 'translate(-24%, -50%)' : 'translate(-50%, -50%)'};\r\n  height: 220px;\r\n  width: 315px;\r\n  margin: 0px auto;\r\n  padding: 20px;\r\n  z-index: 4;\r\n  border-radius: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-align: center;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 260px;\r\n    width: 420px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 260px;\r\n    width: 420px;\r\n  }\r\n`\r\n\r\nconst ModalIconDiv = styled.div`\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst ModalBtnDiv = styled.div`\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n`\r\n\r\nconst ModalContentDiv = styled.div`\r\n  word-wrap: break-word;\r\n  text-align: center;\r\n`\r\n\r\nconst CancelRoundedColorIcon = styled(FontAwesomeIcon)`\r\n  position: absolute;\r\n  top: 12px;\r\n  left: 15px;\r\n  color: ${COLOR.grey};\r\n  font-size: 26px;\r\n  cursor: pointer;\r\n`\r\n\r\nfunction CloseButton({ onClick }) {\r\n  return <CancelRoundedColorIcon icon={faTimesCircle} onClick={onClick} />\r\n}\r\n\r\nfunction ModalIcon({ icon }) {\r\n  return <ModalIconDiv>{icon}</ModalIconDiv>\r\n}\r\n\r\nfunction ModalButton({ buttonOne, buttonTwo }) {\r\n  return (\r\n    <ModalBtnDiv>\r\n      {buttonOne}\r\n      {buttonTwo}\r\n    </ModalBtnDiv>\r\n  )\r\n}\r\n\r\nfunction GeneralModal({ icon, content, buttonOne, buttonTwo, open, onClose }) {\r\n  if (!open) return null\r\n  return (\r\n    <ModalContent>\r\n      <CloseButton onClick={onClose} />\r\n      <ModalIcon icon={icon} />\r\n      <ModalContentDiv>{content}</ModalContentDiv>\r\n      <ModalButton buttonOne={buttonOne} buttonTwo={buttonTwo}></ModalButton>\r\n    </ModalContent>\r\n  )\r\n}\r\n\r\nfunction FullModal({ icon, content, buttonOne, buttonTwo, open, onClose }) {\r\n  const { isNavClick } = useContext(ModalContext)\r\n  if (!open) return null\r\n  return (\r\n    <div>\r\n      <FixedBackground onClick={onClose} />\r\n      <ModalContent isNavClick={isNavClick}>\r\n        <CloseButton onClick={onClose} />\r\n        <ModalIcon icon={icon} />\r\n        <ModalContentDiv>{content}</ModalContentDiv>\r\n        <ModalButton buttonOne={buttonOne} buttonTwo={buttonTwo}></ModalButton>\r\n      </ModalContent>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { FullModal, GeneralModal }\r\n","import { useState, useCallback } from 'react'\r\nimport { FullModal } from '../components/Modal'\r\n\r\n\r\nconst useModal = (initialContent = '') => {\r\n  const [isModal, setIsModal] = useState(false)\r\n  const [value, setValue] = useState(initialContent)\r\n  const handleModalOpen = useCallback((content) => {\r\n    if (content) setValue(content)\r\n    setIsModal(true)\r\n  }, [])\r\n  const handleModalClose = useCallback(() => {\r\n    setValue(initialContent)\r\n    setIsModal(false)\r\n  }, [initialContent])\r\n\r\n  const Modal = ({ buttonOne, buttonTwo }) => {\r\n    return (\r\n      <FullModal\r\n        open={isModal}\r\n        content={value}\r\n        onClose={handleModalClose}\r\n        buttonOne={buttonOne}\r\n        buttonTwo={buttonTwo}\r\n      />\r\n    )\r\n  }\r\n\r\n  return { isModal, setIsModal, handleModalOpen, handleModalClose, Modal }\r\n}\r\n\r\nexport default useModal","import styled from 'styled-components'\r\nimport { css } from '@emotion/react'\r\nimport ClockLoader from 'react-spinners/ClockLoader'\r\nimport { COLOR } from '../constants/style'\r\n\r\nconst FixedBackground = styled.div`\r\n  position: fixed;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst IsLoadingStyle = styled.div`\r\n  margin: 0 auto;\r\n  position: fixed;\r\n  z-index: 4;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`\r\n\r\nexport function IsLoadingComponent() {\r\n  return (\r\n    <FixedBackground>\r\n      <IsLoadingStyle>\r\n        <ClockLoader\r\n          color={COLOR.primary_dark}\r\n          css={override}\r\n          size='150px'\r\n          speedMultiplier='2'\r\n        />\r\n      </IsLoadingStyle>\r\n    </FixedBackground>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nconst useMediaQuery = (query) => {\r\n  const [mediaMatch, setMediaMatch] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const media = window.matchMedia(query)\r\n    if (media.matches !== mediaMatch) {\r\n      setMediaMatch(media.matches)\r\n    }\r\n    const mediaListener = () => setMediaMatch(media.matches)\r\n    window.addEventListener('resize', mediaListener)\r\n    return () => window.removeEventListener('resize', mediaListener)\r\n  }, [mediaMatch, query])\r\n\r\n  return mediaMatch\r\n}\r\n\r\nexport default useMediaQuery\r\n","import styled from 'styled-components'\r\nimport { useMemo, useContext, useState, useEffect } from 'react'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { ShoppingCarBtn, ShoppingCarWhiteBtn, GeneralBtn } from '../Button'\r\nimport { LocalStorageContext } from '../../context'\r\nimport { formatPrice, getItemsFromLocalStorage } from '../../utils'\r\n\r\nconst CardContainerDiv = styled.div`\r\n  margin: 8px 4px;\r\n  width: 44%;\r\n  height: 275px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  position: relative;\r\n  ${(props) =>\r\n    props.status === 'off' &&\r\n    `\r\n    opacity: 0.5;\r\n  `}\r\n  ${(props) =>\r\n    props.stockQuantity === 0 &&\r\n    `\r\n    opacity: 0.5;\r\n  `}\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin: 8px 4px;\r\n    width: 44%;\r\n    height: 420px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 15px 4px;\r\n    width: 21%;\r\n    height: 390px;\r\n  }\r\n`\r\n\r\nconst CardLink = styled(Link)`\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 90%;\r\n    margin-bottom: 10px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 90%;\r\n    margin-bottom: 10px;\r\n  }\r\n`\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n`\r\n\r\nconst ImgContainer = styled.div`\r\n  width: 100%;\r\n  height: 65%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  position: relative;\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 70%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 60%;\r\n  }\r\n`\r\nconst ProductInfoContainer = styled.div`\r\n  width: 100%;\r\n  height: 35%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 30%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 40%;\r\n  }\r\n`\r\n\r\nconst TitleContainer = styled.div`\r\n  width: 100%;\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.text_primary_dark};\r\n  margin: 3px 0px;\r\n  text-align: left;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n    margin-top: 15px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n    margin-top: 15px;\r\n  }\r\n`\r\n\r\nconst PriceContainer = styled.div`\r\n  width: 100%;\r\n  text-align: left;\r\n  flex-wrap: wrap;\r\n  margin: 3px 0px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin: 5px 0px 15px 0px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 12px 0px 20px 0px;\r\n  }\r\n`\r\n\r\nconst PriceStyle = styled.span`\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.accent};\r\n  font-weight: bold;\r\n  text-align: left;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.discount &&\r\n    `\r\n    font-size: ${FONT_SIZE.xs} !important;\r\n    text-decoration: line-through;\r\n  `}\r\n`\r\nconst SoldOut = styled.div`\r\n  background: ${COLOR.grey};\r\n  color: ${COLOR.text_light};\r\n  font-size: ${FONT_SIZE.sm};\r\n  text-align: center;\r\n  width: 35%;\r\n  height: 16%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n    height: 13%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n    height: 13%;\r\n  }\r\n`\r\n\r\nconst DiscountPriceStyle = styled(PriceStyle)`\r\n  color: ${COLOR.warning};\r\n  margin-left: 6px;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\n\r\nexport function ProductCard({\r\n  id,\r\n  name,\r\n  price,\r\n  imgUrl,\r\n  discountPrice,\r\n  imgs,\r\n  status,\r\n  stockQuantity,\r\n  handleModalOpen\r\n}) {\r\n  const { handleAddCartItem } = useContext(LocalStorageContext)\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  const localCart = JSON.parse(getItemsFromLocalStorage())\r\n  let hasDiscount = price !== discountPrice ? true : false\r\n  let isProductInCart = localCart\r\n    ? localCart.filter((item) => item.id === parseInt(id))\r\n    : []\r\n  let cartQuantity =\r\n    isProductInCart.length > 0 ? isProductInCart[0].quantity : 0\r\n  const stock = stockQuantity - cartQuantity\r\n  const [inStock, setInStock] = useState(stock)\r\n  const quantity = 1\r\n  const productInfo = useMemo(\r\n    () => ({\r\n      name,\r\n      price,\r\n      discountPrice,\r\n      imgs,\r\n      quantity\r\n    }),\r\n    [name, price, discountPrice, imgs]\r\n  )\r\n\r\n  useEffect(() => {\r\n    setInStock(stock)\r\n  }, [stock])\r\n\r\n  const handleAddProductInCart = () => {\r\n    if (inStock > 0) {\r\n      setInStock(inStock - 1)\r\n      handleAddCartItem(parseInt(id), productInfo)\r\n      return handleModalOpen('已成功加入購物車 ! ')\r\n    }\r\n    if (inStock === 0) {\r\n      return handleModalOpen('此商品達庫存上限')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CardContainerDiv status={status} stockQuantity={stockQuantity}>\r\n      <CardLink to={`/products/${id}`}>\r\n        <ImgContainer\r\n          style={{ backgroundImage: `url(${imgUrl})` }}\r\n          status={status}\r\n        >\r\n          {(stockQuantity === 0 || status === 'off') && <SoldOut>售完</SoldOut>}\r\n        </ImgContainer>\r\n        <ProductInfoContainer>\r\n          <TitleContainer>{name}</TitleContainer>\r\n          <PriceContainer>\r\n            <PriceStyle discount={hasDiscount}>{formatPrice(price)}</PriceStyle>\r\n            {hasDiscount && (\r\n              <DiscountPriceStyle>\r\n                {formatPrice(discountPrice)}\r\n              </DiscountPriceStyle>\r\n            )}\r\n          </PriceContainer>\r\n        </ProductInfoContainer>\r\n      </CardLink>\r\n      {status === 'on' && (\r\n        <ButtonContainer>\r\n          {isDesktop ? (\r\n            <ShoppingCarBtn color='primary' onClick={handleAddProductInCart} />\r\n          ) : (\r\n            <ShoppingCarWhiteBtn onClick={handleAddProductInCart} />\r\n          )}\r\n        </ButtonContainer>\r\n      )}\r\n      {(stockQuantity === 0 || status === 'off') && (\r\n        <ButtonContainer>\r\n          <GeneralBtn>售完</GeneralBtn>\r\n        </ButtonContainer>\r\n      )}\r\n    </CardContainerDiv>\r\n  )\r\n}\r\n\r\nexport function WhiteCard() {\r\n  return <CardContainerDiv></CardContainerDiv>\r\n}\r\n","import styled from 'styled-components'\r\nimport { MEDIA_QUERY } from '../constants/style'\r\n\r\n// 撐頁面高度用，已加在 Route 外面\r\nexport const PageHeight = styled.div`\r\n  position: relative;\r\n  margin-top: 49px;\r\n  width: 100%;\r\n  flex: 1;\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 121px;\r\n  }\r\n`\r\n\r\nexport const AdminPageHeight = styled.div``\r\n\r\n// 非滿版用 PageWidth, AdminPageWidth 包\r\nexport const PageWidth = styled.div`\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  ${MEDIA_QUERY.desktop} {\r\n    max-width: 1200px;\r\n  }\r\n`\r\nexport const AdminPageWidth = styled.div``\r\n\r\n// 滿版用 FullWidth 包\r\nexport const FullWidth = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n`\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE } from '../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst PaginatorButtonStyle = styled(Link)`\r\n  background: transport;\r\n  color: ${COLOR.text_primary_light};\r\n  margin: 0px 4px;\r\n  padding: 0px 4px;\r\n  font-size: ${FONT_SIZE.md};\r\n\r\n  &:hover {\r\n    color: ${COLOR.text_primary_dark};\r\n    border-bottom: 1px solid ${COLOR.border_primary};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n  font-weight: bold;\r\n  border-bottom: 1px solid ${COLOR.text_primary_dark};\r\n  `}\r\n`\r\n\r\nexport function PaginatorButton({ to, page, active }) {\r\n  return (\r\n    <PaginatorButtonStyle key={page} to={to} $active={active}>\r\n      {page}\r\n    </PaginatorButtonStyle>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useEffect } from 'react'\r\nimport { useParams, useHistory, useLocation } from 'react-router-dom'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useModal from '../../hooks/useModal'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { IsLoadingComponent as Loading } from '../../components/IsLoading'\r\nimport {\r\n  ProductCard,\r\n  WhiteCard\r\n} from '../../components/productSystem/ProductCard'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { PageWidth, FullWidth } from '../../components/general'\r\nimport { PaginatorButton } from '../../components/Paginator'\r\nimport { setNumInArray, countWhiteCardAmount } from '../../utils'\r\n\r\nconst ArticleImgContainer = styled.div`\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  height: 200px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 360px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 440px;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 15px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 20px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 30px;\r\n  }\r\n`\r\n\r\nconst TitleBorder = styled.div`\r\n  margin-top: 8px;\r\n  width: 25%;\r\n  border-bottom: 3px solid ${COLOR.primary_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 10%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 5%;\r\n  }\r\n`\r\nconst ContentDiv = styled.div`\r\n  margin: 40px auto;\r\n  width: 70%;\r\n  text-align: left;\r\n  white-space: pre-wrap;\r\n  line-height: 2em;\r\n`\r\n\r\nconst ProductCardsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 40px 0px;\r\n  flex-wrap: wrap;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto 40px auto;\r\n`\r\n\r\nexport default function Articles() {\r\n  const { id, page } = useParams()\r\n  const pathname = useLocation().pathname\r\n  const { handleModalOpen, Modal } = useModal()\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  let history = useHistory()\r\n  let articleSort\r\n  if (id) {\r\n    if (id === '1') {\r\n      articleSort = 'fragrance'\r\n    } else {\r\n      articleSort = id === '2' ? 'dining' : 'camping'\r\n    }\r\n  }\r\n\r\n  const {\r\n    isLoading,\r\n    value,\r\n    fetchData: getArticleById\r\n  } = useFetch(`/articles/${id}`)\r\n  const {\r\n    isLoading: ProductsLoading,\r\n    value: Products,\r\n    fetchData: getProductsByArticle\r\n  } = useFetch(`/products/article/${articleSort}/${page}`)\r\n\r\n  useEffect(() => {\r\n    getArticleById({\r\n      handler: () => {\r\n        getProductsByArticle({\r\n          errorHandler: () => {\r\n            history.push('/404')\r\n          }\r\n        })\r\n      },\r\n      errorHandler: () => {\r\n        history.push('/404')\r\n      }\r\n    })\r\n  }, [id, page, articleSort, history, getArticleById, getProductsByArticle])\r\n\r\n  const whiteCardAmount = countWhiteCardAmount(\r\n    Products?.data?.length,\r\n    isDesktop\r\n  )\r\n\r\n  return (\r\n    <>\r\n      {isLoading || ProductsLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <FullWidth>\r\n            <ArticleImgContainer\r\n              style={{ backgroundImage: `url(${value?.data?.imgUrl})` }}\r\n            />\r\n          </FullWidth>\r\n          <PageWidth>\r\n            <Modal />\r\n            <Title>\r\n              {value?.data?.title}\r\n              <TitleBorder />\r\n            </Title>\r\n            <ContentDiv>{value?.data?.content}</ContentDiv>\r\n            <ProductCardsContainer>\r\n              {Products?.data?.map(\r\n                ({\r\n                  id,\r\n                  name,\r\n                  price,\r\n                  Product_imgs,\r\n                  discountPrice,\r\n                  status,\r\n                  quantity\r\n                }) => {\r\n                  const length = Product_imgs.length\r\n                  const imgUrl = isMobile\r\n                    ? Product_imgs[length - 1].imgUrlSm\r\n                    : Product_imgs[length - 1].imgUrlMd\r\n                  return (\r\n                    <ProductCard\r\n                      id={id}\r\n                      key={id}\r\n                      imgs={Product_imgs}\r\n                      imgUrl={imgUrl}\r\n                      name={name}\r\n                      price={price}\r\n                      discountPrice={discountPrice}\r\n                      status={status}\r\n                      stockQuantity={quantity}\r\n                      handleModalOpen={handleModalOpen}\r\n                    />\r\n                  )\r\n                }\r\n              )}\r\n              {whiteCardAmount.length > 0 &&\r\n                whiteCardAmount.map((amount) => {\r\n                  return <WhiteCard key={amount} />\r\n                })}\r\n            </ProductCardsContainer>\r\n            {setNumInArray(Products?.totalPage) && (\r\n              <PaginatorDiv>\r\n                {setNumInArray(Products?.totalPage).map((singlePage) => {\r\n                  const linkDirection = `/articles/${id}/${singlePage}`\r\n                  return (\r\n                    <PaginatorButton\r\n                      key={singlePage}\r\n                      page={singlePage}\r\n                      to={linkDirection}\r\n                      active={pathname === linkDirection}\r\n                    ></PaginatorButton>\r\n                  )\r\n                })}\r\n              </PaginatorDiv>\r\n            )}\r\n          </PageWidth>\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import { useLocation, Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\nexport const StepsWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-width: 700px;\r\n  margin: 40px auto;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 70%;\r\n  }\r\n`\r\nexport const Step = styled.div`\r\n  transition: 0.2s;\r\n  color: ${COLOR.text_primary_light};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n  color: ${COLOR.text_warning};\r\n  `}\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n  }\r\n`\r\nexport const StepTitle = styled.div`\r\n  border: 3px solid;\r\n  border-radius: 50%;\r\n  color: inherit;\r\n  height: 40px;\r\n  width: 40px;\r\n  line-height: 35px;\r\n  font-weight: bold;\r\n`\r\nexport const StepContent = styled.div`\r\n  color: inherit;\r\n  font-weight: bold;\r\n  margin: 10px 0px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 0px 10px;\r\n  }\r\n`\r\nexport const Steps = () => {\r\n  const location = useLocation()\r\n  return (\r\n    <StepsWrapper>\r\n      <Step $active={location.pathname.includes('step1')}>\r\n        <StepTitle children={1} />\r\n        <StepContent children={'購物車明細'} />\r\n      </Step>\r\n      <FontAwesomeIcon\r\n        icon={faChevronRight}\r\n        color={`${COLOR.text_primary_light}`}\r\n      />\r\n      <Step $active={location.pathname.includes('step2')}>\r\n        <StepTitle children={2} />\r\n        <StepContent children={'填寫寄送資料'} />\r\n      </Step>\r\n      <FontAwesomeIcon\r\n        icon={faChevronRight}\r\n        color={`${COLOR.text_primary_light}`}\r\n      />\r\n      <Step $active={location.pathname.includes('step3')}>\r\n        <StepTitle children={3} />\r\n        <StepContent children={'訂單完成'} />\r\n      </Step>\r\n    </StepsWrapper>\r\n  )\r\n}\r\nexport const Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin: 20px 0px;\r\n  font-weight: bold;\r\n  text-align: left;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 0px 20px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    padding: 0px 20px;\r\n  }\r\n`\r\nexport const CartTitles = styled.div`\r\n  display: none;\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: flex;\r\n    background: ${COLOR.primary_dark};\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: flex;\r\n    background: ${COLOR.primary_dark};\r\n    justify-content: space-around;\r\n  }\r\n`\r\nexport const TitleWidth = styled.div`\r\n  width: 100px;\r\n`\r\nexport const TitleGroup = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  ${MEDIA_QUERY.tablet} {\r\n    & div:nth-child(3) {\r\n      margin-right: 20px;\r\n    }\r\n    & div:nth-child(2) {\r\n      margin-left: 25px;\r\n    }\r\n  }\r\n`\r\nexport const CartTitle = styled.div`\r\n  color: ${COLOR.text_light};\r\n  font-weight: bold;\r\n  padding: 10px;\r\n`\r\n\r\nexport const Item = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  border-bottom: solid 1px ${COLOR.border_primary};\r\n  padding: 20px 0px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 20px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    padding: 20px;\r\n  }\r\n`\r\nexport const ItemInfo = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: cneter;\r\n  flex-wrap: wrap;\r\n  padding: 0px 10px;\r\n  justify-content: flex-start;\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n  }\r\n`\r\nexport const ItemImg = styled(Link)`\r\n  min-width: 100px;\r\n  height: 100px;\r\n  background: url(${(props) => props.img}) no-repeat center;\r\n  background-size: cover;\r\n`\r\n\r\nexport const ItemName = styled(Link)`\r\n  text-align: left;\r\n  margin-right: 30px;\r\n  color: ${COLOR.text_dark};\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-right: 0px;\r\n    width: 30%;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-right: 0px;\r\n    width: 45%;\r\n  }\r\n`\r\n\r\nexport const ItemContent = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n  width: 100%;\r\n  margin-top: 10px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    margin-top: 0px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    margin-top: 0px;\r\n    margin-right: 10px;\r\n  }\r\n`\r\nexport const ItemPrice = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  &:before {\r\n    content: 'x';\r\n    position: absolute;\r\n    left: -10px;\r\n    top: -2px;\r\n    font-weight: bold;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    &:before {\r\n      content: '';\r\n    }\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    &:before {\r\n      content: '';\r\n    }\r\n  }\r\n`\r\nexport const ItemPriceHidden = styled(ItemPrice)`\r\n  display: none;\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: initial;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: initial;\r\n  }\r\n`\r\nexport const ItemCount = styled.div`\r\n  width: 100%;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-right: 25px;\r\n    width: 250px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-right: 25px;\r\n    width: 250px;\r\n  }\r\n`\r\nexport const ItemCountHidden = styled(ItemCount)`\r\n  display: none;\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: initial;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: initial;\r\n  }\r\n`\r\nexport const ItemCountMobile = styled(ItemCount)`\r\n  display: initial;\r\n  text-align: left;\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: none;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: none;\r\n  }\r\n`\r\nexport const ItemDelete = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 20px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 10px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 10px;\r\n  }\r\n`\r\nexport const TotalPrice = styled.div`\r\n  text-align: right;\r\n  padding: 10px;\r\n`\r\nexport const BtnFlex = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 50px;\r\n  & a{\r\n    maxWidth: '200px',\r\n  width: '45%',\r\n  margin: '20px 0px'\r\n  }\r\n`\r\nexport const BtnFlexCenter = styled(BtnFlex)`\r\n  justify-content: center;\r\n  & button {\r\n    max-width: initial;\r\n    width: 100%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    & button {\r\n      max-width: 200px;\r\n      width: 45%;\r\n    }\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    & button {\r\n      max-width: 200px;\r\n      width: 45%;\r\n    }\r\n  }\r\n`\r\nexport const LinkStyle = {\r\n  maxWidth: '200px',\r\n  width: '45%',\r\n  margin: '20px 0px'\r\n}\r\n\r\nexport const FormTitle = styled(Title)`\r\n  padding: 0;\r\n`\r\nexport const FormWrapper = styled.div`\r\n  width: 100%;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  padding: 20px;\r\n  margin: 10px auto;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 20px 50px;\r\n    margin: 20px;\r\n  }\r\n`\r\n\r\nexport const Form = styled.form`\r\n  margin: 30px auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  ${MEDIA_QUERY.desktop} {\r\n    & > div {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-around;\r\n    }\r\n  }\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 20px;\r\n  }\r\n`\r\nexport const InputWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 30px 0px;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n`\r\nexport const InputTitle = styled.div``\r\nexport const RadionLabel = styled.span`\r\n  position: relative;\r\n  &:before {\r\n    content: '';\r\n    display: block;\r\n    width: 1em;\r\n    height: 1em;\r\n    border-radius: 50%;\r\n    border: 0.1em solid ${COLOR.warning};\r\n    position: absolute;\r\n    left: -2em;\r\n    top: 0.2em;\r\n  }\r\n`\r\nexport const Input = styled.input`\r\n  display: block;\r\n  border: solid 1px ${COLOR.border_grey};\r\n  padding: 10px;\r\n  flex: 1 1 0;\r\n  border-radius: 3px;\r\n  margin-left: 20px;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${COLOR.border_grey};\r\n  }\r\n  ${(props) =>\r\n    props.type === 'radio' &&\r\n    `\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n    flex: initial;\r\n    margin-right: 20px;\r\n    &:checked + span {\r\n      transform: translateX(2.5px) scale(1.05);\r\n      font-weight: bold;\r\n    }\r\n    &:checked + span:before {\r\n      background: ${COLOR.warning};\r\n      \r\n    }\r\n  `}\r\n`\r\nexport const Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 20px 0;\r\n  cursor: pointer;\r\n`\r\nexport const RadioControl = styled.span`\r\n  display: block;\r\n  width: 1em;\r\n  height: 1em;\r\n  border-radius: 50%;\r\n  border: 0.1em solid ${COLOR.warning};\r\n  transform: translateX(-1em);\r\n`\r\n\r\nexport const ErrorMsg = styled.p`\r\n  margin-top: 10px;\r\n  color: ${COLOR.text_warning};\r\n  font-weight: bold;\r\n  text-align: left;\r\n`\r\nexport const DeliveryData = styled.div`\r\n  text-align: left;\r\n  padding: 10px 20px;\r\n`\r\nexport const WarningMessage = styled.p`\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.warning};\r\n  margin-top: 8px;\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: absolute;\r\n    right: 5.5%;\r\n    width: 160px;\r\n    top: 65%;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    position: absolute;\r\n    right: 5.5%;\r\n    width: 160px;\r\n    top: 65%;\r\n  }\r\n`\r\nexport const MsgTitle = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin-top: 30px;\r\n  font-weight: bold;\r\n`\r\nexport const Select = styled.select`\r\n  padding: 10px;\r\n  margin-left: 20px;\r\n  border: solid 1px #cecece;\r\n  min-width: 30%;\r\n  flex: 1;\r\n`\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Counter = styled.div`\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: solid 1.5px;\r\n  padding: 5px;\r\n`\r\nconst Number = styled.input`\r\n  background: transparent;\r\n  text-align: center;\r\n  width: 100%;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  &[type='number'] {\r\n    -moz-appearance: textfield;\r\n  }\r\n`\r\n\r\nexport const ItemCounter = ({\r\n  marginStyle,\r\n  handleCount,\r\n  handleChange,\r\n  handleOnBlur,\r\n  count,\r\n  targetId\r\n}) => {\r\n  const blockInvalidChar = (e) =>\r\n    ['e', 'E', '+', '-'].includes(e.key) && e.preventDefault()\r\n  return (\r\n    <Counter style={marginStyle}>\r\n      <FontAwesomeIcon\r\n        icon={faMinus}\r\n        onClick={() => handleCount('decrement', targetId)}\r\n      />\r\n      <Number\r\n        id={targetId}\r\n        type='number'\r\n        value={count}\r\n        onChange={handleChange}\r\n        onBlur={handleOnBlur}\r\n        onKeyDown={blockInvalidChar}\r\n      />\r\n      <FontAwesomeIcon\r\n        icon={faPlus}\r\n        onClick={() => handleCount('increment', targetId)}\r\n      />\r\n    </Counter>\r\n  )\r\n}\r\n","const BASE_URL = 'https://api.coolizz.tw'\r\n\r\nexport const getProductById = async (id) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useEffect, useState, useContext } from 'react'\r\nimport {\r\n  Item,\r\n  ItemImg,\r\n  ItemName,\r\n  ItemPrice,\r\n  ItemContent,\r\n  ItemDelete,\r\n  ItemInfo,\r\n  WarningMessage\r\n} from './Step'\r\nimport { ItemCounter } from '../Counter'\r\nimport { getProductById } from '../../webAPI/productsAPI'\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { formatPrice } from '../../utils'\r\nimport { ModalContext, OversoldContext } from '../../context'\r\nexport const Cart = ({\r\n  item,\r\n  handleRemoveCartItem,\r\n  handleUpdateCount,\r\n  $setNotAllowed\r\n}) => {\r\n  const [quantity, setQuantity] = useState(item.quantity)\r\n  const [totalQuantity, setTotalQuantity] = useState()\r\n  const [itemStatus, setItemStatus] = useState()\r\n  const [warningMessage, setWarningMessage] = useState('')\r\n  const { setIsModalOpen } = useContext(ModalContext)\r\n  const { isOversold } = useContext(OversoldContext)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const result = await getProductById(item.id)\r\n      if (!result) return\r\n      setItemStatus(result.data.status)\r\n      setTotalQuantity(result.data.quantity)\r\n    })()\r\n    handleUpdateCount(quantity, item.id)\r\n  }, [quantity, handleUpdateCount, item.id])\r\n\r\n  useEffect(() => {\r\n    if (isOversold) {\r\n      if (itemStatus === 'off') {\r\n        setIsModalOpen(true)\r\n        setWarningMessage(`已下架，請移除商品`)\r\n      }\r\n      if (quantity > totalQuantity) {\r\n        setIsModalOpen(true)\r\n        setWarningMessage(`庫存不足，剩餘庫存 ${totalQuantity} 個`)\r\n      }\r\n    }\r\n  }, [\r\n    $setNotAllowed,\r\n    itemStatus,\r\n    setIsModalOpen,\r\n    quantity,\r\n    totalQuantity,\r\n    isOversold\r\n  ])\r\n\r\n  const handleCount = (type) => {\r\n    if (isOversold && itemStatus === 'off') {\r\n      return\r\n    }\r\n    setWarningMessage('')\r\n    if (quantity === '') return setQuantity(1)\r\n    if (type === 'increment') {\r\n      if (quantity >= totalQuantity) {\r\n        setQuantity(totalQuantity)\r\n        return setWarningMessage('已達商品數量上限')\r\n      }\r\n      setQuantity(quantity + 1)\r\n    } else {\r\n      if (quantity <= 1) return setQuantity(1)\r\n      if (quantity > totalQuantity) {\r\n        setQuantity(totalQuantity)\r\n        return setWarningMessage('已達商品數量上限')\r\n      }\r\n      setQuantity(quantity - 1)\r\n    }\r\n  }\r\n\r\n  function handleChange(e) {\r\n    if (isOversold && itemStatus === 'off') {\r\n      return\r\n    }\r\n    setWarningMessage('')\r\n    if (e.target.value > totalQuantity) {\r\n      setWarningMessage('已達商品數量上限')\r\n      return setQuantity(totalQuantity)\r\n    }\r\n    if (e.target.value === '' || e.target.value === '0') {\r\n      setWarningMessage('請填寫數量')\r\n      return e.target.value === ''\r\n        ? setQuantity('')\r\n        : setQuantity(Number(e.target.value))\r\n    }\r\n    setQuantity(Number(e.target.value))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (item.quantity === '') {\r\n      $setNotAllowed(true)\r\n      setWarningMessage('請填寫數量')\r\n    }\r\n  }, [$setNotAllowed, item.quantity])\r\n\r\n  useEffect(() => {\r\n    warningMessage === '請填寫數量'\r\n      ? $setNotAllowed(true)\r\n      : $setNotAllowed(false)\r\n  }, [$setNotAllowed, quantity, warningMessage])\r\n\r\n  return (\r\n    <Item key={item.id}>\r\n      <ItemImg img={item.img} to={`/products/${item.id}`} />\r\n      <ItemInfo>\r\n        <ItemName children={item.name} to={`/products/${item.id}`} />\r\n        <ItemContent>\r\n          <ItemPrice children={formatPrice(item.discountPrice)} />\r\n          <ItemCounter\r\n            marginStyle={{ marginRight: '25px' }}\r\n            handleCount={handleCount}\r\n            handleChange={handleChange}\r\n            count={quantity}\r\n          />\r\n        </ItemContent>\r\n        {warningMessage && <WarningMessage>{warningMessage}</WarningMessage>}\r\n      </ItemInfo>\r\n      <ItemDelete\r\n        icon={faTrashAlt}\r\n        onClick={() => {\r\n          handleRemoveCartItem(item.id)\r\n        }}\r\n      />\r\n    </Item>\r\n  )\r\n}\r\n","import { useCallback, useContext, useEffect, useMemo, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { PageWidth } from '../../../components/general'\r\nimport {\r\n  Title,\r\n  Steps,\r\n  TitleWidth,\r\n  TitleGroup,\r\n  CartTitles,\r\n  CartTitle,\r\n  TotalPrice,\r\n  BtnFlex,\r\n  LinkStyle\r\n} from '../../../components/checkoutSystem/Step'\r\nimport { LocalStorageContext, ModalContext } from '../../../context'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { Cart } from '../../../components/checkoutSystem/step1CartItem'\r\nimport { addItemsToLocalStorage, formatPrice } from '../../../utils'\r\nimport { FullModal } from '../../../components/Modal'\r\nexport default function Step1() {\r\n  const { isModalOpen, handleModalClose } = useContext(ModalContext)\r\n  const [notAllowed, setNotAllowed] = useState('')\r\n  const location = useHistory()\r\n  const { cartItems, setCartItems, totalItems, handleRemoveCartItem } =\r\n    useContext(LocalStorageContext)\r\n\r\n  const totalPrice = useMemo(() => {\r\n    if (!cartItems?.length) return\r\n    return cartItems\r\n      .map((item) => item.discountPrice * item.quantity)\r\n      .reduce((total, num) => total + num)\r\n  }, [cartItems])\r\n\r\n  useEffect(() => {\r\n    if (!cartItems || !cartItems.length) location.push('/')\r\n    addItemsToLocalStorage(cartItems)\r\n  }, [cartItems, location])\r\n\r\n  const handleUpdateCount = useCallback(\r\n    (quantity, id) => {\r\n      setCartItems((c) =>\r\n        c.map((item) => {\r\n          if (item.id !== id) return item\r\n          return {\r\n            ...item,\r\n            quantity: quantity\r\n          }\r\n        })\r\n      )\r\n    },\r\n    [setCartItems]\r\n  )\r\n  return (\r\n    <PageWidth>\r\n      <FullModal\r\n        open={isModalOpen}\r\n        content={'部分商品庫存有異動，請更新購物車再購買'}\r\n        onClose={handleModalClose}\r\n      />\r\n      {cartItems && (\r\n        <>\r\n          <Steps />\r\n          <Title>{`購物車( ${totalItems} 件)`}</Title>\r\n          <CartTitles>\r\n            <TitleWidth />\r\n            <TitleGroup>\r\n              <CartTitle>購買項目</CartTitle>\r\n              <CartTitle>金額</CartTitle>\r\n              <CartTitle>數量</CartTitle>\r\n            </TitleGroup>\r\n          </CartTitles>\r\n          {cartItems.map((item) => (\r\n            <Cart\r\n              key={item.id}\r\n              item={item}\r\n              handleRemoveCartItem={handleRemoveCartItem}\r\n              handleUpdateCount={handleUpdateCount}\r\n              $setNotAllowed={setNotAllowed}\r\n            />\r\n          ))}\r\n          <TotalPrice>{`小計 ${formatPrice(\r\n            totalPrice ? totalPrice : 0\r\n          )}`}</TotalPrice>\r\n          <TotalPrice>運費 NT$80</TotalPrice>\r\n          <TotalPrice>{`總金額 ${formatPrice(totalPrice + 80)}`}</TotalPrice>\r\n          <BtnFlex>\r\n            <Link style={LinkStyle} to='/'>\r\n              <GeneralBtn color='accent' children='繼續購物' />\r\n            </Link>\r\n            {notAllowed ? (\r\n              <Link style={LinkStyle} to='/checkout/step1'>\r\n                <GeneralBtn\r\n                  color='light_grey'\r\n                  buttonStyle={{ cursor: 'not-allowed' }}\r\n                  children='前往結帳'\r\n                />\r\n              </Link>\r\n            ) : (\r\n              <Link style={LinkStyle} to='/checkout/step2'>\r\n                <GeneralBtn color='primary' children='前往結帳' />\r\n              </Link>\r\n            )}\r\n          </BtnFlex>\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY } from '../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\nimport { PageWidth } from '../general'\r\n\r\nconst PageWidthHeight = styled(PageWidth)`\r\n  min-height: 550px;\r\n  height: 100%;\r\n  position: relative;\r\n`\r\nconst AbsoluteCenter = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 90%;\r\n`\r\nconst FormWrapper = styled.div`\r\n  transition: 1.5s;\r\n  max-width: 500px;\r\n  width: 100%;\r\n  margin: 30px auto;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 20px 50px 50px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    padding: 20px 50px 50px;\r\n  }\r\n`\r\nconst Input = styled.input`\r\n  display: block;\r\n  border: solid 1px ${COLOR.border_primary};\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  margin: 30px 0px 10px;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${COLOR.border_primary_dark};\r\n  }\r\n`\r\n\r\nconst ErrorMsg = styled.p`\r\n  margin-top: 10px;\r\n  color: ${COLOR.text_warning};\r\n  font-weight: bold;\r\n  text-align: left;\r\n`\r\nconst SendPassword = styled(Link)`\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  margin-top: 20px;\r\n  display: block;\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n`\r\nconst PasswordInput = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport {\r\n  PageWidthHeight,\r\n  FormWrapper,\r\n  Form,\r\n  Input,\r\n  ErrorMsg,\r\n  SendPassword,\r\n  AbsoluteCenter,\r\n  PasswordInput\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { COLOR } from '../constants/style'\r\nimport styled from 'styled-components'\r\nconst TabWrapper = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n`\r\nconst Tab = styled.div`\r\n  transition: 0.2s ease-out;\r\n  height: 100%;\r\n  width: 100%;\r\n  padding: 10px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  background: ${COLOR.primary_light_tab}66;\r\n  box-shadow: inset 0px -0.5px 0.2px ${COLOR.border_primary_dark}66;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    color: ${COLOR.text_dark};\r\n    background: none;\r\n    box-shadow: none;\r\n  `};\r\n`\r\n// preset 預設顯示 tab\r\nexport const Tabs = ({ tabs, tabsPanel, presetTab, changeTab }) => {\r\n  const [activeTab, setActiveTab] = useState(presetTab)\r\n  useEffect(() => changeTab && setActiveTab(() => changeTab), [changeTab])\r\n\r\n  return (\r\n    <>\r\n      <TabWrapper>\r\n        {tabs.map((tab, index) => (\r\n          <Tab\r\n            key={`tab${index}`}\r\n            $active={activeTab === index}\r\n            onClick={() => {\r\n              setActiveTab(index)\r\n            }}\r\n            children={tab}\r\n          />\r\n        ))}\r\n      </TabWrapper>\r\n      {tabsPanel[activeTab]}\r\n    </>\r\n  )\r\n}\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw'\r\nexport const signIn = async (username, password) => {\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members/login`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username,\r\n        password\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n// const XX= await fetch(XXX)\r\n// return XX\r\n\r\nexport const signUp = async (username, email, password) => {\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username,\r\n        email,\r\n        password\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const getMe = async () => {\r\n  const token = getTokenFromLocalStorage()\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useContext } from 'react'\r\nimport {\r\n  Form,\r\n  Input,\r\n  ErrorMsg,\r\n  SendPassword,\r\n  PasswordInput\r\n} from '../../components/loginSystem/loginCard'\r\nimport { LoginBtn } from '../../components/Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport { signIn } from '../../webAPI/loginAPI'\r\nimport { LoadingContext } from '../../context'\r\nexport default function SignInForm({\r\n  tokenCheck,\r\n  $errMessage,\r\n  $setErrMessage\r\n}) {\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit\r\n  } = useForm()\r\n  const onSubmit = async (submitData) => {\r\n    setIsLoading(true)\r\n    const { username, password } = submitData\r\n    const result = await signIn(username, password)\r\n    if (result.ok === 0) {\r\n      setIsLoading(false)\r\n      return $setErrMessage('帳號或密碼不正確')\r\n    }\r\n    $setErrMessage(null)\r\n    tokenCheck(result.token)\r\n  }\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)}>\r\n      <Input\r\n        type='text'\r\n        placeholder='帳號名稱'\r\n        {...register('username', { required: true })}\r\n      />\r\n      <ErrorMsg>\r\n        {errors.username?.type === 'required' && '請填寫名稱'}\r\n      </ErrorMsg>\r\n      <PasswordInput>\r\n        <Input\r\n          type='password'\r\n          placeholder='密碼'\r\n          {...register('password', { required: true })}\r\n        />\r\n      </PasswordInput>\r\n      <ErrorMsg>\r\n        {errors.password?.type === 'required' && '請填寫密碼'}\r\n      </ErrorMsg>\r\n\r\n      <SendPassword to='/'>忘記密碼?</SendPassword>\r\n      <LoginBtn\r\n        color='accent'\r\n        children='登入'\r\n        buttonStyle={{ marginTop: '20px' }}\r\n      />\r\n      {$errMessage && (\r\n        <ErrorMsg style={{ textAlign: 'center' }}>{$errMessage}</ErrorMsg>\r\n      )}\r\n    </Form>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport {\r\n  Form,\r\n  Input,\r\n  ErrorMsg,\r\n  PasswordInput\r\n} from '../../components/loginSystem/loginCard'\r\nimport { ArrowBtn } from '../../components/Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport { signIn, signUp } from '../../webAPI/loginAPI'\r\nimport { LoadingContext } from '../../context'\r\nexport default function SignUpForm({\r\n  tokenCheck,\r\n  $errMessage,\r\n  $setErrMessage\r\n}) {\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit\r\n  } = useForm()\r\n  const onSubmit = (submitData) => {\r\n    setIsLoading(true)\r\n    const { username, email, password } = submitData\r\n    signUp(username, email, password).then((data) => {\r\n      if (data.ok === 0) {\r\n        setIsLoading(false)\r\n        return $setErrMessage('該帳號或信箱已被註冊')\r\n      }\r\n      signIn(username, password).then((data) => {\r\n        if (data.ok === 0) {\r\n          return $setErrMessage(data.message)\r\n        }\r\n        $setErrMessage(null)\r\n        tokenCheck(data.token)\r\n      })\r\n    })\r\n  }\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)}>\r\n      <Input\r\n        type='text'\r\n        placeholder='帳號名稱'\r\n        {...register('username', { required: true })}\r\n      />\r\n      <ErrorMsg>\r\n        {errors.username?.type === 'required' && '請填寫名稱'}\r\n      </ErrorMsg>\r\n      <Input\r\n        type='email'\r\n        placeholder='電郵'\r\n        {...register('email', { required: true })}\r\n      />\r\n      <ErrorMsg>{errors.email?.type === 'required' && '請填寫電郵'}</ErrorMsg>\r\n      <PasswordInput>\r\n        <Input\r\n          type='password'\r\n          placeholder='密碼，需 6 碼以上的英數混合'\r\n          {...register('password', {\r\n            required: true,\r\n            pattern: /^(?=.*[a-zA-Z])(?=.*\\d)[a-zA-Z\\d]{6,}$/\r\n          })}\r\n        />\r\n      </PasswordInput>\r\n      <ErrorMsg>\r\n        {errors.password?.type === 'required' && '請填寫密碼'}\r\n        {errors.password?.type === 'pattern' &&\r\n          '密碼需為 6 碼以上且含數字及英文'}\r\n      </ErrorMsg>\r\n      <ArrowBtn\r\n        color='accent'\r\n        children='註冊'\r\n        buttonStyle={{ marginTop: '20px' }}\r\n      />\r\n      {$errMessage && (\r\n        <ErrorMsg style={{ textAlign: 'center' }}>{$errMessage}</ErrorMsg>\r\n      )}\r\n    </Form>\r\n  )\r\n}\r\n","import { useState, useContext } from 'react'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport {\r\n  PageWidthHeight,\r\n  FormWrapper,\r\n  AbsoluteCenter\r\n} from '../../components/loginSystem/loginCard'\r\nimport { Tabs } from '../../components/Tab'\r\nimport SignInForm from '../../components/loginSystem/SignInForm'\r\nimport SignUpForm from '../../components/loginSystem/SignUpForm'\r\nimport { addTokenToLocalStorage } from '../../utils'\r\nimport { getMe } from '../../webAPI/loginAPI'\r\nimport { LoadingContext, UserContext } from '../../context'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nexport default function Login() {\r\n  const { isLoading } = useContext(LoadingContext)\r\n  const [errMessage, setErrMessage] = useState()\r\n  const { setUser } = useContext(UserContext)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const tokenCheck = (token) => {\r\n    addTokenToLocalStorage(token)\r\n    getMe().then((res) => {\r\n      if (res.ok === 0) {\r\n        setErrMessage(res.message)\r\n      }\r\n      setUser(res.data)\r\n      if (location.pathname === '/checkout/step2') {\r\n        return\r\n      }\r\n      history.push('/')\r\n    })\r\n  }\r\n  return (\r\n    <PageWidthHeight>\r\n      {isLoading && <IsLoadingComponent />}\r\n      <AbsoluteCenter>\r\n        <FormWrapper>\r\n          <Tabs\r\n            tabs={['註冊', '登入']}\r\n            tabsPanel={[\r\n              <SignUpForm\r\n                tokenCheck={tokenCheck}\r\n                $errMessage={errMessage}\r\n                $setErrMessage={setErrMessage}\r\n              />,\r\n              <SignInForm\r\n                tokenCheck={tokenCheck}\r\n                $errMessage={errMessage}\r\n                $setErrMessage={setErrMessage}\r\n              />\r\n            ]}\r\n            presetTab={1}\r\n          ></Tabs>\r\n        </FormWrapper>\r\n      </AbsoluteCenter>\r\n    </PageWidthHeight>\r\n  )\r\n}\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw'\r\n\r\nexport const createOrder = async (\r\n  orderAddress,\r\n  orderEmail,\r\n  orderName,\r\n  orderPhone,\r\n  payment,\r\n  shipping,\r\n  orderItem,\r\n  subTotal,\r\n  isDeleted\r\n) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        orderAddress,\r\n        orderEmail,\r\n        orderName,\r\n        orderPhone,\r\n        payment,\r\n        shipping,\r\n        orderItem,\r\n        subTotal,\r\n        isDeleted\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const getOrderOne = async (ticket) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders/me/${ticket}`, {\r\n      method: 'GET',\r\n      headers: { authorization: `Bearer ${token}` }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const getOrderAll = async () => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders/me`, {\r\n      method: 'GET',\r\n      headers: { authorization: `Bearer ${token}` }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const cancelOrder = async (ticket) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders/me/${ticket}/cancel`, {\r\n      method: 'PATCH',\r\n      headers: { authorization: `Bearer ${token}` }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw'\r\nexport const getMe = async () => {\r\n  const token = getTokenFromLocalStorage()\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const updateMe = async (fullname, address, phone) => {\r\n  const token = getTokenFromLocalStorage()\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        fullname,\r\n        address,\r\n        phone\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useContext, useState, useEffect, useMemo, useCallback } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { ErrorMsg } from '../../../components/loginSystem/loginCard'\r\nimport {\r\n  MsgTitle,\r\n  FormTitle,\r\n  Steps,\r\n  FormWrapper,\r\n  Form,\r\n  InputWrapper,\r\n  Label,\r\n  RadionLabel,\r\n  InputTitle,\r\n  Input,\r\n  BtnFlexCenter,\r\n  Select\r\n} from '../../../components/checkoutSystem/Step'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useTwZipCode, cities, districts } from 'use-tw-zipcode'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { UserContext, OversoldContext } from '../../../context'\r\nimport Login from '../../Login/Login'\r\nimport { COLOR } from '../../../constants/style'\r\nimport { LocalStorageContext } from '../../../context'\r\nimport { createOrder } from '../../../webAPI/orderAPI'\r\nimport { getMe } from '../../../webAPI/memberAPI'\r\nimport { getTokenFromLocalStorage } from '../../../utils'\r\nexport default function Step2() {\r\n  const { cartItems, setCartItems } = useContext(LocalStorageContext)\r\n  const { user, setUser } = useContext(UserContext)\r\n  const { setIsOversold } = useContext(OversoldContext)\r\n  const { errMsg } = useState()\r\n  const location = useHistory()\r\n  const [userStreet, setUserStreet] = useState()\r\n\r\n  const { city, zipCode, handleCityChange, handleDistrictChange } =\r\n    useTwZipCode()\r\n\r\n  const newCity = useMemo(() => {\r\n    if (!user?.address) return ''\r\n    return cities.filter((item) => user?.address.includes(item))[0]\r\n  }, [user])\r\n\r\n  const newDistricts = useMemo(() => {\r\n    if (!newCity) return ''\r\n    return districts[newCity].filter((district) =>\r\n      user.address.includes(district)\r\n    )[0]\r\n  }, [user, newCity])\r\n\r\n  useEffect(() => {\r\n    if (!user?.address) return ''\r\n    setUserStreet(user?.address.replace(newCity, '').replace(newDistricts, ''))\r\n  }, [user, newCity, newDistricts])\r\n\r\n  useEffect(() => {\r\n    if (!cartItems?.length) location.push('/')\r\n  }, [cartItems, location])\r\n\r\n  useEffect(() => {\r\n    if (!getTokenFromLocalStorage()) return false\r\n    getMe().then((res) => {\r\n      setUser(res.data)\r\n    })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n    setValue\r\n  } = useForm()\r\n\r\n  const handleChecked = useCallback(\r\n    async (e) => {\r\n      if (e.target.checked) {\r\n        if (user?.address) {\r\n          if (newCity) {\r\n            await handleCityChange(newCity)\r\n            setValue('city', newCity)\r\n          }\r\n          if (newDistricts) {\r\n            await handleDistrictChange(newDistricts)\r\n            setTimeout(() => {\r\n              setValue('district', newDistricts)\r\n            }, 0)\r\n          }\r\n          setValue('street', userStreet)\r\n        }\r\n        setValue('orderEmail', user.email)\r\n        setValue('orderName', user.fullname)\r\n        setValue('orderPhone', user.phone)\r\n      } else {\r\n        setValue('orderEmail', '')\r\n        setValue('street', '')\r\n        setValue('orderName', '')\r\n        setValue('orderPhone', '')\r\n      }\r\n    },\r\n    [\r\n      handleCityChange,\r\n      handleDistrictChange,\r\n      newCity,\r\n      newDistricts,\r\n      user,\r\n      userStreet,\r\n      setValue\r\n    ]\r\n  )\r\n  const subTotal = useMemo(() => {\r\n    if (!cartItems?.length) return\r\n    return (\r\n      cartItems\r\n        .map((item) => item.discountPrice * item.quantity)\r\n        .reduce((total, num) => total + num) + 80\r\n    )\r\n  }, [cartItems])\r\n  const onSubmit = async (submitData) => {\r\n    const address = `${zipCode}${submitData.city}${submitData.district}${submitData.street}`\r\n    const orderItem = cartItems.map((item) => ({\r\n      productId: item.id,\r\n      quantity: item.quantity\r\n    }))\r\n    const result = await createOrder(\r\n      address,\r\n      submitData.orderEmail,\r\n      submitData.orderName,\r\n      submitData.orderPhone,\r\n      submitData.payment,\r\n      submitData.shipping,\r\n      orderItem,\r\n      subTotal,\r\n      0 //isDelete\r\n    )\r\n\r\n    if (result.ok === 0) {\r\n      setIsOversold(true)\r\n      return location.push(`/checkout/step1`)\r\n    }\r\n    localStorage.removeItem('cartItemsList')\r\n    location.push(`/checkout/step3/${result.ticketNo}`)\r\n    setCartItems([])\r\n  }\r\n  return (\r\n    <PageWidth>\r\n      <Steps />\r\n      {user ? (\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n          <div>\r\n            <FormWrapper>\r\n              <FormTitle>寄送資訊</FormTitle>\r\n              <InputWrapper>\r\n                <InputTitle children='電郵:' />\r\n                <Input\r\n                  type='text'\r\n                  {...register('orderEmail', {\r\n                    required: true,\r\n                    pattern: /\\S+@\\S+\\.\\S+/\r\n                  })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderEmail?.type === 'required' && '請填寫電郵'}\r\n                {errors.orderEmail?.type === 'pattern' && '電郵請填寫完整'}\r\n              </ErrorMsg>\r\n              <InputWrapper>\r\n                <InputTitle children='姓名:' />\r\n                <Input\r\n                  type='text'\r\n                  {...register('orderName', { required: true })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderName?.type === 'required' && '請填寫姓名'}\r\n              </ErrorMsg>\r\n              <InputWrapper>\r\n                <InputTitle children='電話:' />\r\n                <Input\r\n                  type='tel'\r\n                  {...register('orderPhone', {\r\n                    required: true,\r\n                    pattern:\r\n                      /(\\d{2,3}-?|\\(\\d{2,3}\\))\\d{3,4}-?\\d{4}|09\\d{2}(\\d{6}|-\\d{3}-\\d{3})/\r\n                  })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderPhone?.type === 'required' && '請填寫電話'}\r\n                {errors.orderPhone?.type === 'pattern' && '請符合電話號碼規格'}\r\n              </ErrorMsg>\r\n              <InputWrapper>\r\n                <InputTitle children='地址:' />\r\n                <Select\r\n                  {...register('city')}\r\n                  onChange={(e) => handleCityChange(e.target.value)}\r\n                >\r\n                  {cities.map((city, i) => {\r\n                    return <option key={i}>{city}</option>\r\n                  })}\r\n                </Select>\r\n                <Select\r\n                  {...register('district')}\r\n                  onChange={(e) => handleDistrictChange(e.target.value)}\r\n                >\r\n                  {districts[city].map((district, i) => {\r\n                    return <option key={i}>{district}</option>\r\n                  })}\r\n                </Select>\r\n              </InputWrapper>\r\n              <InputWrapper>\r\n                <Input\r\n                  style={{ marginLeft: '55px' }}\r\n                  type='text'\r\n                  {...register('street', { required: true })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.street?.type === 'required' && '請填寫地址'}\r\n              </ErrorMsg>\r\n\r\n              <Label>\r\n                <input type='checkbox' id='userData' onChange={handleChecked} />\r\n                <label htmlFor='userData'>寄件資訊與顧客資訊相同</label>\r\n              </Label>\r\n            </FormWrapper>\r\n            <FormWrapper>\r\n              <FormTitle>付款方式</FormTitle>\r\n              <Label>\r\n                <Input\r\n                  type='radio'\r\n                  id='cash'\r\n                  name='pay'\r\n                  value='貨到付款'\r\n                  {...register('payment', { required: true })}\r\n                />\r\n                <RadionLabel children='貨到付款' />\r\n              </Label>\r\n\r\n              <Label>\r\n                <Input\r\n                  type='radio'\r\n                  id='creditCard'\r\n                  name='pay'\r\n                  value='信用卡'\r\n                  {...register('payment', { required: true })}\r\n                />\r\n                <RadionLabel children='信用卡' />\r\n              </Label>\r\n              <ErrorMsg>\r\n                {errors.payment?.type === 'required' && '請選擇付款方式'}\r\n              </ErrorMsg>\r\n              <FormTitle>運送方式</FormTitle>\r\n              <Label>\r\n                <Input\r\n                  type='radio'\r\n                  id='home'\r\n                  name='delivery'\r\n                  value='宅配'\r\n                  checked\r\n                  {...register('shipping', { required: true })}\r\n                />\r\n                <RadionLabel children='宅配' />\r\n              </Label>\r\n              {/* <Label>\r\n                <Input type='radio' id='store' name='delivery' value='store' />\r\n                <RadionLabel children='超商' />\r\n              </Label> */}\r\n            </FormWrapper>\r\n          </div>\r\n          {errMsg && <ErrorMsg>{errMsg}</ErrorMsg>}\r\n          <BtnFlexCenter>\r\n            <GeneralBtn\r\n              color='primary'\r\n              buttonStyle={{ marginTop: '20px' }}\r\n              children='送出訂單'\r\n            />\r\n          </BtnFlexCenter>\r\n        </Form>\r\n      ) : (\r\n        <>\r\n          <MsgTitle>\r\n            請先<span style={{ color: COLOR.text_warning }}>登入</span>\r\n            再繼續購買\r\n          </MsgTitle>\r\n          <Login />\r\n          <BtnFlexCenter>\r\n            <GeneralBtn\r\n              color='light_grey'\r\n              buttonStyle={{ cursor: 'not-allowed' }}\r\n              children='送出訂單'\r\n            />\r\n          </BtnFlexCenter>\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import {\r\n  Item,\r\n  ItemImg,\r\n  ItemName,\r\n  ItemPriceHidden,\r\n  ItemContent,\r\n  ItemCountHidden,\r\n  ItemCountMobile,\r\n  ItemInfo\r\n} from './Step'\r\nimport { formatPrice } from '../../utils'\r\nexport const OrderItem = ({ item }) => {\r\n  return (\r\n    <Item key={`product${item.productId}`}>\r\n      {/* 有些商品的 Product_imgs 陣列沒有 3 個(例如耳環)，一律抓第 3 個會出錯，故新增判斷 */}\r\n      <ItemImg\r\n        img={\r\n          item.Product.Product_imgs[2]?.imgUrlSm\r\n            ? item.Product.Product_imgs[2].imgUrlSm\r\n            : item.Product.Product_imgs[0].imgUrlSm\r\n        }\r\n        to={`/products/${item.productId}`}\r\n      />\r\n      <ItemInfo>\r\n        <ItemName\r\n          children={item.Product.name}\r\n          to={`/products/${item.productId}`}\r\n        />\r\n        <ItemContent>\r\n          <ItemPriceHidden children={`${formatPrice(item.Product.price)}`} />\r\n          <ItemCountHidden children={item.quantity} />\r\n          <ItemCountMobile\r\n            children={`${item.quantity} x ${formatPrice(item.Product.price)}`}\r\n          />\r\n        </ItemContent>\r\n      </ItemInfo>\r\n    </Item>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Link, useParams, useHistory } from 'react-router-dom'\r\nimport { PageWidth } from '../../../components/general'\r\nimport {\r\n  Title,\r\n  Steps,\r\n  TitleWidth,\r\n  TitleGroup,\r\n  CartTitles,\r\n  CartTitle,\r\n  TotalPrice,\r\n  BtnFlexCenter,\r\n  DeliveryData\r\n} from '../../../components/checkoutSystem/Step'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { OrderItem } from '../../../components/checkoutSystem/step3OrderItem'\r\nimport { getOrderOne } from '../../../webAPI/orderAPI'\r\nimport { formatPrice } from '../../../utils'\r\nexport default function Step3() {\r\n  const location = useHistory()\r\n  let { ticket } = useParams()\r\n  const [orderData, setOrderData] = useState(() => {\r\n    ;(async () => {\r\n      const result = await getOrderOne(ticket)\r\n      if (result.ok === 0) {\r\n        console.log(result.message)\r\n        return location.push('/')\r\n      }\r\n      return setOrderData(result.data)\r\n    })()\r\n  })\r\n  return (\r\n    <PageWidth>\r\n      <Steps />\r\n      {orderData && (\r\n        <>\r\n          <Title>寄送資訊</Title>\r\n          <DeliveryData>帳號: {orderData.Member.username}</DeliveryData>\r\n          <DeliveryData>電郵: {orderData.orderEmail}</DeliveryData>\r\n          <DeliveryData>姓名: {orderData.orderName}</DeliveryData>\r\n          <DeliveryData>地址: {orderData.orderAddress}</DeliveryData>\r\n          <DeliveryData>電話: {orderData.orderPhone}</DeliveryData>\r\n\r\n          <Title>付款方式</Title>\r\n          <DeliveryData>{orderData.payment}</DeliveryData>\r\n          <Title>寄送方式</Title>\r\n          <DeliveryData>{orderData.shipping}</DeliveryData>\r\n\r\n          <Title>訂購明細</Title>\r\n          <CartTitles>\r\n            <TitleWidth />\r\n            <TitleGroup>\r\n              <CartTitle>購買項目</CartTitle>\r\n              <CartTitle>金額</CartTitle>\r\n              <CartTitle>數量</CartTitle>\r\n            </TitleGroup>\r\n          </CartTitles>\r\n          {orderData.Order_items.map((item) => (\r\n            <OrderItem key={item.productId} item={item} />\r\n          ))}\r\n          <TotalPrice>{`小計 ${formatPrice(\r\n            orderData.subTotal - 80\r\n          )}`}</TotalPrice>\r\n          <TotalPrice>運費 NT$80</TotalPrice>\r\n          <TotalPrice>{`總金額 ${formatPrice(orderData.subTotal)}`}</TotalPrice>\r\n        </>\r\n      )}\r\n      <Link to='/'>\r\n        <BtnFlexCenter>\r\n          <GeneralBtn\r\n            color='primary'\r\n            children='回到首頁'\r\n            buttonStyle={{ marginTop: '20px' }}\r\n          />\r\n        </BtnFlexCenter>\r\n      </Link>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useEffect, useState } from 'react'\r\nimport { useParams, useLocation, useHistory } from 'react-router-dom'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useModal from '../../hooks/useModal'\r\nimport { IsLoadingComponent as Loading } from '../../components/IsLoading'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { PageWidth } from '../../components/general'\r\nimport {\r\n  ProductCard,\r\n  WhiteCard\r\n} from '../../components/productSystem/ProductCard'\r\nimport { countWhiteCardAmount, setNumInArray } from '../../utils'\r\nimport { PaginatorButton } from '../../components/Paginator'\r\n\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 40px 0px;\r\n  flex-wrap: wrap;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto 40px auto;\r\n`\r\n\r\nexport default function Categories() {\r\n  let history = useHistory()\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  const pathname = useLocation().pathname\r\n  const [totalPage, setTotalPage] = useState([])\r\n  const { handleModalOpen, Modal } = useModal()\r\n  const { slug, page } = useParams()\r\n\r\n  const { isLoading, value, fetchData } = useFetch(\r\n    `/products/category/${slug}/${page}`\r\n  )\r\n\r\n  useEffect(() => {\r\n    fetchData({\r\n      handler: (categoryValue) => {\r\n        setTotalPage((totalPage) => setNumInArray(categoryValue?.totalPage))\r\n      },\r\n      errorHandler: () => {\r\n        history.push('/404')\r\n      }\r\n    })\r\n  }, [slug, history, fetchData])\r\n\r\n  const whiteCardAmount = countWhiteCardAmount(value?.data?.length, isDesktop)\r\n  return (\r\n    <PageWidth>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          {value?.data && (\r\n            <>\r\n              <Modal />\r\n              <CardContainer>\r\n                {value?.data?.map(\r\n                  ({\r\n                    id,\r\n                    name,\r\n                    price,\r\n                    Product_imgs,\r\n                    discountPrice,\r\n                    status,\r\n                    quantity\r\n                  }) => {\r\n                    const length = Product_imgs.length\r\n                    const imgUrl = isMobile\r\n                      ? Product_imgs[length - 1].imgUrlMd\r\n                      : Product_imgs[length - 1].imgUrlLg\r\n                    return (\r\n                      <ProductCard\r\n                        id={id}\r\n                        key={id}\r\n                        imgUrl={imgUrl}\r\n                        imgs={Product_imgs}\r\n                        name={name}\r\n                        price={price}\r\n                        discountPrice={discountPrice}\r\n                        status={status}\r\n                        stockQuantity={quantity}\r\n                        handleModalOpen={handleModalOpen}\r\n                      />\r\n                    )\r\n                  }\r\n                )}\r\n                {whiteCardAmount.length > 0 &&\r\n                  whiteCardAmount.map((amount) => {\r\n                    return <WhiteCard key={amount} />\r\n                  })}\r\n              </CardContainer>\r\n            </>\r\n          )}\r\n          {totalPage && (\r\n            <PaginatorDiv>\r\n              {totalPage.map((singlePage) => {\r\n                const linkDirection = `/categories/${slug}/${singlePage}`\r\n                return (\r\n                  <PaginatorButton\r\n                    key={singlePage}\r\n                    page={singlePage}\r\n                    to={linkDirection}\r\n                    active={pathname === linkDirection}\r\n                  ></PaginatorButton>\r\n                )\r\n              })}\r\n            </PaginatorDiv>\r\n          )}\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport qs from 'qs'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useModal from '../../hooks/useModal'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { IsLoadingComponent as Loading } from '../../components/IsLoading'\r\nimport { PageWidth } from '../../components/general'\r\nimport { countWhiteCardAmount, setSearchPageInArray } from '../../utils'\r\nimport { PaginatorButton } from '../../components/Paginator'\r\nimport {\r\n  ProductCard,\r\n  WhiteCard\r\n} from '../../components/productSystem/ProductCard'\r\n\r\nconst PageContainer = styled.div`\r\n  height: 60vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 20px 0px;\r\n  flex-wrap: wrap;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto 40px auto;\r\n`\r\nconst SearchFoundContainer = styled.div`\r\n  text-align: center\r\n  font-size: ${FONT_SIZE.md};\r\n  color: ${COLOR.text_dark};\r\n  margin-top: 40px;\r\n  p{\r\n    color: ${COLOR.text_primary_dark};\r\n    font-weight: bold;\r\n  }\r\n`\r\nconst SearchNotFoundContainer = styled(SearchFoundContainer)`\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n`\r\n\r\nfunction SearchFoundResult({ keyword, searchAmount }) {\r\n  return (\r\n    <SearchFoundContainer>\r\n      符合關鍵字「{keyword}」的相關產品，共搜尋到 {searchAmount} 筆。\r\n    </SearchFoundContainer>\r\n  )\r\n}\r\n\r\nexport default function Search() {\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  const keywords = useLocation().search\r\n  const keywordString = qs.parse(keywords, { ignoreQueryPrefix: true }).search\r\n  const currentPage = Number(qs.parse(keywords, { ignoreQueryPrefix: true }).p)\r\n  const perPageSliceStart = (currentPage - 1) * 12\r\n  const perPageSliceEnd = currentPage * 12\r\n  const { handleModalOpen, Modal } = useModal()\r\n  const { isLoading, value, fetchData } = useFetch(`/products/${keywords}`)\r\n\r\n  useEffect(() => {\r\n    if (!keywordString) return\r\n    fetchData()\r\n  }, [fetchData, keywordString])\r\n  const SearchProductsAmount = value?.data?.length || 0\r\n  const { totalPage, pagesArray } = setSearchPageInArray(SearchProductsAmount)\r\n  const whiteCardAmount = countWhiteCardAmount(SearchProductsAmount, isDesktop)\r\n\r\n  return (\r\n    <PageWidth>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <Modal />\r\n          {SearchProductsAmount === 0 && (\r\n            <PageContainer>\r\n              <SearchNotFoundContainer>\r\n                沒有符合搜尋的商品\r\n              </SearchNotFoundContainer>\r\n            </PageContainer>\r\n          )}\r\n          {SearchProductsAmount !== 0 && (\r\n            <>\r\n              <SearchFoundResult\r\n                keyword={keywordString}\r\n                searchAmount={SearchProductsAmount}\r\n              />\r\n              <CardContainer>\r\n                {value?.data\r\n                  ?.slice(perPageSliceStart, perPageSliceEnd)\r\n                  .map(\r\n                    ({\r\n                      id,\r\n                      name,\r\n                      price,\r\n                      Product_imgs,\r\n                      discountPrice,\r\n                      status,\r\n                      quantity\r\n                    }) => {\r\n                      const length = Product_imgs.length\r\n                      const imgUrl = isMobile\r\n                        ? Product_imgs[length - 1].imgUrlSm\r\n                        : Product_imgs[length - 1].imgUrlMd\r\n                      return (\r\n                        <ProductCard\r\n                          id={id}\r\n                          key={id}\r\n                          imgUrl={imgUrl}\r\n                          imgs={Product_imgs}\r\n                          name={name}\r\n                          price={price}\r\n                          discountPrice={discountPrice}\r\n                          status={status}\r\n                          stockQuantity={quantity}\r\n                          handleModalOpen={handleModalOpen}\r\n                        />\r\n                      )\r\n                    }\r\n                  )}\r\n                {whiteCardAmount.length > 0 &&\r\n                  whiteCardAmount.map((amount) => {\r\n                    return <WhiteCard key={amount} />\r\n                  })}\r\n              </CardContainer>\r\n            </>\r\n          )}\r\n          {totalPage > 1 && (\r\n            <PaginatorDiv>\r\n              {pagesArray.map((page) => {\r\n                return (\r\n                  <PaginatorButton\r\n                    key={page}\r\n                    page={page}\r\n                    to={`/search/?search=${keywordString}&p=${page}`}\r\n                    active={page === currentPage}\r\n                  ></PaginatorButton>\r\n                )\r\n              })}\r\n            </PaginatorDiv>\r\n          )}\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\n\r\nconst CategoryImg = styled.div`\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  height: 50vw;\r\n  width: 100%;\r\n  opacity: 0.7;\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 50vw;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n    height: 30vw;\r\n    line-height: 30vw;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n    height: 20vw;\r\n    line-height: 20vw;\r\n  }\r\n`\r\n\r\nexport function HomeCategoriesImg({ category, imgUrl, color }) {\r\n  return (\r\n    <CategoryImg style={{ backgroundImage: `url(${imgUrl})`, color: color }}>\r\n      {category}\r\n    </CategoryImg>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Slider from 'react-slick'\r\nimport useFetch from '../hooks/useFetch'\r\nimport { FullWidth } from './general'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst CarouselItem = styled(Link)`\r\n  position: relative;\r\n  background: url(${({ $img }) => $img}) center no-repeat;\r\n  background-size: cover;\r\n  height: 280px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 380px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 420px;\r\n  }\r\n  h2 {\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    color: ${COLOR.text_light};\r\n    font-size: ${FONT_SIZE.xxl};\r\n    font-weight: bold;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.xxxl};\r\n    }\r\n\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.xxxl};\r\n    }\r\n  }\r\n`\r\n\r\nexport default function Carousel() {\r\n  const { value, fetchData } = useFetch(`/articles`)\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData])\r\n\r\n  var settings = {\r\n    dots: true,\r\n    arrows: false,\r\n    autoplay: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1\r\n  }\r\n  return (\r\n    <FullWidth>\r\n      <Slider {...settings} style={{ marginBottom: '40px' }}>\r\n        {value?.data?.map((article) => (\r\n          <CarouselItem\r\n            to={`/articles/${article.id}/1`}\r\n            key={article.id}\r\n            $img={article.imgUrl}\r\n          >\r\n            <h2>{article.title}</h2>\r\n          </CarouselItem>\r\n        ))}\r\n      </Slider>\r\n    </FullWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useEffect } from 'react'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useModal from '../../hooks/useModal'\r\nimport { IsLoadingComponent as Loading } from '../../components/IsLoading'\r\nimport { PageWidth } from '../../components/general'\r\nimport { COLOR, MEDIA_QUERY } from '../../constants/style'\r\nimport { ProductCard } from '../../components/productSystem/ProductCard'\r\nimport { HomeCategoriesImg } from '../../components/homeSystem/HomeCategoriesImg'\r\nimport Carousel from '../../components/Carousel'\r\n\r\nconst ProductContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 30px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 30px;\r\n  }\r\n`\r\n\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 10px 0px;\r\n  flex-wrap: wrap;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin: 20px 0px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 20px 0px;\r\n  }\r\n`\r\nconst showProductsInComponent = (data, MediaQuery, handleModalOpen) => {\r\n  const isMobile = MediaQuery('(max-width: 767px)')\r\n  return data?.map(\r\n    ({ id, name, price, Product_imgs, discountPrice, status, quantity }) => {\r\n      const length = Product_imgs.length\r\n      const imgUrl = isMobile\r\n        ? Product_imgs[length - 1].imgUrlMd\r\n        : Product_imgs[length - 1].imgUrlLg\r\n      return (\r\n        <ProductCard\r\n          id={id}\r\n          key={id}\r\n          imgUrl={imgUrl}\r\n          imgs={Product_imgs}\r\n          name={name}\r\n          price={price}\r\n          discountPrice={discountPrice}\r\n          status={status}\r\n          stockQuantity={quantity}\r\n          handleModalOpen={handleModalOpen}\r\n        />\r\n      )\r\n    }\r\n  )\r\n}\r\n\r\nexport default function Home() {\r\n  const { handleModalOpen, Modal } = useModal()\r\n  const { isLoading, value, fetchData } = useFetch(`/products`)\r\n\r\n  useEffect(() => fetchData(), [fetchData])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <Loading />}\r\n      <Carousel />\r\n      <PageWidth>\r\n        <Modal />\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/WjvyBCB.jpg'\r\n            color={COLOR.text_dark}\r\n            category={'居家生活'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(\r\n              value?.data\r\n                ?.filter((product) => product.category === 'home')\r\n                .slice(-4),\r\n              useMediaQuery,\r\n              handleModalOpen\r\n            )}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/5mNsAzg.jpg'\r\n            color={COLOR.text_dark}\r\n            category={'服飾配件'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(\r\n              value?.data\r\n                ?.filter((product) => product.category === 'apparel')\r\n                .slice(-4),\r\n              useMediaQuery,\r\n              handleModalOpen\r\n            )}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/kBR54ha.jpg'\r\n            color={COLOR.text_light}\r\n            category={'廚房餐具'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(\r\n              value?.data\r\n                ?.filter((product) => product.category === 'kitchenware')\r\n                .slice(-4),\r\n              useMediaQuery,\r\n              handleModalOpen\r\n            )}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/3qTh9JZ.jpg'\r\n            color={COLOR.text_black}\r\n            category={'食材雜貨'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(\r\n              value?.data\r\n                ?.filter((product) => product.category === 'food')\r\n                .slice(-4),\r\n              useMediaQuery,\r\n              handleModalOpen\r\n            )}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/db1W1Ne.jpg'\r\n            color={COLOR.text_black}\r\n            category={'設計文具'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(\r\n              value?.data\r\n                ?.filter((product) => product.category === 'stationery')\r\n                .slice(-4),\r\n              useMediaQuery,\r\n              handleModalOpen\r\n            )}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/TrmCL9e.jpg'\r\n            color={COLOR.text_dark}\r\n            category={'休閒戶外'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(\r\n              value?.data\r\n                ?.filter((product) => product.category === 'outdoor')\r\n                .slice(-4),\r\n              useMediaQuery,\r\n              handleModalOpen\r\n            )}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n      </PageWidth>\r\n    </>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY } from '../constants/style'\r\nimport { GeneralBtn } from './Button'\r\n\r\n\r\nconst Button = ({ children, onClick }) => {\r\n  const style = {\r\n    width: '50%'\r\n  }\r\n  return <GeneralBtn color={'accent'} buttonStyle={style} children={children} onClick={onClick}/>\r\n}\r\n\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  text-align: center;\r\n  /* border: 1px solid ${COLOR.border_light_grey}; */\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n\r\n  tr {\r\n    display: flex;\r\n  }\r\n\r\n  tr + tr {\r\n    border-top: 2px solid ${COLOR.border_light_grey};\r\n  }\r\n  \r\n  th, td {\r\n    padding: 12px 0;\r\n    ${({ col }) => col && `\r\n      width: calc(100%/${col});\r\n    `}\r\n    \r\n  }\r\n\r\n  th {\r\n    background: #9A8B66;\r\n    color: #FFF;\r\n  }\r\n\r\n  td {\r\n    padding: 16px 0;\r\n  }\r\n`\r\n\r\nexport {\r\n  Button,\r\n  Table\r\n}\r\n","import { useState, useEffect, useMemo } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { COLOR } from '../../constants/style'\r\nimport { Table, Button } from '../../components/Table'\r\nimport { formatPrice } from '../../utils'\r\n\r\n\r\nconst H3 = styled.h3`\r\n  padding-top: 24px;\r\n  text-align: center;\r\n`\r\n\r\nconst PageListWrapper = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 16px auto 4px;\r\n`\r\n\r\nconst Li = styled.li`\r\n  width: 30px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  user-select: none;\r\n  \r\n  & + & {\r\n    margin-left: 8px;\r\n  }\r\n`\r\n\r\nconst PageLi = styled(Li)`\r\n  border: 1px solid #111;\r\n  cursor: pointer;\r\n  transition: background .3s;\r\n\r\n  ${({ $active }) => $active && `\r\n    color: ${COLOR.light};\r\n    background: ${COLOR.primary_light_hover};\r\n    border: ${COLOR.border_light_grey};\r\n  `}\r\n\r\n  &:hover {\r\n    color: ${COLOR.light};\r\n    background: ${COLOR.primary_light_hover};\r\n    border: ${COLOR.border_light_grey};\r\n  }\r\n`\r\n\r\nconst PageList = ({ currPage, arr, setCurrPage }) => {\r\n  return (\r\n    <PageListWrapper>\r\n      { \r\n        arr.map((i, index) => (\r\n          <PageLi \r\n            key={'page' + index}\r\n            $active={currPage === index + 1} \r\n            onClick={() => setCurrPage(index + 1)}>\r\n            {index + 1}\r\n          </PageLi>\r\n        ))\r\n      }\r\n    </PageListWrapper>\r\n  )\r\n}\r\n\r\n\r\nconst OrderTable = ({ pageBar, orders }) => {\r\n  const [data, setData] = useState([])\r\n  const [currPage, setCurrPage] = useState(1)\r\n  const history = useHistory()\r\n  const maxPage = useMemo(() => Math.ceil(data.length / 5), [data])\r\n  const pageData = useMemo(() => {\r\n    return data.slice((currPage - 1) * 5, currPage * 5)\r\n  }, [data, currPage])\r\n\r\n\r\n  useEffect(() => {\r\n    setData([...orders].reverse())\r\n  }, [orders])\r\n  return (\r\n    <>\r\n      <Table col={4}>\r\n        <thead>\r\n          <tr>\r\n            <th>訂單狀態</th>\r\n            <th>訂單編號</th>\r\n            <th>訂單金額</th>\r\n            <th>管理</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          { \r\n            Array.isArray(data) && pageData.map((order) => (\r\n              <tr key={order.ticketNo + new Date().getMilliseconds}>\r\n                <td>{ order.status }</td>\r\n                <td>{ order.ticketNo }</td>\r\n                <td>{ order?.subTotal && formatPrice(order.subTotal) }</td>\r\n                <td><Button onClick={() => history.push('/member/orders/' + order.ticketNo)}>查找</Button></td>\r\n              </tr>\r\n            ))\r\n          }\r\n        </tbody>\r\n      </Table>\r\n      { !orders.length && <H3>暫無訂單</H3> }\r\n      { pageBar && <PageList currPage={currPage} arr={Array(maxPage).fill()} setCurrPage={setCurrPage} / > }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default OrderTable\r\n","import { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport OrderTable from '../OrderTable'\r\nimport { LogoutBtn } from '../../../components/Button'\r\n\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 24px auto;\r\n  text-align: left;\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 12px 0 24px;\r\n\r\n  h2 {\r\n    font-size: ${FONT_SIZE.lg};\r\n    font-weight: 700;\r\n  }\r\n`\r\n\r\nconst SubTitle = styled.h4`\r\n  margin: 16px 0;\r\n  font-weight: 700;\r\n`\r\n\r\nconst MemberInfo = styled.div`\r\n  padding: 12px 16px 0;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n  p + p {\r\n    margin: 8px 0;\r\n  }\r\n`\r\n\r\nconst Button = ({ children }) => {\r\n  const style = {\r\n    width: '120px'\r\n  }\r\n  return <LogoutBtn color={'primary'} buttonStyle={style} children={children}/>\r\n}\r\n\r\nconst Home = ({ profile, logout }) => {  \r\n  const profileOrders = useMemo(() => {\r\n    if (!profile || profile.Orders.length === 0) return []\r\n    return [profile.Orders[profile.Orders.length-1]]\r\n  }, [profile])\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <h3>Hi!　{ profile?.fullname }</h3>\r\n        <div onClick={logout}>\r\n          <Button>登出</Button>\r\n        </div>\r\n      </Header>\r\n      <SubTitle>基本資料</SubTitle>\r\n      <MemberInfo>\r\n        <p>會員帳號:　{ profile?.username }</p>\r\n        <p>會員等級:　{ profile?.level }</p>\r\n        <p>會員電郵:　{ profile?.email }</p>\r\n      </MemberInfo>\r\n      <SubTitle>最新訂單</SubTitle>\r\n      <OrderTable pageBar={false} orders={profileOrders}/>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import styled from 'styled-components'\r\nimport OrderTable from '../OrderTable'\r\n\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 24px auto;\r\n  text-align: left;\r\n`\r\n\r\nconst Orders = ({ orders }) => {\r\n\r\n  return (\r\n    <Container>\r\n      <OrderTable pageBar={true} orders={orders || []} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Orders","import { useState, useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { GeneralBtn, EditBtn } from '../../../components/Button'\r\nimport { useForm } from \"react-hook-form\"\r\nimport useModal from '../../../hooks/useModal'\r\nimport useFetch from '../../../hooks/useFetch'\r\n\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 24px auto;\r\n  text-align: left;\r\n`\r\n\r\nconst InfoWrapper = styled.div`\r\n  position: relative;\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst Field = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  min-height: 36px;\r\n\r\n  h5, label, p {\r\n    line-height: 36px;\r\n  }\r\n\r\n  h5, label {\r\n    margin-right: 36px;\r\n    font-weight: 700;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n\r\n  p, input {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n\r\n  input {\r\n    padding: 0px 6px;\r\n    border: 1px solid ${COLOR.border_light_grey};\r\n    background: #eee;\r\n\r\n    ${MEDIA_QUERY.desktop} {\r\n      width: 290px;\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-left: 8px;\r\n    color: red;\r\n  }\r\n\r\n  &+& {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  ${({$danger}) => $danger && `\r\n    label {\r\n      color: red;\r\n    }\r\n  `}\r\n`\r\n\r\nconst BtnField = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    flex-wrap: wrap;\r\n    position: absolute;\r\n    top: 16px;\r\n    right: 12px;\r\n    width: 100px;\r\n    font-size: ${FONT_SIZE.md};\r\n\r\n    button + button {\r\n      margin-left: 8px;\r\n    }\r\n\r\n    ${MEDIA_QUERY.desktop} {\r\n      width: 150px;\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n`\r\n\r\nconst EditButton = ({ color, children, onClick }) => {\r\n  const style = {\r\n    width: '60%',\r\n    fontSize: '14px'\r\n  }\r\n  return <EditBtn color={color} buttonStyle={style} children={children} onClick={onClick} />\r\n}\r\n\r\nconst Button = ({ type, color, children, onClick }) => {\r\n  const style = {\r\n    width: '40%',\r\n    fontSize: '14px'\r\n  }\r\n  return <GeneralBtn type={type} color={color} buttonStyle={style} children={children} onClick={onClick}/>\r\n}\r\n\r\n\r\nconst Info = ({ profile }) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const { handleModalOpen, Modal } = useModal()\r\n  const { fetchData: updateMe } = useFetch('/members/me', { method: 'PATCH'})\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubmit = useCallback(async (data) => {\r\n    setIsEditing(() => false)\r\n    try {\r\n      const { fullname, address, phone } = data\r\n      profile.fullname = fullname\r\n      profile.address = address\r\n      profile.phone = phone\r\n\r\n      updateMe({\r\n        bodyData: { fullname, address, phone },\r\n        handler: () => handleModalOpen('已更新會員資訊 ! '),\r\n        errorHandler: () => handleModalOpen('更新會員資訊失敗 ! ')\r\n      })\r\n    } catch (error) {\r\n      const { message } = error.response.data\r\n      console.log(message)\r\n    }\r\n  }, [profile, updateMe, handleModalOpen])\r\n\r\n  return (\r\n    <Container>\r\n      <Modal />\r\n      <InfoWrapper>\r\n        {\r\n          !isEditing ? (\r\n            <>\r\n              <BtnField>\r\n                <EditButton color={'accent'} onClick={() => setIsEditing(() => true)}>編輯</EditButton>\r\n              </BtnField>\r\n              <Field>\r\n                <h5>帳號:</h5>\r\n                <p>{ profile?.username }</p>\r\n              </Field>\r\n              <Field>\r\n                <h5>電郵:</h5>\r\n                <p>{ profile?.email }</p>\r\n              </Field>\r\n              <Field>\r\n                <h5>姓名:</h5>\r\n                <p>{ profile?.fullname }</p>\r\n              </Field>\r\n              <Field>\r\n                <h5>地址:</h5>\r\n                <p>{ profile?.address }</p>\r\n              </Field>\r\n              <Field>\r\n                <h5>電話:</h5>\r\n                <p>{ profile?.phone }</p>\r\n              </Field>\r\n            </>\r\n          ) : (\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <BtnField>\r\n                <Button type=\"button\" color={'accent'} onClick={() => setIsEditing(() => false)} >返回</Button>\r\n                <Button type=\"submit\" color={'warning'} >儲存</Button>\r\n              </BtnField>\r\n              <Field>\r\n                <h5>帳號:</h5>\r\n                <p>{ profile?.username }</p>\r\n              </Field>\r\n              <Field>\r\n                <h5>電郵:</h5>\r\n                <p>{ profile?.email }</p>\r\n              </Field>\r\n              <Field>\r\n                <label>姓名:</label>\r\n                <input \r\n                  $danger={errors.fullname}\r\n                  type=\"text\" \r\n                  placeholder=\"fullname\"\r\n                  defaultValue={profile?.fullname}\r\n                  {...register(\r\n                    \"fullname\", { \r\n                      pattern: {\r\n                        value: /^[\\u4e00-\\u9fa5_a-zA-Z]{2,10}$/,\r\n                        message: '請輸入中英文 2~10 字元'\r\n                      }\r\n                    }\r\n                  )} \r\n                />\r\n                { errors.fullname && <span>{ errors.fullname.message }</span> }\r\n              </Field>\r\n              <Field>\r\n                <label>地址:</label>\r\n                <input \r\n                  $danger={errors.address}\r\n                  type=\"text\" \r\n                  placeholder=\"address\"\r\n                  defaultValue={profile?.address}\r\n                  {...register(\r\n                    \"address\", { \r\n                      pattern: {\r\n                        value: /^[\\u4e00-\\u9fa5_a-zA-Z1-9]{6,36}$/,\r\n                        message: '請輸入正確的地址'\r\n                      }\r\n                    }\r\n                  )} \r\n                />\r\n                { errors.address && <span>{ errors.address.message }</span> }\r\n              </Field>\r\n              <Field>\r\n                <label>電話:</label>\r\n                <input \r\n                  $danger={errors.phone}\r\n                  type=\"text\" \r\n                  placeholder=\"phone\"\r\n                  defaultValue={profile?.phone}\r\n                  {...register(\r\n                    \"phone\", { \r\n                      pattern: {\r\n                        value: /^(886)?09\\d{8}$/,\r\n                        message: '請輸入正確的電話號碼'\r\n                      }\r\n                    }\r\n                  )} \r\n                />\r\n                { errors.phone && <span>{ errors.phone.message }</span> }\r\n              </Field>\r\n            </form>\r\n          )\r\n        }\r\n      </InfoWrapper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import { useContext, useMemo, useCallback, useEffect } from 'react'\r\nimport { useHistory, useParams } from 'react-router'\r\nimport styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { UserContext } from '../../../context'\r\nimport { Tabs } from '../../../components/Tab'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { IsLoadingComponent as Loading } from '../../../components/IsLoading'\r\nimport Home from '../Home'\r\nimport Orders from '../Orders'\r\nimport Info from '../Info'\r\nimport useFetch from '../../../hooks/useFetch'\r\n\r\n\r\nconst PageWidthHeight = styled(PageWidth)`\r\n  min-height: 600px;\r\n`\r\nconst Container = styled.div`\r\n  margin: 60px auto 0;\r\n  width: 80%;\r\n  min-width: 350px;\r\n`\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin-top: 30px;\r\n  font-weight: bold;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 30px auto;\r\n  min-height: 400px;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n`\r\n\r\nexport default function MeTab() {\r\n  const { setUser } = useContext(UserContext)\r\n  const { isLoading, value, fetchData } = useFetch('/members/me')\r\n  const history = useHistory()\r\n  const { tab } = useParams()\r\n  const tabIndex = useMemo(() => {\r\n    const urlMapping = {\r\n      orders: 1,\r\n      info: 2\r\n    }\r\n    return urlMapping[tab] || 0\r\n  }, [tab])\r\n  const logout = useCallback(() => {\r\n    localStorage.removeItem('token')\r\n    setUser(null)\r\n    history.push('/')\r\n  }, [history, setUser])\r\n\r\n  useEffect(() => fetchData(), [fetchData])\r\n\r\n  return (\r\n    <PageWidthHeight>\r\n      { isLoading && <Loading /> }\r\n      <Container>\r\n        <Title>會員專區</Title>\r\n        <Wrapper>\r\n          <Tabs\r\n            tabs={['會員首頁', '訂單紀錄', '會員資料']}\r\n            tabsPanel={[\r\n              <Home profile={value.data} logout={logout} />,\r\n              <Orders orders={value.data?.Orders} />,\r\n              <Info profile={value.data} />\r\n            ]}\r\n            presetTab={0}\r\n            changeTab={tabIndex}\r\n          />\r\n        </Wrapper>\r\n      </Container>\r\n    </PageWidthHeight>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Table } from '../../../components/Table'\r\nimport { formatPrice } from '../../../utils'\r\nimport { MEDIA_QUERY } from '../../../constants/style'\r\n\r\n\r\nconst ItemTH = styled.th`\r\n  min-width: 50%;\r\n`\r\n\r\nconst ItemTD = styled.td`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  min-width: 50%;\r\n  max-width: 50%;\r\n  height: 100px;\r\n  padding: 8px 0;\r\n\r\n  span {\r\n    padding: 0 16px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    img {\r\n      display: block;\r\n    }\r\n    span {\r\n      width: 50%;\r\n    }\r\n  }\r\n`\r\n\r\nconst TD = styled.td`\r\n  line-height: 68px;\r\n`\r\n\r\nconst IMG = styled.img`\r\n  width: 120px;\r\n  height: auto;\r\n  display: none;\r\n`\r\n\r\nconst ItemTable = ({ order }) => {\r\n\r\n  return (\r\n    <Table col={3}>\r\n      <thead>\r\n        <tr>\r\n          <ItemTH>購買項目</ItemTH>\r\n          <th>金額</th>\r\n          <th>數量</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        { order.map(({ Product, quantity }) => (\r\n            <tr key={Product.id}>\r\n              <ItemTD>\r\n                <IMG src={ Product.Product_imgs[0].imgUrlSm } alt=\"\" />\r\n                <span>{ Product.name }</span>\r\n              </ItemTD>\r\n              <TD>{ formatPrice(Product.discountPrice) }</TD>\r\n              <TD>{ quantity }</TD>\r\n            </tr>\r\n          ))\r\n        }\r\n      </tbody>\r\n    </Table>\r\n  )\r\n}\r\n\r\nexport default ItemTable\r\n","import { useCallback, useEffect } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { IsLoadingComponent as Loading } from '../../../components/IsLoading'\r\nimport ItemTable from './ItemTable'\r\nimport { formatPrice } from '../../../utils'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useFetch from '../../../hooks/useFetch'\r\n\r\n\r\nconst PageWidthHeight = styled(PageWidth)`\r\n  min-height: 600px;\r\n`\r\nconst Container = styled.div`\r\n  margin: 60px auto 0;\r\n  width: 80%;\r\n  min-width: 350px;\r\n`\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin-top: 30px;\r\n  font-weight: bold;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 30px auto;\r\n  min-height: 400px;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n`\r\nconst Info = styled.div`\r\n  position: relative;\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst Field = styled.div`\r\n  display: flex;\r\n\r\n  h5 {\r\n    margin-right: 36px;\r\n  }\r\n\r\n  &+& {\r\n    margin-top: 20px;\r\n  }\r\n`\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  button + button {\r\n    margin-left: 16px;\r\n    margin-top: 4px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nconst Button = ({ children, color, onClick }) => {\r\n  const style = {\r\n    fontSize: '14px',\r\n    width: '70px'\r\n  }\r\n  return <GeneralBtn color={color} buttonStyle={style} children={children} onClick={onClick}/>\r\n}\r\n\r\nconst ModalButton = ({ children, color, onClick }) => {\r\n  const style = {\r\n    fontSize: '16px',\r\n    width: '100px'\r\n  }\r\n  return <GeneralBtn color={color} buttonStyle={style} children={children} onClick={onClick}/>\r\n}\r\n\r\nconst OrderDetail = () => {\r\n  const { handleModalOpen, handleModalClose, Modal } = useModal('確定取消訂單 ？ ')\r\n  const history = useHistory()\r\n  const { ticket } = useParams()\r\n  const { isLoading, value , fetchData } = useFetch(`/orders/me/${ticket}`)\r\n  const { fetchData: cancelOrder } = useFetch(`/orders/me/${ticket}/cancel`, { method: 'PATCH' })\r\n  const handleCancel = useCallback(() => {\r\n    cancelOrder({ handler: () => value.data.status = '已取消' })\r\n    handleModalClose()\r\n  }, [handleModalClose, cancelOrder, value])\r\n\r\n  useEffect(() => fetchData(), [fetchData])\r\n\r\n  return (\r\n    <PageWidthHeight>\r\n      { isLoading && <Loading /> }\r\n      <Modal \r\n        buttonOne={<ModalButton color={'accent'} onClick={() => handleCancel()}>確定</ModalButton>}\r\n        buttonTwo={<ModalButton color={'primary'} onClick={() => handleModalClose()}>取消</ModalButton>}\r\n      />\r\n      <Container>\r\n        <Title>訂單詳情</Title>\r\n        <Wrapper>\r\n          <Info>\r\n            <ButtonGroup>\r\n              <Button color={'accent'} onClick={() => history.push('/member/orders')} >返回</Button>\r\n              {\r\n                (value?.data?.status === '處理中') && <Button color={'warning'} onClick={() => handleModalOpen()} >取消訂單</Button>\r\n              }\r\n            </ButtonGroup>\r\n            <Field>\r\n              <h5>訂單狀態:　</h5>\r\n              <p>{ value?.data?.status }</p>\r\n            </Field>\r\n            <Field>\r\n              <h5>訂單金額:　</h5>\r\n              <p>{ value?.data?.subTotal && formatPrice(value?.data.subTotal) }</p>\r\n            </Field>\r\n            <Field>\r\n              <h5>收件人電郵:</h5>\r\n              <p>{ value?.data?.orderEmail || '' }</p>\r\n            </Field>\r\n            <Field>\r\n              <h5>收件人姓名:</h5>\r\n              <p>{ value?.data?.orderName || '' }</p>\r\n            </Field>\r\n            <Field>\r\n              <h5>收件人地址:</h5>\r\n              <p>{ value?.data?.orderAddress || '' }</p>\r\n            </Field>\r\n            <Field>\r\n              <h5>收件人電話:</h5>\r\n              <p>{ value?.data?.orderPhone || '' }</p>\r\n            </Field>\r\n          </Info>\r\n          <ItemTable order={ value?.data?.Order_items || [] } />\r\n        </Wrapper>\r\n      </Container>\r\n    </PageWidthHeight>\r\n  )\r\n}\r\n\r\nexport default OrderDetail","import styled from 'styled-components'\r\nimport { MEDIA_QUERY } from '../../constants/style'\r\nimport { useState, useLayoutEffect, useCallback } from 'react'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\n\r\nconst ProductImgContainer = styled.div`\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 15px 0px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 55%;\r\n    height: 90%;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    margin: 0px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 50%;\r\n    height: 90%;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    margin: 0px;\r\n    margin-right: 10px;\r\n  }\r\n`\r\nconst ThumbnailContainer = styled.div`\r\n  width: 85%;\r\n  height: 20%;\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    width: 25%;\r\n    height: 100%;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    width: 25%;\r\n    height: 100%;\r\n  }\r\n`\r\n\r\nconst ThumbnailImgDiv = styled.div`\r\n  width: 30%;\r\n  height: 100% !important;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  margin: 0px 10px 0px 0px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    transition: linear 0.2s;\r\n  }\r\n\r\n  ${(props) =>\r\n    !props.$isSelected &&\r\n    `\r\n  opacity: 0.5;\r\n  transition: opacity ease 0.5s;\r\n  `};\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 100%;\r\n    height: 26% !important;\r\n    margin: 0px 0px 12px 0px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 100%;\r\n    height: 33% !important;\r\n    margin: 0px 0px 10px 0px;\r\n  }\r\n`\r\n\r\nconst LargeImgDiv = styled.div`\r\n  width: 85%;\r\n  height: 75%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  margin-bottom: 30px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 80%;\r\n    height: 100%;\r\n    margin: 0;\r\n    margin-left: 10px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n    height: 100%;\r\n    margin: 0;\r\n    margin-left: 10px;\r\n  }\r\n`\r\n\r\nexport function ProductImgsComponent({ imgs }) {\r\n  const [showLargeImg, setShowLargeImg] = useState([])\r\n  const [showThumbnailImage, setShowThumbnailImage] = useState([])\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const selectedId = showLargeImg?.id\r\n\r\n  useLayoutEffect(() => {\r\n    imgs && setShowLargeImg(imgs[0])\r\n    imgs && setShowThumbnailImage(imgs.filter((img) => img.imgUrlSm))\r\n  }, [imgs])\r\n\r\n  const handleThumbnailClick = useCallback(\r\n    (e) => {\r\n      const id = Number(e.target.id)\r\n      const newLargeImg = imgs.filter((img) => img.id === id)\r\n      setShowLargeImg(newLargeImg[0])\r\n    },\r\n    [imgs]\r\n  )\r\n\r\n  return (\r\n    <ProductImgContainer>\r\n      {isMobile && (\r\n        <LargeImgDiv\r\n          style={{ backgroundImage: `url(${showLargeImg?.imgUrlLg})` }}\r\n        />\r\n      )}\r\n\r\n      <ThumbnailContainer>\r\n        {showThumbnailImage?.map(({ id, imgUrlMd }) => {\r\n          let isSelected = id === selectedId ? true : false\r\n          return (\r\n            imgUrlMd && (\r\n              <ThumbnailImgDiv\r\n                key={id}\r\n                id={id}\r\n                style={{\r\n                  backgroundImage: `url(${imgUrlMd}})`\r\n                }}\r\n                onClick={handleThumbnailClick}\r\n                $isSelected={isSelected}\r\n              />\r\n            )\r\n          )\r\n        })}\r\n      </ThumbnailContainer>\r\n\r\n      {!isMobile && (\r\n        <LargeImgDiv\r\n          style={{ backgroundImage: `url(${showLargeImg?.imgUrlLg})` }}\r\n        />\r\n      )}\r\n    </ProductImgContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useCallback, useMemo, useContext } from 'react'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { ShoppingCarBtn, GeneralBtn } from '../../components/Button'\r\nimport { ItemCounter } from '../../components/Counter'\r\nimport { LocalStorageContext } from '../../context'\r\nimport { formatPrice, getItemsFromLocalStorage } from '../../utils'\r\nimport { useEffect } from 'react/cjs/react.development'\r\n\r\nconst ProductInfoContainer = styled.div`\r\n  width: 100%;\r\n  min-height: 40%;\r\n  height: 40%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 0px 30px;\r\n  margin: 10px 0px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 45%;\r\n    margin: 0px;\r\n    height: 90%;\r\n    min-height: 90%;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 50%;\r\n    margin: 0px;\r\n    height: 90%;\r\n    min-height: 90%;\r\n  }\r\n`\r\n\r\nconst InfoStyle = styled.div`\r\n  width: 100%;\r\n  word-wrap: break-word;\r\n  text-align: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    text-align: left;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    text-align: left;\r\n  }\r\n`\r\n\r\nconst ProductName = styled(InfoStyle)`\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  color: ${FONT_SIZE.text_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xl};\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxl};\r\n    margin-bottom: 10px;\r\n  }\r\n`\r\n\r\nconst Shortdesc = styled(InfoStyle)`\r\n  margin: 6px 0px;\r\n  line-height: 1.5em;\r\n  white-space: pre-wrap;\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${FONT_SIZE.text_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\n\r\nconst InfoSetContainer = styled.div`\r\n  width: 100%;\r\n  margin: 6px 0px;\r\n  flex-wrap: wrap;\r\n  text-align: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    text-align: left;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    text-align: left;\r\n  }\r\n`\r\n\r\nconst PriceStyle = styled.span`\r\n  font-size: ${FONT_SIZE.md};\r\n  color: ${COLOR.accent};\r\n  font-weight: bold;\r\n  text-align: left;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.discount &&\r\n    `\r\n    font-size: ${FONT_SIZE.sm} !important;\r\n    text-decoration: line-through;\r\n  `}\r\n`\r\n\r\nconst DiscountPriceStyle = styled(PriceStyle)`\r\n  color: ${COLOR.warning};\r\n  margin-left: 6px;\r\n  font-size: ${FONT_SIZE.md};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n`\r\n\r\nconst WarningMessage = styled.p`\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.warning};\r\n  margin-top: 8px;\r\n  font-weight: bold;\r\n`\r\n\r\nfunction SoldOutBtn() {\r\n  return (\r\n    <GeneralBtn buttonStyle={{ marginTop: '40px' }}>商品售完待補貨</GeneralBtn>\r\n  )\r\n}\r\n\r\nexport function ProductUpInfoComponent({\r\n  id,\r\n  name,\r\n  shortDesc,\r\n  price,\r\n  discountPrice,\r\n  imgs,\r\n  hasDiscount,\r\n  totalQuantity,\r\n  status,\r\n  handleModalOpen\r\n}) {\r\n  const localCart = JSON.parse(getItemsFromLocalStorage())\r\n  let isProductInCart = localCart\r\n    ? localCart.filter((item) => item.id === parseInt(id))\r\n    : []\r\n  let cartQuantity =\r\n    isProductInCart.length > 0 ? isProductInCart[0].quantity : 0\r\n  const stock = totalQuantity - cartQuantity\r\n  const [quantity, setQuantity] = useState(1)\r\n  const [warningMessage, setWarningMessage] = useState('')\r\n  // eslint-disable-next-line no-unused-vars\r\n  const { handleAddCartItem } = useContext(LocalStorageContext)\r\n  const [inStock, setInStock] = useState(stock)\r\n\r\n  const productInfo = useMemo(\r\n    () => ({\r\n      name,\r\n      price,\r\n      discountPrice,\r\n      imgs,\r\n      quantity\r\n    }),\r\n    [name, price, discountPrice, imgs, quantity]\r\n  )\r\n\r\n  useEffect(() => {\r\n    setInStock(stock)\r\n  }, [stock])\r\n\r\n  const handleAddProductInCart = () => {\r\n    if (inStock > 0) {\r\n      setInStock(inStock - quantity)\r\n      handleAddCartItem(parseInt(id), productInfo)\r\n      return handleModalOpen('已成功加入購物車 ! ')\r\n    }\r\n    if (inStock === 0) {\r\n      return handleModalOpen('此商品達庫存上限')\r\n    }\r\n  }\r\n\r\n  const handleCount = useCallback(\r\n    (type) => {\r\n      if (type === 'increment') {\r\n        return quantity === totalQuantity\r\n          ? setWarningMessage((warningMessage) => '已達商品數量上限')\r\n          : setQuantity(quantity + 1)\r\n      } else {\r\n        if (quantity <= 1) return setQuantity((quantity) => 1)\r\n        setQuantity(quantity - 1)\r\n        if (quantity <= totalQuantity) setWarningMessage((warningMessage) => '')\r\n      }\r\n    },\r\n    [quantity, totalQuantity]\r\n  )\r\n\r\n  const handleChange = useCallback(\r\n    (e) => {\r\n      const targetValue = parseInt(e.target.value.trim(' '))\r\n      const changeQuantity = targetValue ? targetValue : ''\r\n      if (changeQuantity >= totalQuantity) {\r\n        setQuantity((quantity) => totalQuantity)\r\n        return setWarningMessage((warningMessage) => '已達商品數量上限')\r\n      }\r\n      changeQuantity && changeQuantity < 1\r\n        ? setQuantity((quantity) => 1)\r\n        : setQuantity((quantity) => changeQuantity)\r\n    },\r\n    [totalQuantity]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const changeQuantity = e.target.value ? parseInt(e.target.value) : ''\r\n      if (changeQuantity === totalQuantity) {\r\n        return setWarningMessage((warningMessage) => '已達商品數量上限')\r\n      }\r\n      if (!changeQuantity || changeQuantity < 1) setQuantity((quantity) => 1)\r\n      setWarningMessage((warningMessage) => '')\r\n    },\r\n    [totalQuantity]\r\n  )\r\n\r\n  function AddProductToCart() {\r\n    return (\r\n      <ShoppingCarBtn\r\n        id={id}\r\n        color='primary'\r\n        buttonStyle={{ marginTop: '20px' }}\r\n        onClick={handleAddProductInCart}\r\n      >\r\n        加入購物車\r\n      </ShoppingCarBtn>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ProductInfoContainer>\r\n      <ProductName>{name}</ProductName>\r\n      <Shortdesc>{shortDesc}</Shortdesc>\r\n      <InfoSetContainer>\r\n        <PriceStyle discount={hasDiscount}>\r\n          售價: {price && formatPrice(parseInt(price))}\r\n        </PriceStyle>\r\n        {hasDiscount && (\r\n          <DiscountPriceStyle>\r\n            售價: {discountPrice && formatPrice(parseInt(discountPrice))}\r\n          </DiscountPriceStyle>\r\n        )}\r\n      </InfoSetContainer>\r\n      <InfoSetContainer>\r\n        {status === 'on' && totalQuantity !== 0 && (\r\n          <ItemCounter\r\n            buttonStyle={{ marginTop: '20px' }}\r\n            handleCount={handleCount}\r\n            handleChange={handleChange}\r\n            handleOnBlur={handleOnBlur}\r\n            count={quantity}\r\n          />\r\n        )}\r\n        {warningMessage && <WarningMessage>{warningMessage}</WarningMessage>}\r\n        {status === 'off' && <SoldOutBtn />}\r\n        {totalQuantity === 0 && <SoldOutBtn />}\r\n        {status === 'on' && totalQuantity !== 0 && <AddProductToCart />}\r\n      </InfoSetContainer>\r\n    </ProductInfoContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\n\r\nconst ProductBottomContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 15px auto;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 100%;\r\n    margin: 20px auto;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n    margin: 20px auto;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n`\r\n\r\nconst TitleBorder = styled.div`\r\n  margin-top: 8px;\r\n  width: 8%;\r\n  border-bottom: 3px solid ${COLOR.primary_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 10%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 5%;\r\n  }\r\n`\r\n\r\nconst LongDescSingleContent = styled.div`\r\n  margin: 20px auto;\r\n  width: 85%;\r\n  text-align: center;\r\n  white-space: pre-wrap;\r\n  line-height: 1.5em;\r\n  ${MEDIA_QUERY.tablet} {\r\n    line-height: 2em;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    line-height: 2em;\r\n  }\r\n`\r\n\r\nconst LongDescMultiContent = styled.div`\r\n  display: inline-block;\r\n  text-align: left;\r\n  line-height: 1.5em;\r\n  ${MEDIA_QUERY.tablet} {\r\n    line-height: 2em;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    line-height: 2em;\r\n  }\r\n`\r\nexport function ProductBottomInfoComponent({ longDesc }) {\r\n  return (\r\n    <ProductBottomContainer>\r\n      <Title>\r\n        商品敘述\r\n        <TitleBorder />\r\n      </Title>\r\n      <LongDescSingleContent>\r\n        <LongDescMultiContent>{longDesc}</LongDescMultiContent>\r\n      </LongDescSingleContent>\r\n    </ProductBottomContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useEffect } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport useModal from '../../hooks/useModal'\r\nimport { MEDIA_QUERY } from '../../constants/style'\r\nimport { IsLoadingComponent as Loading } from '../../components/IsLoading'\r\nimport { PageWidth } from '../../components/general'\r\nimport { ProductImgsComponent } from '../../components/productSystem/ProductImg'\r\nimport { ProductUpInfoComponent } from '../../components/productSystem/ProductUpInfo'\r\nimport { ProductBottomInfoComponent } from '../../components/productSystem/ProductBottomInfo'\r\n\r\nconst ProductPageDiv = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst ProductTopContainer = styled.div`\r\n  width: 100%;\r\n  height: 800px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin: 20px auto;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 365px;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    margin: 60px auto 20px auto;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 380px;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    margin: 40px auto;\r\n  }\r\n`\r\n\r\nexport default function Products() {\r\n  const { handleModalOpen, Modal } = useModal()\r\n  const { id } = useParams()\r\n  const { isLoading, value, fetchData } = useFetch(`/products/${parseInt(id)}`)\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    fetchData({\r\n      errorHandler: () => {\r\n        history.push('/404')\r\n      }\r\n    })\r\n  }, [fetchData, history])\r\n\r\n  let hasDiscount =\r\n    value?.data?.price !== value?.data?.discountPrice ? true : false\r\n\r\n  return (\r\n    <PageWidth>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <Modal />\r\n          <ProductPageDiv>\r\n            <ProductTopContainer>\r\n              <ProductImgsComponent imgs={value?.data?.Product_imgs} />\r\n              <ProductUpInfoComponent\r\n                id={id}\r\n                name={value?.data?.name}\r\n                shortDesc={value?.data?.shortDesc}\r\n                imgs={value?.data?.Product_imgs}\r\n                price={value?.data?.price}\r\n                discountPrice={value?.data?.discountPrice}\r\n                hasDiscount={hasDiscount}\r\n                totalQuantity={value?.data?.quantity}\r\n                status={value?.data?.status}\r\n                handleModalOpen={handleModalOpen}\r\n              />\r\n            </ProductTopContainer>\r\n            <ProductBottomInfoComponent longDesc={value?.data?.longDesc} />\r\n          </ProductPageDiv>\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { GeneralBtn } from '../../components/Button'\r\nconst Wrapper = styled.div`\r\n  height: 600px;\r\n`\r\nconst WrapperBg = styled.div`\r\n  background: url(${(props) => props.$bg}) center;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 550px;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  ${MEDIA_QUERY.widescreen} {\r\n    height: 900px;\r\n  }\r\n`\r\nconst Title = styled.div`\r\n  color: ${COLOR.warning};\r\n  font-size: ${FONT_SIZE.xxxl};\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 5%;\r\n  transform: translateX(-50%);\r\n  text-align: center;\r\n  font-weight: bold;\r\n`\r\nconst SubTitle = styled.div`\r\n  font-size: ${FONT_SIZE.xl};\r\n  color: ${COLOR.warning};\r\n`\r\n\r\nexport default function NotFound() {\r\n  const location = useHistory()\r\n  const style = {\r\n    width: '120px',\r\n    position: 'absolute',\r\n    left: '50%',\r\n    bottom: '17%',\r\n    transform: 'translateX(-50%)'\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <WrapperBg $bg={`${process.env.PUBLIC_URL}/404/front404.png`}>\r\n        <Title>\r\n          404<SubTitle>找不到頁面</SubTitle>\r\n        </Title>\r\n        <GeneralBtn\r\n          color={'warning'}\r\n          children={'返回首頁'}\r\n          buttonStyle={style}\r\n          onClick={() => location.push('/')}\r\n        />\r\n      </WrapperBg>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import { getTokenFromLocalStorage, isTokenExpired } from '../utils'\r\n\r\nconst BASE_URL = 'https://api.coolizz.tw/admin'\r\n\r\nexport const adminLogin = async (username, password) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        username,\r\n        password\r\n      })\r\n    })\r\n\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const adminCheck = async () => {\r\n  const token = getTokenFromLocalStorage()\r\n  if (isTokenExpired(token)) return false\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    const result = await res.json()\r\n    return result.ok\r\n  } catch (e) {\r\n    console.log(e)\r\n    return false\r\n  }\r\n}\r\n\r\nexport const getOrders = async (condition) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${condition}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getSingleOrder = async (ticketNo) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${ticketNo}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const updateOrderStatus = async (ticketNo, status) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${ticketNo}/${status}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const archiveOrder = async (ticketNo) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${ticketNo}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport styled from 'styled-components'\r\nimport { LoginBtn } from '../../../components/Button'\r\nimport { COLOR, ADMIN_COLOR, FONT_SIZE } from '../../../constants/style'\r\nimport { adminLogin } from '../../../webAPI/adminAPIs'\r\nimport { addTokenToLocalStorage } from '../../../utils'\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  min-width: 400px;\r\n  height: 50vh;\r\n  min-height: 400px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  text-align: center;\r\n`\r\nconst Title = styled.h1`\r\n  font-weight: bold;\r\n  font-size: ${FONT_SIZE.xxxl};\r\n  color: ${COLOR.text_black};\r\n  margin: -20px 0 40px 0;\r\n  letter-spacing: 2px;\r\n`\r\nconst FormContainer = styled.form`\r\n  width: 84%;\r\n  height: 80%;\r\n  margin: 0 auto;\r\n  padding: 20px 0;\r\n  background: ${ADMIN_COLOR.grey};\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`\r\nconst FormTitle = styled.h3`\r\n  font-size: ${FONT_SIZE.xl};\r\n  font-weight: bold;\r\n`\r\nconst Input = styled.input`\r\n  display: block;\r\n  width: 80%;\r\n  height: 50px;\r\n  padding: 8px;\r\n  margin: 6px 0;\r\n  border-radius: 3px;\r\n  border: 1px solid ${COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${COLOR.text_black};\r\n  }\r\n`\r\nconst Err = styled.p`\r\n  width: 77%;\r\n  text-align: left;\r\n  margin: -14px;\r\n  padding: 0;\r\n  height: 12px;\r\n  line-height: 4px;\r\n  color: ${ADMIN_COLOR.warning};\r\n  font-size: ${FONT_SIZE.sm};\r\n`\r\n\r\nexport default function AdminLogin() {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [errMsg, setErrMsg] = useState('')\r\n  let history = useHistory()\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault()\r\n    if (!username || !password) return setErrMsg('缺少帳號或密碼')\r\n    ;(async () => {\r\n      const res = await adminLogin(username, password)\r\n      if (!res.ok) return setErrMsg('帳號或密碼錯誤')\r\n      alert('登入成功')\r\n      addTokenToLocalStorage(res.token)\r\n      history.push('/admin/members')\r\n    })()\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Title>DAYEAYEAYEA 生活選物</Title>\r\n      <FormContainer onSubmit={handleLogin}>\r\n        <FormTitle>登入管理後臺</FormTitle>\r\n        <Input\r\n          placeholder='帳號'\r\n          onChange={(e) => {\r\n            setErrMsg('')\r\n            setUsername(e.target.value)\r\n          }}\r\n        ></Input>\r\n        <Input\r\n          type='password'\r\n          placeholder='密碼'\r\n          onChange={(e) => {\r\n            setErrMsg('')\r\n            setPassword(e.target.value)\r\n          }}\r\n        ></Input>\r\n        <Err>{errMsg}</Err>\r\n        <LoginBtn\r\n          buttonStyle={{\r\n            background: ADMIN_COLOR.Btn_darkgrey,\r\n            width: '80%',\r\n            height: '50px'\r\n          }}\r\n        >\r\n          登入\r\n        </LoginBtn>\r\n      </FormContainer>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import AdminLogin from './AdminLogin'\r\n\r\nexport default AdminLogin\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw/admin'\r\nexport const getAllMembers = async () => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/members`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e.toString())\r\n  }\r\n}\r\nexport const getMember = async (id) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/members/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e.toString())\r\n  }\r\n}\r\n\r\nexport const updateMemberLevel = async (id, level) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/members/${id}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        level\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e.toString())\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, ADMIN_COLOR, ADMIN_MEDIA_QUERY } from '../../constants/style'\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 100%;\r\n  margin: 0px auto;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1680px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1680px;\r\n  }\r\n`\r\nexport const ColumnHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  background: ${ADMIN_COLOR.table_blue};\r\n  padding: 10px 0px 10px 40px;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n`\r\nexport const Header = styled.div`\r\n  color: ${COLOR.text_light};\r\n  font-weight: bold;\r\n  width: unset;\r\n`\r\nexport const TableItemContainer = styled.div`\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  padding-bottom: 10px;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 0px 10px 40px;\r\n  border-top: 4px solid ${COLOR.light};\r\n`\r\nexport const Cell = styled.span`\r\n  width: unset;\r\n  word-break: break-word;\r\n`\r\nexport const EditBtn = styled(Link)`\r\n  background: ${ADMIN_COLOR.editBtn_grey};\r\n  color: ${COLOR.text_light};\r\n  padding: 6px 10px;\r\n  border-radius: 3px;\r\n  transition: background 0.2s ease;\r\n  &:hover {\r\n    background: ${ADMIN_COLOR.editBtn_grey_hover};\r\n    color: ${COLOR.text_light};\r\n  }\r\n`\r\n","import { Container, Cell } from '../TableStyle'\r\nimport { GeneralBtn } from '../../Button'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { formatPrice } from '../../../utils'\r\n\r\nconst Btn = styled(Link)`\r\n  button {\r\n    min-width: 80px;\r\n    width: 50%;\r\n    background: ${ADMIN_COLOR.Btn_grey};\r\n    &:hover {\r\n      background: ${ADMIN_COLOR.Btn_grey_hover};\r\n    }\r\n  }\r\n`\r\nconst RestyledContainer = styled(Container)`\r\n  border-radius: 20px;\r\n`\r\nconst RestyledCell = styled(Cell)`\r\n  word-wrap: break-word;\r\n  padding: 0 4px;\r\n`\r\n\r\nexport default function TableItem({ member }) {\r\n  const calTotalPrice =\r\n    member.Orders.length > 0\r\n      ? member?.Orders.map((order) => order.subTotal).reduce(\r\n          (total, num) => total + num\r\n        )\r\n      : 0\r\n  return (\r\n    <RestyledContainer>\r\n      <RestyledCell style={{ width: '19%' }}>{member.username}</RestyledCell>\r\n      <RestyledCell style={{ width: '50%' }}>{member.email}</RestyledCell>\r\n      <RestyledCell style={{ width: '15%' }}>\r\n        {member.Orders.length}\r\n      </RestyledCell>\r\n      <RestyledCell style={{ width: '18%' }}>\r\n        {formatPrice(calTotalPrice)}\r\n      </RestyledCell>\r\n      <RestyledCell style={{ width: '16%' }}>\r\n        <Btn to={`/admin/members/${member.id}`}>\r\n          <GeneralBtn children={'詳情'} />\r\n        </Btn>\r\n      </RestyledCell>\r\n    </RestyledContainer>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\nimport { useEffect } from 'react'\r\nimport { GeneralBtn } from '../../Button'\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n`\r\nconst Input = styled.input`\r\n  width: 400px;\r\n  padding: 10px 10px 10px 40px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst StyledSearchIcon = styled(FontAwesomeIcon)`\r\n  font-size: 14px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 12px;\r\n  transform: translate(0, -50%);\r\n`\r\n\r\nexport function Search({ value, setValue }) {\r\n  const [isSearching, setIsSearching] = useState(false)\r\n  useEffect(() => {\r\n    value ? setIsSearching(true) : setIsSearching(false)\r\n  }, [value])\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <StyledSearchIcon icon={faSearch} />\r\n      <Input\r\n        placeholder={'輸入帳號、信箱、名稱或是電話來搜尋使用者'}\r\n        value={value}\r\n        onChange={handleChange}\r\n      ></Input>\r\n      {isSearching && (\r\n        <GeneralBtn\r\n          onClick={() => {\r\n            setValue('')\r\n          }}\r\n          color={'admin_blue'}\r\n          children={'清除搜尋'}\r\n          buttonStyle={{ width: '100px', marginLeft: '20px' }}\r\n        />\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useContext } from 'react'\r\nimport { css } from '@emotion/react'\r\nimport SyncLoader from 'react-spinners/SyncLoader'\r\nimport { ADMIN_COLOR } from '../../constants/style'\r\nimport { LoadingContext } from '../../context'\r\n\r\nconst FixedBackground = styled.div`\r\n  position: fixed;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst IsLoadingStyle = styled.div`\r\n  margin: 0 auto;\r\n  position: fixed;\r\n  z-index: 4;\r\n  top: 50%;\r\n  left: ${(props) => (props.isNavClick ? '55%' : '50%')};\r\n  transform: ${(props) =>\r\n    props.isNavClick ? 'translate(-24%, -50%)' : 'translate(-50%, -50%)'};\r\n`\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`\r\n\r\nexport function AdminIsLoadingComponent() {\r\n  const { isNavClick } = useContext(LoadingContext)\r\n  return (\r\n    <FixedBackground>\r\n      <IsLoadingStyle isNavClick={isNavClick}>\r\n        <SyncLoader\r\n          color={ADMIN_COLOR.table_blue}\r\n          css={override}\r\n          size='13px'\r\n          margin='15px'\r\n          speedMultiplier='2'\r\n        />\r\n      </IsLoadingStyle>\r\n    </FixedBackground>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { ADMIN_COLOR, FONT_SIZE } from '../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst PaginatorButtonStyle = styled(Link)`\r\n  background: transport;\r\n  color: ${ADMIN_COLOR.Btn_grey};\r\n  margin: 0px 4px;\r\n  padding: 0px 4px;\r\n  font-size: ${FONT_SIZE.md};\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n  font-weight: bold;\r\n  border-bottom: 1px solid ${ADMIN_COLOR.border_grey};\r\n  `}\r\n`\r\n\r\nexport function PaginatorButton({ to, page, active }) {\r\n  return (\r\n    <PaginatorButtonStyle key={page} to={to} $active={active}>\r\n      {page}\r\n    </PaginatorButtonStyle>\r\n  )\r\n}\r\n","import { useEffect, useLayoutEffect, useState, useContext } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { getAllMembers } from '../../../webAPI/adminMembersAPI'\r\nimport {\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer\r\n} from '../../../components/admin/TableStyle'\r\nimport { ADMIN_MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport TableItem from '../../../components/admin/memberManage/MemberItem'\r\nimport { Search } from '../../../components/admin/memberManage/Search'\r\nimport { LoadingContext } from '../../../context'\r\nimport { AdminIsLoadingComponent } from '../../../components/admin/AdminIsLoading'\r\nimport { calTotalPages } from '../../../utils'\r\nimport { PaginatorButton } from '../../../components/admin/PaginatorStyle'\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin: 40px auto;\r\n  width: 75vw;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1680px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1680px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst SearchContainer = styled.div`\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  width: 78vw;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    width: 68vw;\r\n    max-width: 1180px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1180px;\r\n  }\r\n`\r\nconst RestyleHeader = styled(Header)`\r\n  width: 12%;\r\n  width: ${({ $name }) => $name === 'Email' && '38%'};\r\n  width: ${({ $name }) => $name === '訂單編號' && '26%'};\r\n`\r\nconst Paginator = styled.div`\r\n  text-align: center;\r\n  margin: 20px;\r\n`\r\n\r\nconst headerNames = ['帳號名稱', 'Email', '訂單數', '消費總金額', 'Edit']\r\nconst Msg = styled.div`\r\n  text-align: center;\r\n  padding: 30px;\r\n`\r\nexport default function AdminMembers() {\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const location = useHistory()\r\n  const [members, setMembers] = useState(() => {\r\n    ;(async () => {\r\n      const result = await getAllMembers()\r\n      if (result.ok === 0) {\r\n        return location.push('/404')\r\n      }\r\n      setMembers(result.data)\r\n      setIsLoading(false)\r\n    })()\r\n  })\r\n  const [offset, setOffset] = useState(0)\r\n  const query = useLocation().search\r\n  const [page, setPage] = useState()\r\n  useEffect(() => {\r\n    const param = new URLSearchParams(query)\r\n    param.get('page') ? setPage(param.get('page')) : setPage('1')\r\n    setOffset((page - 1) * 10)\r\n  }, [page, query])\r\n  const ORDERS_PER_PAGE = 10\r\n  const TotalPages = members && [...Array(calTotalPages(members.length)).keys()]\r\n  const [value, setValue] = useState('')\r\n  const [membersFilter, setMembersFilter] = useState()\r\n  useLayoutEffect(() => {\r\n    setIsLoading(true)\r\n  }, [setIsLoading])\r\n  useEffect(() => {\r\n    let reg = new RegExp(value, 'i')\r\n    value\r\n      ? setMembersFilter(\r\n          members.filter(\r\n            (member) =>\r\n              reg.test(member.username) ||\r\n              reg.test(member.email) ||\r\n              reg.test(member.fullname) ||\r\n              reg.test(member.phone)\r\n          )\r\n        )\r\n      : setMembersFilter(members)\r\n  }, [members, value])\r\n\r\n  return (\r\n    <PageWrapper>\r\n      {isLoading && <AdminIsLoadingComponent />}\r\n      <SearchContainer>\r\n        <Search value={value} setValue={setValue} />\r\n      </SearchContainer>\r\n      <ColumnHeader>\r\n        {headerNames.map((name) => (\r\n          <RestyleHeader key={name} $name={name}>\r\n            {name}\r\n          </RestyleHeader>\r\n        ))}\r\n      </ColumnHeader>\r\n      <TableItemContainer>\r\n        {membersFilter &&\r\n          membersFilter\r\n            .sort((a, b) => b.id - a.id)\r\n            .slice(offset, offset + ORDERS_PER_PAGE)\r\n            .map((member) => <TableItem key={member.id} member={member} />)}\r\n        {!membersFilter?.length && <Msg>沒有符合條件的客人</Msg>}\r\n      </TableItemContainer>\r\n      <Paginator>\r\n        {TotalPages &&\r\n          TotalPages.map((pageValue) => (\r\n            <PaginatorButton\r\n              key={pageValue}\r\n              page={pageValue + 1}\r\n              to={`/admin/members?page=${pageValue + 1}`}\r\n              active={pageValue + 1 === parseInt(page)}\r\n            ></PaginatorButton>\r\n          ))}\r\n      </Paginator>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import { Container, Cell } from '../TableStyle'\r\nimport { GeneralBtn } from '../../Button'\r\nimport styled from 'styled-components'\r\nimport { formatPrice } from '../../../utils'\r\nimport { useHistory } from 'react-router'\r\nconst RestyledCell = styled(Cell)`\r\n  width: 12%;\r\n  padding: 0 4px;\r\n`\r\n\r\nexport default function TableItem({ order }) {\r\n  const location = useHistory()\r\n  return (\r\n    <Container>\r\n      <RestyledCell>{order.status}</RestyledCell>\r\n      <RestyledCell style={{ width: '25%' }}>{order.ticketNo}</RestyledCell>\r\n      <RestyledCell style={{ width: '39%' }}>{order.orderEmail}</RestyledCell>\r\n      <RestyledCell>\r\n        {formatPrice(order.subTotal ? order.subTotal : 0)}\r\n      </RestyledCell>\r\n      <RestyledCell>\r\n        <GeneralBtn\r\n          onClick={() => location.push(`/admin/orders/${order.ticketNo}`)}\r\n          color='admin_grey'\r\n          children={'訂單詳情'}\r\n          buttonStyle={{ minWidth: '80px', width: '50%' }}\r\n        />\r\n      </RestyledCell>\r\n    </Container>\r\n  )\r\n}\r\n","import { useEffect, useState, useContext, useLayoutEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer\r\n} from '../../../components/admin/TableStyle'\r\nimport OrderItem from '../../../components/admin/memberManage/OrderItem'\r\nimport { GeneralBtn, LogoutBtn } from '../../../components/Button'\r\nimport {\r\n  ADMIN_COLOR,\r\n  FONT_SIZE,\r\n  ADMIN_MEDIA_QUERY\r\n} from '../../../constants/style'\r\nimport { useForm } from 'react-hook-form'\r\nimport { updateMemberLevel } from '../../../webAPI/adminMembersAPI'\r\nimport { useParams } from 'react-router-dom'\r\nimport { getMember } from '../../../webAPI/adminMembersAPI'\r\nimport { LoadingContext } from '../../../context'\r\nimport { AdminIsLoadingComponent } from '../../../components/admin/AdminIsLoading'\r\nimport { calTotalPages } from '../../../utils'\r\nimport { PaginatorButton } from '../../../components/admin/PaginatorStyle'\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin: 40px auto;\r\n  width: 75vw;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1280px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1280px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst MemberWrapper = styled.div`\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  position: relative;\r\n  padding: 20px 30px;\r\n  margin: 25px 0px;\r\n`\r\n\r\nconst List = styled.div`\r\n  margin: 30px;\r\n`\r\nconst ListTitle = styled.span`\r\n  margin-right: 20px;\r\n  font-weight: bold;\r\n`\r\nconst ListData = styled.span``\r\n\r\nconst EditButton = styled.div`\r\n  width: 100px;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 30px;\r\n`\r\nconst Msg = styled.div`\r\n  text-align: center;\r\n  padding: 30px;\r\n`\r\nconst RestyleHeader = styled(Header)`\r\n  width: 12%;\r\n  width: ${({ $name }) => $name === 'Email' && '38%'};\r\n  width: ${({ $name }) => $name === '訂單編號' && '26%'};\r\n`\r\nconst Paginator = styled.div`\r\n  text-align: center;\r\n  margin: 20px;\r\n`\r\nconst headerNames = ['訂單狀態', '訂單編號', 'Email', '訂單金額', 'Edit']\r\nexport default function AdminMemberDetail() {\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  let { id } = useParams()\r\n  const location = useHistory()\r\n  const [isEdit, setIsEdit] = useState(false)\r\n  const [memberDetail, setMemberDetail] = useState(() => {\r\n    ;(async () => {\r\n      const result = await getMember(id)\r\n      if (result.ok === 0) {\r\n        return location.push('/404')\r\n      }\r\n      setMemberDetail(result.data)\r\n      setIsLoading(false)\r\n    })()\r\n  })\r\n\r\n  const [offset, setOffset] = useState(0)\r\n  const query = useLocation().search\r\n  const [page, setPage] = useState()\r\n  useEffect(() => {\r\n    const param = new URLSearchParams(query)\r\n    param.get('page') ? setPage(param.get('page')) : setPage('1')\r\n    setOffset((page - 1) * 10)\r\n  }, [page, query])\r\n  const ORDERS_PER_PAGE = 10\r\n  const TotalPages = memberDetail && [\r\n    ...Array(calTotalPages(memberDetail?.Orders.length)).keys()\r\n  ]\r\n\r\n  const handleEdit = () => {\r\n    isEdit ? setIsEdit(false) : setIsEdit(true)\r\n  }\r\n  const { register, handleSubmit, setValue } = useForm()\r\n  useLayoutEffect(() => {\r\n    setIsLoading(true)\r\n  }, [setIsLoading])\r\n  useEffect(() => {\r\n    setValue('level', memberDetail?.level)\r\n  }, [memberDetail?.level, setValue])\r\n\r\n  const onSubmit = async (submitData) => {\r\n    const result = await updateMemberLevel(memberDetail.id, submitData.level)\r\n    if (result.ok === 0) {\r\n      console.log(result.message)\r\n      return false\r\n    }\r\n    setMemberDetail({ ...memberDetail, level: submitData.level })\r\n    alert('已編輯完成!')\r\n    handleEdit()\r\n  }\r\n  return (\r\n    <PageWrapper>\r\n      {isLoading && <AdminIsLoadingComponent />}\r\n      <LogoutBtn\r\n        onClick={() => {\r\n          setMemberDetail(null)\r\n          location.push('/admin/members')\r\n        }}\r\n        color={'admin_blue'}\r\n        children={'回會員列表'}\r\n        buttonStyle={{ width: '120px' }}\r\n      />\r\n      <MemberWrapper>\r\n        <List>\r\n          <ListTitle>帳號:</ListTitle>\r\n\r\n          <ListData children={memberDetail?.username} />\r\n        </List>\r\n        <List>\r\n          <ListTitle>信箱:</ListTitle>\r\n\r\n          <ListData children={memberDetail?.email} />\r\n        </List>\r\n        <List>\r\n          <ListTitle>名稱:</ListTitle>\r\n\r\n          <ListData children={memberDetail?.fullname} />\r\n        </List>\r\n        <List>\r\n          <ListTitle>電話:</ListTitle>\r\n\r\n          <ListData children={memberDetail?.phone} />\r\n        </List>\r\n        <List>\r\n          <ListTitle>地址:</ListTitle>\r\n\r\n          <ListData children={memberDetail?.address} />\r\n        </List>\r\n        <List>\r\n          <ListTitle>會員等級:</ListTitle>\r\n          {!isEdit && <ListData children={memberDetail?.level} />}\r\n          {isEdit && (\r\n            <select {...register('level')}>\r\n              <option value='normal'>normal</option>\r\n              <option value='vip'>vip</option>\r\n            </select>\r\n          )}\r\n        </List>\r\n        <EditButton onClick={isEdit ? handleSubmit(onSubmit) : handleEdit}>\r\n          <GeneralBtn\r\n            children={isEdit ? '儲存' : '編輯'}\r\n            color={isEdit ? 'admin_blue' : 'admin_grey'}\r\n          />\r\n        </EditButton>\r\n      </MemberWrapper>\r\n      <ColumnHeader>\r\n        {headerNames.map((name) => (\r\n          <RestyleHeader key={name} $name={name}>\r\n            {name}\r\n          </RestyleHeader>\r\n        ))}\r\n      </ColumnHeader>\r\n\r\n      <TableItemContainer>\r\n        {!memberDetail?.Orders.length && <Msg>客人還沒有訂單喔!</Msg>}\r\n        {memberDetail?.Orders.sort((a, b) => b.id - a.id)\r\n          .slice(offset, offset + ORDERS_PER_PAGE)\r\n          .map((order) => (\r\n            <OrderItem key={order.id} order={order} />\r\n          ))}\r\n      </TableItemContainer>\r\n      <Paginator>\r\n        {TotalPages &&\r\n          TotalPages.map((pageValue) => (\r\n            <PaginatorButton\r\n              key={pageValue}\r\n              page={pageValue + 1}\r\n              to={`/admin/members/${id}?page=${pageValue + 1}`}\r\n              active={pageValue + 1 === parseInt(page)}\r\n            ></PaginatorButton>\r\n          ))}\r\n      </Paginator>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { useState, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`\r\nconst Input = styled.input`\r\n  width: 200px;\r\n  padding: 10px 10px 10px 40px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst StyledSearchIcon = styled(FontAwesomeIcon)`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 10px;\r\n  transform: translate(0, -50%);\r\n  cursor: pointer;\r\n`\r\nconst Dropdown = styled.select`\r\n  width: 200px;\r\n  padding: 10px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  margin-left: 12px;\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nconst keywordsSearch = (history, setInputValue, keyword) => {\r\n  history.push(`/admin/products/1?search=${keyword}`)\r\n  setInputValue((inputValue) => '')\r\n}\r\n\r\nfunction CategoryDropdown({ onChange }) {\r\n  return (\r\n    <Dropdown\r\n      name='filter'\r\n      id='filter'\r\n      onChange={onChange}\r\n      defaultValue={'DEFAULT'}\r\n    >\r\n      <option value='DEFAULT' disabled>\r\n        商品分類\r\n      </option>\r\n      <option value='all'>所有商品</option>\r\n      <option value='home'>居家生活</option>\r\n      <option value='apparel'>服飾配件</option>\r\n      <option value='kitchenware'>廚房餐具</option>\r\n      <option value='food'>食材雜貨</option>\r\n      <option value='stationery'>設計文具</option>\r\n      <option value='outdoor'>休閒戶外</option>\r\n    </Dropdown>\r\n  )\r\n}\r\n\r\nfunction Search() {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const keyword = inputValue.trim('').replace(/ /g, '%2B')\r\n  const history = useHistory()\r\n\r\n  const handleOnChange = useCallback((e) => {\r\n    setInputValue(e.target.value)\r\n  }, [])\r\n\r\n  const handleOnClick = useCallback(() => {\r\n    keywordsSearch(history, setInputValue, keyword)\r\n  }, [history, keyword])\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e) => {\r\n      if (e.keyCode !== 13) return\r\n      keywordsSearch(history, setInputValue, keyword)\r\n    },\r\n    [history, keyword]\r\n  )\r\n\r\n  return (\r\n    <Wrapper>\r\n      <StyledSearchIcon icon={faSearch} onClick={handleOnClick} />\r\n      <Input\r\n        placeholder='搜尋商品'\r\n        type='text'\r\n        name='search'\r\n        value={inputValue}\r\n        onChange={handleOnChange}\r\n        onKeyDown={handleKeyDown}\r\n      ></Input>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport { CategoryDropdown, Search, StyledSearchIcon, Wrapper, Input }\r\n","import styled from 'styled-components'\r\nimport { useState, useCallback, useContext } from 'react'\r\nimport { ProductIdContext } from '../../../context'\r\nimport { Link } from 'react-router-dom'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { ItemCounter } from '../../../components/Counter'\r\nimport {\r\n  Wrapper,\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer,\r\n  Container,\r\n  Cell\r\n} from '../TableStyle'\r\n\r\nconst NameHeader = styled(Header)`\r\n  text-align: center;\r\n  width: 13%;\r\n  width: ${({ $name }) => $name === '商品名稱' && '20%'};\r\n  width: ${({ $name }) => $name === '商品預覽' && '15%'};\r\n  margin: 0px 5px;\r\n`\r\nconst GeneralCell = styled(Cell)`\r\n  text-align: center;\r\n  margin: 0px 6px;\r\n`\r\nconst NameCell = styled(GeneralCell)`\r\n  width: 20%;\r\n`\r\nconst ProductCell = styled(GeneralCell)`\r\n  width: 13%;\r\n`\r\nconst ImgCell = styled(GeneralCell)`\r\n  width: 15%;\r\n  height: 80px;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  margin: 0px 3px;\r\n`\r\nconst QuantityCounter = styled(ItemCounter)`\r\n  background-color: transparent;\r\n`\r\nconst ButtonContainer = styled.div`\r\n  width: 70%;\r\n  margin: 0px auto;\r\n`\r\nfunction StatusButton({ id, status }) {\r\n  let color = status === 'on' ? 'admin_blue' : 'admin_grey'\r\n  let content = status === 'on' ? '上架中' : '下架中'\r\n  return (\r\n    <GeneralBtn color={color} id={id}>\r\n      {content}\r\n    </GeneralBtn>\r\n  )\r\n}\r\n\r\nfunction TableItem({ product, handleModalOpen }) {\r\n  const {\r\n    id,\r\n    name,\r\n    price,\r\n    discountPrice,\r\n    quantity,\r\n    article,\r\n    status,\r\n    Product_imgs\r\n  } = product\r\n  const [productQuantity, setProductQuantity] = useState(quantity)\r\n  const [productStatus, setProductStatus] = useState(status)\r\n  const { setProductId } = useContext(ProductIdContext)\r\n  const { fetchData } = useFetch(`/admin/products/${id}`, {\r\n    method: 'PATCH'\r\n  })\r\n  const length = Product_imgs.length\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [productImg, setProductImg] = useState(\r\n    Product_imgs && Product_imgs[length - 1].imgUrlSm\r\n  )\r\n  const handleCount = useCallback(\r\n    (type) => {\r\n      let changeQuantity\r\n      if (type === 'increment') changeQuantity = productQuantity + 1\r\n      if (type === 'decrement') {\r\n        changeQuantity = productQuantity <= 1 ? 1 : productQuantity - 1\r\n      }\r\n      setProductQuantity(changeQuantity)\r\n      fetchData({\r\n        bodyData: { quantity: changeQuantity },\r\n        errorHandler: (error) => {\r\n          alert(error.message)\r\n        }\r\n      })\r\n    },\r\n    [productQuantity, setProductQuantity, fetchData]\r\n  )\r\n\r\n  const handleChange = useCallback((e) => {\r\n    const changeQuantity = e.target.value ? parseInt(e.target.value) : ''\r\n    changeQuantity && changeQuantity < 1\r\n      ? setProductQuantity((productQuantity) => 1)\r\n      : setProductQuantity((productQuantity) => changeQuantity)\r\n  }, [])\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      let changeQuantity = e.target.value ? parseInt(e.target.value) : 1\r\n      if (changeQuantity < 1) changeQuantity = 1\r\n      setProductQuantity((productQuantity) => changeQuantity)\r\n      fetchData({\r\n        bodyData: { quantity: changeQuantity },\r\n        errorHandler: (error) => {\r\n          alert(error.message)\r\n        }\r\n      })\r\n    },\r\n    [fetchData]\r\n  )\r\n\r\n  const handleOnStatusClick = useCallback(() => {\r\n    let newStatus = productStatus === 'on' ? 'off' : 'on'\r\n    setProductStatus(newStatus)\r\n    fetchData({\r\n      bodyData: { status: newStatus },\r\n      errorHandler: (error) => {\r\n        alert(error.message)\r\n      }\r\n    })\r\n  }, [productStatus, fetchData])\r\n\r\n  const handleOnDeleteClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      setProductId(Number(e.target.id))\r\n      handleModalOpen()\r\n    },\r\n    [handleModalOpen, setProductId]\r\n  )\r\n\r\n  return (\r\n    <Container>\r\n      <ImgCell style={{ backgroundImage: `url(${productImg})` }}></ImgCell>\r\n      <NameCell>{name}</NameCell>\r\n      <ProductCell>NT. {price}</ProductCell>\r\n      <ProductCell>NT. {discountPrice}</ProductCell>\r\n      <ProductCell>\r\n        <QuantityCounter\r\n          targetId={id}\r\n          buttonStyle={{ margin: '0px 4px' }}\r\n          handleChange={handleChange}\r\n          handleCount={handleCount}\r\n          handleOnBlur={handleOnBlur}\r\n          count={productQuantity}\r\n        />\r\n      </ProductCell>\r\n      {article !== 'null' && <ProductCell>{article}</ProductCell>}\r\n      {article === 'null' && <ProductCell>無</ProductCell>}\r\n      <ProductCell>\r\n        <ButtonContainer onClick={handleOnStatusClick} id={id}>\r\n          <StatusButton status={productStatus} id={id} />\r\n        </ButtonContainer>\r\n      </ProductCell>\r\n      <ProductCell>\r\n        <ButtonContainer>\r\n          <Link to={`/admin/products/detail/${id}`}>\r\n            <GeneralBtn color='admin_blue'>進入</GeneralBtn>\r\n          </Link>\r\n        </ButtonContainer>\r\n      </ProductCell>\r\n      <ProductCell>\r\n        <ButtonContainer onClick={handleOnDeleteClick} id={id}>\r\n          <GeneralBtn color='admin_grey' id={id} onClick={handleOnDeleteClick}>\r\n            刪除\r\n          </GeneralBtn>\r\n        </ButtonContainer>\r\n      </ProductCell>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default function Table({ products, handleModalOpen }) {\r\n  const headerNames = [\r\n    '商品預覽',\r\n    '商品名稱',\r\n    '商品售價',\r\n    '特價價格',\r\n    '庫存數量',\r\n    '活動文章',\r\n    '上下架',\r\n    '詳情',\r\n    '刪除'\r\n  ]\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ColumnHeader>\r\n        {headerNames.map((name) => (\r\n          <NameHeader key={name} $name={name}>\r\n            {name}\r\n          </NameHeader>\r\n        ))}\r\n      </ColumnHeader>\r\n      <TableItemContainer>\r\n        {products &&\r\n          products.map((product) => (\r\n            <TableItem\r\n              key={product.id}\r\n              product={product}\r\n              id={product.id}\r\n              handleModalOpen={handleModalOpen}\r\n            />\r\n          ))}\r\n      </TableItemContainer>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport qs from 'qs'\r\nimport { useState, useLayoutEffect, useCallback, useContext } from 'react'\r\nimport { useParams, useLocation, useHistory, Link } from 'react-router-dom'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { AdminContext, ProductIdContext } from '../../../context'\r\nimport { AdminIsLoadingComponent as Loading } from '../../../components/admin/AdminIsLoading'\r\nimport { ADMIN_MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport {\r\n  CategoryDropdown,\r\n  Search\r\n} from '../../../components/admin/productManage/Search'\r\nimport Table from '../../../components/admin/productManage/Table'\r\nimport { PaginatorButton } from '../../../components/admin/PaginatorStyle'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { setAdminProductsPageInArray } from '../../../utils'\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  width: 75vw;\r\n  border: 1px solid transparent;\r\n  margin: 40px auto;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1680px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1680px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst SearchContainer = styled.div`\r\n  margin: 20px auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`\r\n\r\nconst SearchSideContainer = styled.div`\r\n  display: flex;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto;\r\n`\r\n\r\nconst SearchResultDiv = styled.div`\r\n  display: flex;\r\n  height: 300px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nfunction CancelButton({ onCancelClick }) {\r\n  return (\r\n    <GeneralBtn\r\n      color='admin_blue'\r\n      buttonStyle={{ marginLeft: '8px' }}\r\n      onClick={onCancelClick}\r\n    >\r\n      取消\r\n    </GeneralBtn>\r\n  )\r\n}\r\nfunction DeleteButton({ onDeleteClick }) {\r\n  return (\r\n    <GeneralBtn color='admin_grey' onClick={onDeleteClick}>\r\n      刪除\r\n    </GeneralBtn>\r\n  )\r\n}\r\n\r\nexport default function AdminProducts() {\r\n  let showProductsList\r\n  let pagesArray\r\n  let totalPage\r\n  let showProductsByPage\r\n  const [products, setProducts] = useState([])\r\n  const [productId, setProductId] = useState('')\r\n  const [categoryFilter, setCategoryFilter] = useState('all')\r\n  const { isSuperAdmin } = useContext(AdminContext)\r\n  const { page = 1 } = useParams()\r\n  const keywords = useLocation().search.trim(' ')\r\n  const keywordString = qs.parse(keywords, { ignoreQueryPrefix: true }).search\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const productsPerPage = 12\r\n  const perPageSliceStart = (Number(page) - 1) * productsPerPage\r\n  const perPageSliceEnd = Number(page) * productsPerPage\r\n  const checkModal = useModal('此帳號沒有相關權限')\r\n  const deleteModal = useModal('確定要刪除嗎？')\r\n  const { isLoading: searchLoading, fetchData: searchProduct } = useFetch(\r\n    `/admin/products/${keywords}`\r\n  )\r\n  const { isLoading: getProductsLoading, fetchData: getAllProducts } =\r\n    useFetch(`/admin/products`)\r\n  const { fetchData: deleteProduct } = useFetch(\r\n    `/admin/products/${productId}`,\r\n    {\r\n      method: 'DELETE'\r\n    }\r\n  )\r\n\r\n  useLayoutEffect(() => {\r\n    if (keywords) {\r\n      searchProduct({\r\n        handler: (value) => {\r\n          setProducts((products) => value?.data)\r\n        },\r\n        errorHandler: () => {\r\n          history.push('/admin/404')\r\n        }\r\n      })\r\n    }\r\n    if (!keywords) {\r\n      getAllProducts({\r\n        handler: (value) => {\r\n          setProducts((products) => value?.data)\r\n        },\r\n        errorHandler: () => {\r\n          history.push('/admin/404')\r\n        }\r\n      })\r\n    }\r\n  }, [keywords, getAllProducts, searchProduct, history])\r\n\r\n  if (products) {\r\n    showProductsList = products.filter((product) =>\r\n      categoryFilter === 'all' ? product : product.category === categoryFilter\r\n    )\r\n    pagesArray = setAdminProductsPageInArray(showProductsList.length).pagesArray\r\n    totalPage = setAdminProductsPageInArray(showProductsList.length).totalPage\r\n    showProductsByPage = showProductsList.slice(\r\n      perPageSliceStart,\r\n      perPageSliceEnd\r\n    )\r\n  }\r\n\r\n  if (totalPage) {\r\n    parseInt(page) > totalPage && history.push('/admin/404')\r\n  }\r\n\r\n  const handleOnClick = useCallback(() => {\r\n    checkModal.handleModalOpen()\r\n  }, [checkModal])\r\n\r\n  const handleOnDeleteClick = useCallback(() => {\r\n    isSuperAdmin ? deleteModal.handleModalOpen() : checkModal.handleModalOpen()\r\n  }, [isSuperAdmin, deleteModal, checkModal])\r\n\r\n  const handleDropDownChange = useCallback(\r\n    (e) => {\r\n      setCategoryFilter((categoryFilter) => e.target.value)\r\n      if (keywords) {\r\n        history.push('/admin/products/1')\r\n      }\r\n      if (location.pathname !== '/admin/products/1')\r\n        history.push('/admin/products/1')\r\n    },\r\n    [history, location, keywords]\r\n  )\r\n\r\n  const handleDelete = useCallback(() => {\r\n    deleteProduct({\r\n      handler: () => {\r\n        const deletedProductsList = products.filter(\r\n          (product) => product.id !== productId\r\n        )\r\n        setProducts((products) => deletedProductsList)\r\n        if ((showProductsByPage.length - 1) % productsPerPage === 0) {\r\n          history.push(`/admin/products/${totalPage - 1}`)\r\n        }\r\n        deleteModal.handleModalClose()\r\n      },\r\n      errorHandler: (error) => {\r\n        return alert(error.message)\r\n      }\r\n    })\r\n  }, [\r\n    deleteProduct,\r\n    deleteModal,\r\n    history,\r\n    products,\r\n    showProductsByPage,\r\n    totalPage,\r\n    productId\r\n  ])\r\n\r\n  return (\r\n    <ProductIdContext.Provider value={{ productId, setProductId }}>\r\n      <PageWrapper>\r\n        {(searchLoading || getProductsLoading) && <Loading />}\r\n        {isSuperAdmin ? (\r\n          <deleteModal.Modal\r\n            buttonOne={<DeleteButton onDeleteClick={handleDelete} />}\r\n            buttonTwo={\r\n              <CancelButton\r\n                onCancelClick={() => {\r\n                  deleteModal.setIsModal(false)\r\n                }}\r\n              />\r\n            }\r\n          />\r\n        ) : (\r\n          <checkModal.Modal />\r\n        )}\r\n        <SearchContainer>\r\n          <SearchSideContainer>\r\n            <Search />\r\n            <CategoryDropdown onChange={handleDropDownChange} />\r\n          </SearchSideContainer>\r\n          <SearchSideContainer>\r\n            {isSuperAdmin ? (\r\n              <Link style={{ width: '100px' }} to={'/admin/products/add'}>\r\n                <GeneralBtn color='admin_blue'>新增商品</GeneralBtn>\r\n              </Link>\r\n            ) : (\r\n              <GeneralBtn\r\n                buttonStyle={{ width: '100px' }}\r\n                color='admin_blue'\r\n                onClick={handleOnClick}\r\n              >\r\n                新增商品\r\n              </GeneralBtn>\r\n            )}\r\n          </SearchSideContainer>\r\n        </SearchContainer>\r\n        {keywords && products.length === 0 ? (\r\n          <SearchResultDiv>{`您搜尋的關鍵字「${keywordString}」，沒有找到符合的商品`}</SearchResultDiv>\r\n        ) : (\r\n          <Table\r\n            products={showProductsByPage}\r\n            handleModalOpen={handleOnDeleteClick}\r\n          />\r\n        )}\r\n        <PaginatorDiv>\r\n          {pagesArray &&\r\n            pagesArray.map((pageValue) => {\r\n              return (\r\n                <PaginatorButton\r\n                  key={pageValue}\r\n                  page={pageValue}\r\n                  to={`/admin/products/${pageValue}`}\r\n                  active={pageValue === parseInt(page)}\r\n                ></PaginatorButton>\r\n              )\r\n            })}\r\n        </PaginatorDiv>\r\n      </PageWrapper>\r\n    </ProductIdContext.Provider>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { ADMIN_COLOR, COLOR } from '../../../constants/style'\r\nimport styled from 'styled-components'\r\n\r\nconst TabWrapper = styled.div`\r\n  display: flex;\r\n`\r\nconst Tab = styled.div`\r\n  transition: 0.2s ease-out;\r\n  width: 100%;\r\n  padding: 10px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  box-shadow: inset 0px -0.5px 0.2px ${COLOR.grey};\r\n  text-align: center;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    color: ${COLOR.text_dark};\r\n    background: none;\r\n    box-shadow: none;\r\n  `};\r\n`\r\n// preset 預設顯示 tab\r\nexport const Tabs = ({ tabs, tabsPanel, presetTab }) => {\r\n  const [activeTab, setActiveTab] = useState(presetTab)\r\n  return (\r\n    <>\r\n      <TabWrapper>\r\n        {tabs.map((tab, index) => (\r\n          <Tab\r\n            key={`tab${index}`}\r\n            $active={activeTab === index}\r\n            onClick={() => {\r\n              setActiveTab(index)\r\n            }}\r\n            children={tab}\r\n          />\r\n        ))}\r\n      </TabWrapper>\r\n      {tabsPanel[activeTab]}\r\n    </>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport {\r\n  ADMIN_COLOR,\r\n  COLOR,\r\n  FONT_SIZE,\r\n  ADMIN_MEDIA_QUERY\r\n} from '../../../constants/style'\r\nimport { EditBtn, LogoutBtn, SaveBtn } from '../../../components/Button'\r\n\r\nconst FormWrapper = styled.div`\r\n  min-height: 850px;\r\n  height: 850px;\r\n  transition: 1.5s;\r\n  margin: 30px auto;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  width: 70vw;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1480px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1480px;\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  padding: 20px 0px 50px 0px;\r\n  height: 100%;\r\n`\r\nconst Input = styled.input`\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst InputTitle = styled.div`\r\n  display: flex;\r\n  height: 20xp;\r\n  font-size: ${FONT_SIZE.md};\r\n  margin-bottom: 10px;\r\n  word-break: break-all;\r\n\r\n  & span {\r\n    margin-left: 10px;\r\n    margin-top: 3px;\r\n    color: ${ADMIN_COLOR.warning};\r\n    font-size: ${FONT_SIZE.xs};\r\n    font-weight: bold;\r\n    text-align: left;\r\n  }\r\n`\r\nconst FormTitle = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  color: ${ADMIN_COLOR.table_blue};\r\n`\r\nconst FormTitleBorder = styled.div`\r\n  margin-top: 5px;\r\n  border-top: 1px solid ${ADMIN_COLOR.border_grey};\r\n`\r\n\r\nconst ErrorMsg = styled.p`\r\n  margin-top: 5px;\r\n  color: ${ADMIN_COLOR.warning};\r\n  font-size: ${FONT_SIZE.xs};\r\n  font-weight: bold;\r\n  text-align: left;\r\n`\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 10px 0px 50px 0px;\r\n`\r\n\r\nconst ButtonDiv = styled.div`\r\n  width: 15%;\r\n  margin: 0px 8px;\r\n`\r\nfunction ButtonForImgForm({ onLeaveClick, onSaveClick }) {\r\n  return (\r\n    <ButtonContainer>\r\n      <ButtonDiv onClick={onSaveClick}>\r\n        <SaveBtn color='admin_blue'>儲存</SaveBtn>\r\n      </ButtonDiv>\r\n      <ButtonDiv onClick={onLeaveClick}>\r\n        <LogoutBtn color='admin_blue'>離開</LogoutBtn>\r\n      </ButtonDiv>\r\n    </ButtonContainer>\r\n  )\r\n}\r\n\r\nfunction ButtonGroup({ status, onEditClick, onSaveClick, onLeaveClick }) {\r\n  return (\r\n    <ButtonContainer>\r\n      {status === 'edit' ? (\r\n        <ButtonDiv onClick={onEditClick}>\r\n          <EditBtn color='admin_blue'>編輯</EditBtn>\r\n        </ButtonDiv>\r\n      ) : (\r\n        <ButtonDiv onClick={onSaveClick}>\r\n          <SaveBtn color='admin_blue'>儲存</SaveBtn>\r\n        </ButtonDiv>\r\n      )}\r\n      <ButtonDiv onClick={onLeaveClick}>\r\n        <LogoutBtn color='admin_blue'>離開</LogoutBtn>\r\n      </ButtonDiv>\r\n    </ButtonContainer>\r\n  )\r\n}\r\n\r\nfunction ButtonGroupForAdd({ onSaveClick, onLeaveClick }) {\r\n  return (\r\n    <ButtonContainer>\r\n      <ButtonDiv onClick={onSaveClick}>\r\n        <SaveBtn color='admin_blue'>儲存</SaveBtn>\r\n      </ButtonDiv>\r\n      <ButtonDiv onClick={onLeaveClick}>\r\n        <LogoutBtn color='admin_blue'>離開</LogoutBtn>\r\n      </ButtonDiv>\r\n    </ButtonContainer>\r\n  )\r\n}\r\n\r\nfunction FormTitleComponent({ title }) {\r\n  return (\r\n    <FormTitle>\r\n      {title}\r\n      <FormTitleBorder />\r\n    </FormTitle>\r\n  )\r\n}\r\n\r\n//InfoForm\r\nconst SelectedComponent = styled.div`\r\n  width: 33%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\nconst DropdownStyle = styled.select`\r\n  width: 200px;\r\n  padding: 8px;\r\n  margin-top: 3px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nfunction Dropdown({ onChange, valueArray, productValue, disabled, name }) {\r\n  return (\r\n    <DropdownStyle\r\n      name={name}\r\n      id='filter'\r\n      onChange={onChange}\r\n      defaultValue={productValue}\r\n    >\r\n      {valueArray.map((value) => {\r\n        return (\r\n          <option key={value} value={value} disabled={disabled}>\r\n            {value}\r\n          </option>\r\n        )\r\n      })}\r\n    </DropdownStyle>\r\n  )\r\n}\r\n\r\nfunction ForNewDropdown({ onChange, valueArray, name }) {\r\n  return (\r\n    <DropdownStyle\r\n      name={name}\r\n      id='filter'\r\n      onChange={onChange}\r\n      defaultValue={valueArray[0]}\r\n    >\r\n      {valueArray.map((value) => {\r\n        return (\r\n          <option key={value} value={value}>\r\n            {value}\r\n          </option>\r\n        )\r\n      })}\r\n    </DropdownStyle>\r\n  )\r\n}\r\n\r\nconst PriceInputContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst InputMark = styled.div`\r\n  width: 12%;\r\n  padding: 3px;\r\n  border-radius: 3px 0px 0px 3px;\r\n  text-align: center;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey} !important;\r\n  border-right: none !important;\r\n  background-color: ${ADMIN_COLOR.light_grey};\r\n`\r\n\r\nconst PriceInputStyle = styled.input`\r\n  display: block;\r\n  width: 53%;\r\n  padding: 3px;\r\n  border-radius: 0px 3px 3px 0px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  }\r\n`\r\n\r\nfunction PriceInput({ value, onChange, onBlur, name, disabled }) {\r\n  return (\r\n    <PriceInputContainer>\r\n      <InputMark style={{ border: '1px solid gray' }}>$</InputMark>\r\n      <PriceInputStyle\r\n        type='text'\r\n        value={value}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n        name={name}\r\n        disabled={disabled}\r\n      ></PriceInputStyle>\r\n    </PriceInputContainer>\r\n  )\r\n}\r\n\r\nconst QuantityInputStyle = styled.input`\r\n  display: block;\r\n  width: 22%;\r\n  padding: 3px;\r\n  border-radius: 0px 3px 3px 0px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  }\r\n`\r\n\r\nexport {\r\n  FormWrapper,\r\n  Form,\r\n  Input,\r\n  InputTitle,\r\n  ErrorMsg,\r\n  FormTitle,\r\n  FormTitleBorder,\r\n  FormTitleComponent,\r\n  Dropdown,\r\n  ForNewDropdown,\r\n  ButtonGroup,\r\n  ButtonGroupForAdd,\r\n  ButtonForImgForm,\r\n  PriceInput,\r\n  SelectedComponent,\r\n  QuantityInputStyle\r\n}\r\n","import { useEffect, useCallback, useState, useContext } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport useFetch from '../../../../hooks/useFetch'\r\nimport useModal from '../../../../hooks/useModal'\r\nimport { imgVerify } from '../../../../utils'\r\nimport { checkInputIsValid } from '../../../../utils'\r\nimport { FONT_SIZE, ADMIN_COLOR } from '../../../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { AdminContext } from '../../../../context'\r\n\r\nimport {\r\n  Form,\r\n  Input,\r\n  InputTitle,\r\n  ErrorMsg,\r\n  FormTitleComponent,\r\n  ButtonForImgForm\r\n} from '../FormStyle'\r\n\r\nconst CheckIcon = styled(FontAwesomeIcon)`\r\n  margin-left: 10px;\r\n  margin-top: 60px;\r\n  cursor: pointer;\r\n`\r\n\r\nconst EditIcon = styled(CheckIcon)`\r\n  color: ${ADMIN_COLOR.Btn_darkgrey};\r\n`\r\n\r\nconst ImgInput = styled(Input)`\r\n  margin-top: 3px;\r\n`\r\nconst ImgForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\n\r\nconst ImgInputOutContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 29%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst FormContentContainer = styled.div`\r\n  margin-top: 40px;\r\n  height: 100%;\r\n`\r\n\r\nconst ImgPreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 22%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 76%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlWithTitleContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin: 43px 5px 0px 0px;\r\n  width: 100%;\r\n`\r\nconst SmallTitle = styled.div`\r\n  font-size: ${FONT_SIZE.xs};\r\n  margin: 5px 0px;\r\n`\r\nconst ImgInputContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\nconst ImgContainer = styled.div`\r\n  display: flex;\r\n  width: 80%;\r\n  height: 75%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  color: ${ADMIN_COLOR.grey};\r\n  ${({ $isBlank }) => !$isBlank && 'color: transparent'};\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nfunction ImgPreviewSet({ title, imgUrl }) {\r\n  let isBlank = imgUrl ? false : true\r\n  return (\r\n    <ImgPreviewContainer>\r\n      <InputTitle>{title}</InputTitle>\r\n      <ImgContainer\r\n        style={{ backgroundImage: `url(${imgUrl})` }}\r\n        isBlank={isBlank}\r\n      >\r\n        圖片預覽\r\n      </ImgContainer>\r\n    </ImgPreviewContainer>\r\n  )\r\n}\r\n\r\nfunction ImgUrlWithTitle({\r\n  title,\r\n  name,\r\n  value,\r\n  placeholder,\r\n  disabled,\r\n  formData,\r\n  setFormData\r\n}) {\r\n  const [inputValue, setInputValue] = useState('')\r\n  useEffect(() => {\r\n    if (value) setInputValue((inputValue) => value)\r\n  }, [value])\r\n\r\n  const handleOnChange = (e) => {\r\n    const targetValue = e.target.value.trim(' ')\r\n    const targetName = e.target.name\r\n    setInputValue((inputValue) => targetValue)\r\n    if (!targetValue) {\r\n      delete formData[targetName]\r\n      return setFormData((formData) => formData)\r\n    }\r\n    const newFormData = {\r\n      ...formData,\r\n      [targetName]: targetValue\r\n    }\r\n    setFormData((formData) => newFormData)\r\n  }\r\n\r\n  return (\r\n    <ImgUrlWithTitleContainer>\r\n      <SmallTitle>{title}</SmallTitle>\r\n      <ImgInput\r\n        type='text'\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={inputValue}\r\n        disabled={disabled}\r\n        onChange={handleOnChange}\r\n        formData={formData}\r\n        setFormData={setFormData}\r\n      />\r\n    </ImgUrlWithTitleContainer>\r\n  )\r\n}\r\n\r\nconst deleteKeysFromData = (data) => {\r\n  delete data.id\r\n  return data\r\n}\r\n\r\nfunction ImgInputSet({\r\n  id,\r\n  span,\r\n  formData,\r\n  require,\r\n  setFormData,\r\n  isValid,\r\n  setIsValid\r\n}) {\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [imgData, setImgData] = useState({})\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const inputId = parseInt(id)\r\n\r\n  const setInputValid = useCallback(\r\n    (valid) => {\r\n      return {\r\n        ...isValid,\r\n        [inputId]: valid\r\n      }\r\n    },\r\n    [isValid, inputId]\r\n  )\r\n\r\n  const checkIsImg = useCallback((imgData) => {\r\n    const newData = deleteKeysFromData(JSON.parse(JSON.stringify(imgData)))\r\n    let isChecked\r\n    // eslint-disable-next-line array-callback-return\r\n    Object.values(newData).map((imgUrl) => {\r\n      isChecked = imgVerify(imgUrl)\r\n      if (!isChecked) return isChecked\r\n    })\r\n    return isChecked\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setImgData(formData)\r\n  }, [formData])\r\n\r\n  const handleEditClick = useCallback(() => {\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'save')\r\n  }, [])\r\n\r\n  const handleCheckClick = useCallback(() => {\r\n    const length = Object.keys(imgData).length\r\n    const isNotValid = setInputValid(false)\r\n    const isImgCheck = checkIsImg(imgData)\r\n    if (imgData.id !== undefined) {\r\n      if (length !== 4 && require) {\r\n        setErrorMsg('請完整填入此必填欄位')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      if (length !== 1 && length !== 4) {\r\n        setErrorMsg('請完整填入或刪除此三個欄位')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      if (length !== 1 && !isImgCheck) {\r\n        setErrorMsg('請輸入結尾為 .jpg/.png/.jpeg 的網址')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      setFormData((formData) => imgData)\r\n    }\r\n    if (imgData.id === undefined) {\r\n      if (length !== 0 && length !== 3) {\r\n        setErrorMsg('請完整填入或刪除此三個欄位')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      if (length === 3) {\r\n        if (!isImgCheck) {\r\n          setErrorMsg('請輸入結尾為 .jpg/.png/.jpeg 的網址')\r\n          return setIsValid((isValid) => isNotValid)\r\n        }\r\n        setFormData((formData) => imgData)\r\n      }\r\n    }\r\n    setErrorMsg((errorMsg) => '')\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'edit')\r\n    const newValid = setInputValid(true)\r\n    setIsValid((isValid) => newValid)\r\n  }, [imgData, require, setIsValid, setFormData, setInputValid, checkIsImg])\r\n\r\n  return (\r\n    <ImgInputOutContainer>\r\n      <ImgPreviewSet title='圖片預覽' imgUrl={imgData.imgUrlMd}></ImgPreviewSet>\r\n      <ImgUrlSetContainer>\r\n        <InputTitle>\r\n          圖片 URL<span>{span}</span>\r\n        </InputTitle>\r\n        <ImgInputContainer>\r\n          <ImgUrlWithTitle\r\n            title='Small Size'\r\n            name='imgUrlSm'\r\n            value={imgData.imgUrlSm}\r\n            placeholder='small-size ImgURL'\r\n            formData={imgData}\r\n            setFormData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Medium Size'\r\n            name='imgUrlMd'\r\n            value={imgData.imgUrlMd}\r\n            placeholder='medium-size ImgURL'\r\n            formData={imgData}\r\n            setFormData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Large Size'\r\n            name='imgUrlLg'\r\n            value={imgData.imgUrlLg}\r\n            placeholder='large-size ImgURL'\r\n            formData={imgData}\r\n            setFormData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          {buttonStatus === 'edit' ? (\r\n            <EditIcon icon={faEdit} onClick={handleEditClick} />\r\n          ) : (\r\n            <CheckIcon\r\n              icon={faCheckCircle}\r\n              onClick={handleCheckClick}\r\n              style={{ color: isValid[id] ? '#3689c9' : '#aaa' }}\r\n            />\r\n          )}\r\n        </ImgInputContainer>\r\n        {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n      </ImgUrlSetContainer>\r\n    </ImgInputOutContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailImgForm({ product }) {\r\n  const { id } = useParams()\r\n  const { Product_imgs } = product\r\n  const { isSuperAdmin } = useContext(AdminContext)\r\n  const { handleModalOpen, Modal } = useModal('此帳號沒有相關權限')\r\n  const { fetchData } = useFetch(`/admin/products/${parseInt(id)}`, {\r\n    method: 'PATCH'\r\n  })\r\n  const [productImgUrlOne, setProductImgUrlOne] = useState({})\r\n  const [productImgUrlOTwo, setProductImgUrlTwo] = useState({})\r\n  const [productImgUrlThree, setProductImgUrlThree] = useState({})\r\n  const [isValid, setIsValid] = useState({\r\n    1: true,\r\n    2: true,\r\n    3: true\r\n  })\r\n  const [validCheck, setValidCheck] = useState(true)\r\n  const history = useHistory()\r\n  const deleteKeysFromData = (data) => {\r\n    delete data.productId\r\n    delete data.createdAt\r\n    delete data.updatedAt\r\n    return data\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (Product_imgs) {\r\n      Product_imgs[0] &&\r\n        setProductImgUrlOne(deleteKeysFromData(Product_imgs[0]))\r\n      Product_imgs[1] &&\r\n        setProductImgUrlTwo(deleteKeysFromData(Product_imgs[1]))\r\n      Product_imgs[2] &&\r\n        setProductImgUrlThree(deleteKeysFromData(Product_imgs[2]))\r\n    }\r\n  }, [Product_imgs])\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      if (!isSuperAdmin) return handleModalOpen()\r\n      const allCheck = checkInputIsValid(isValid)\r\n      if (!allCheck) {\r\n        if (!validCheck) return\r\n        setValidCheck(false)\r\n        return alert('請完整填寫正確商品資訊後再提交')\r\n      } else {\r\n        setValidCheck(true)\r\n        const newProductImgs = {\r\n          imgsData: [productImgUrlOne, productImgUrlOTwo, productImgUrlThree]\r\n        }\r\n        fetchData({\r\n          bodyData: newProductImgs,\r\n          handler: () => {\r\n            alert('成功修改商品資訊')\r\n          },\r\n          errorHandler: (error) => {\r\n            alert(error.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    [\r\n      isValid,\r\n      productImgUrlOne,\r\n      productImgUrlOTwo,\r\n      productImgUrlThree,\r\n      validCheck,\r\n      isSuperAdmin,\r\n      handleModalOpen,\r\n      fetchData\r\n    ]\r\n  )\r\n\r\n  return (\r\n    <ImgForm>\r\n      <Modal />\r\n      <FormTitleComponent title='商品圖片網址' />\r\n      <FormContentContainer>\r\n        <ImgInputSet\r\n          id='1'\r\n          span='* 必填欄位'\r\n          require='true'\r\n          formData={productImgUrlOne}\r\n          setFormData={setProductImgUrlOne}\r\n          isValid={isValid}\r\n          setIsValid={setIsValid}\r\n        />\r\n        <ImgInputSet\r\n          id='2'\r\n          formData={productImgUrlOTwo}\r\n          setFormData={setProductImgUrlTwo}\r\n          isValid={isValid}\r\n          setIsValid={setIsValid}\r\n        />\r\n        <ImgInputSet\r\n          id='3'\r\n          formData={productImgUrlThree}\r\n          setFormData={setProductImgUrlThree}\r\n          isValid={isValid}\r\n          setIsValid={setIsValid}\r\n        />\r\n      </FormContentContainer>\r\n      <ButtonForImgForm\r\n        onSaveClick={handleSaveClick}\r\n        onLeaveClick={handleLeaveClick}\r\n        isChecked={validCheck}\r\n      />\r\n    </ImgForm>\r\n  )\r\n}\r\n","import { useState, useCallback, useContext } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport useFetch from '../../../../hooks/useFetch'\r\nimport useModal from '../../../../hooks/useModal'\r\nimport { ADMIN_COLOR, COLOR } from '../../../../constants/style'\r\nimport { checkInputIsValid } from '../../../../utils'\r\nimport { AdminContext } from '../../../../context'\r\nimport {\r\n  Form,\r\n  Input,\r\n  InputTitle,\r\n  FormTitleComponent,\r\n  ButtonGroup,\r\n  ErrorMsg\r\n} from '../FormStyle'\r\n\r\nconst DescInput = styled(Input)`\r\n  margin-top: 8px;\r\n  width: 90%;\r\n`\r\nconst DescForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst ComponentDiv = styled.div`\r\n  margin-top: 20px;\r\n`\r\nconst DescTextArea = styled.textarea`\r\n  margin-top: 8px;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  white-space: pre-wrap;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nexport default function DetailDescForm({ product }) {\r\n  const history = useHistory()\r\n  const { id } = useParams()\r\n  const { name, shortDesc, longDesc } = product\r\n  const [descData, setDescData] = useState({ name, shortDesc, longDesc })\r\n  const { handleModalOpen, Modal } = useModal('此帳號沒有相關權限')\r\n  const { fetchData } = useFetch(`/admin/products/${parseInt(id)}`, {\r\n    method: 'PATCH'\r\n  })\r\n  const { isSuperAdmin } = useContext(AdminContext)\r\n  const [errorMsgForName, setErrorMsgForName] = useState('')\r\n  const [errorMsgForShort, setErrorMsgForShort] = useState('')\r\n  const [errorMsgForLong, setErrorMsgForLong] = useState('')\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [validCheck, setValidCheck] = useState(true)\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const [isValid, setIsValid] = useState({\r\n    name: true,\r\n    shortDesc: true,\r\n    longDesc: true\r\n  })\r\n\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value\r\n      const targetName = e.target.name\r\n      const newDescData = {\r\n        ...descData,\r\n        [targetName]: targetValue\r\n      }\r\n      setDescData(newDescData)\r\n    },\r\n    [descData]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = e.target.value.trim(' ')\r\n      const errMsg = '此欄位不得為空'\r\n      if (targetName === 'name') {\r\n        if (!targetValue) {\r\n          setErrorMsgForName(errMsg)\r\n          return setIsValid({ ...isValid, [e.target.name]: false })\r\n        }\r\n        if (targetValue.length > 30) {\r\n          setErrorMsgForName('此欄位不得超過中英文 30 個字')\r\n          return setIsValid({ ...isValid, [e.target.name]: false })\r\n        }\r\n\r\n        if (targetValue && targetValue.length <= 30) {\r\n          setErrorMsgForName('')\r\n          setIsValid({ ...isValid, [e.target.name]: true })\r\n        }\r\n      }\r\n      if (targetName === 'shortDesc') {\r\n        if (!targetValue) {\r\n          setErrorMsgForShort(errMsg)\r\n          return setIsValid({ ...isValid, [e.target.name]: false })\r\n        }\r\n        if (targetValue.length > 200) {\r\n          setErrorMsgForShort('此欄位不得超過中英文 200 個字')\r\n          return setIsValid({ ...isValid, [e.target.name]: false })\r\n        }\r\n        if (targetValue && targetValue.length <= 200) {\r\n          setErrorMsgForShort('')\r\n          setIsValid({ ...isValid, [e.target.name]: true })\r\n        }\r\n      }\r\n      if (targetName === 'longDesc') {\r\n        if (!targetValue) {\r\n          setErrorMsgForLong(errMsg)\r\n          setIsValid({ ...isValid, [e.target.name]: false })\r\n        } else {\r\n          setErrorMsgForLong('')\r\n          setIsValid({ ...isValid, [e.target.name]: true })\r\n        }\r\n      }\r\n    },\r\n    [isValid]\r\n  )\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleEditClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      if (!isSuperAdmin) return handleModalOpen()\r\n      setIsDisabled((isDisabled) => !isDisabled)\r\n      setButtonStatus((buttonStatus) => 'save')\r\n    },\r\n    [isSuperAdmin, handleModalOpen]\r\n  )\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      const allCheck = checkInputIsValid(isValid)\r\n      if (!allCheck) {\r\n        if (!validCheck) return\r\n        setValidCheck(false)\r\n        return alert('請完整填寫正確商品資訊後再提交')\r\n      } else {\r\n        setValidCheck(true)\r\n        fetchData({\r\n          bodyData: descData,\r\n          handler: () => {\r\n            alert('成功修改商品資訊')\r\n            setIsDisabled((isDisabled) => !isDisabled)\r\n            setButtonStatus((buttonStatus) => 'edit')\r\n          },\r\n          errorHandler: (error) => {\r\n            alert(error.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    [isValid, descData, validCheck, fetchData]\r\n  )\r\n  return (\r\n    <DescForm>\r\n      <Modal />\r\n      <FormTitleComponent title={'商品名稱敘述'} />\r\n      <ComponentDiv>\r\n        <InputTitle>\r\n          商品名稱:<span>請輸入中英文 30 個字以內之商品名稱</span>\r\n        </InputTitle>\r\n        <DescInput\r\n          name='name'\r\n          value={descData.name}\r\n          disabled={isDisabled}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForName && <ErrorMsg>{errorMsgForName}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>\r\n          商品簡述:<span>請輸入中英文 200 個字以內之商品短述</span>\r\n        </InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '100px' }}\r\n          name='shortDesc'\r\n          value={descData.shortDesc}\r\n          disabled={isDisabled}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForShort && <ErrorMsg>{errorMsgForShort}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>商品文案:</InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '250px' }}\r\n          name='longDesc'\r\n          value={descData.longDesc}\r\n          disabled={isDisabled}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForLong && <ErrorMsg>{errorMsgForLong}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ButtonGroup\r\n        status={buttonStatus}\r\n        onLeaveClick={handleLeaveClick}\r\n        onEditClick={handleEditClick}\r\n        onSaveClick={handleSaveClick}\r\n      />\r\n    </DescForm>\r\n  )\r\n}\r\n","import { useCallback, useState, useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport useFetch from '../../../../hooks/useFetch'\r\nimport useModal from '../../../../hooks/useModal'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { checkInputIsValid } from '../../../../utils'\r\nimport { AdminContext } from '../../../../context'\r\nimport {\r\n  Form,\r\n  FormTitleComponent,\r\n  PriceInput,\r\n  InputTitle,\r\n  Dropdown,\r\n  SelectedComponent,\r\n  QuantityInputStyle,\r\n  ButtonGroup,\r\n  ErrorMsg\r\n} from '../FormStyle'\r\n\r\nconst InfoForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst InfoFormSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-around;\r\n  width: 100%;\r\n  height: 33%;\r\n`\r\nconst OptionsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst SubTitle = styled.div`\r\n  font-size: 10px;\r\n  margin-left: 5px;\r\n  margin-top: 5px;\r\n`\r\n\r\nfunction StatusDropdown({ productValue, disabled, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>上架狀態</InputTitle>\r\n      <Dropdown\r\n        valueArray={['on', 'off']}\r\n        productValue={productValue}\r\n        disabled={disabled}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction CategoriesDropdown({ productValue, disabled, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>商品分類</InputTitle>\r\n      <Dropdown\r\n        valueArray={[\r\n          'home',\r\n          'apparel',\r\n          'kitchenware',\r\n          'food',\r\n          'stationery',\r\n          'outdoor'\r\n        ]}\r\n        productValue={productValue}\r\n        disabled={disabled}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction ArticlesDropdown({ productValue, disabled, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>活動文章</InputTitle>\r\n      <Dropdown\r\n        valueArray={['fragrance', 'dining', 'camping', 'null']}\r\n        productValue={productValue}\r\n        disabled={disabled}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\n// styledComponent End\r\n\r\nconst handleBlur = (e, isValid, setIsValid, setErrMsg) => {\r\n  const targetValue = e.target.value.trim(' ')\r\n  if (!targetValue) {\r\n    setErrMsg('此欄位不得為空')\r\n    return setIsValid({ ...isValid, [e.target.name]: false })\r\n  }\r\n  if (isNaN(targetValue)) {\r\n    setErrMsg('此欄位僅限輸入數字')\r\n    return setIsValid({ ...isValid, [e.target.name]: false })\r\n  }\r\n  if (targetValue >= 100000) {\r\n    setErrMsg('此欄位數字超過上限五位數')\r\n    return setIsValid({ ...isValid, [e.target.name]: false })\r\n  }\r\n  setErrMsg('')\r\n  setIsValid({ ...isValid, [e.target.name]: true })\r\n}\r\n\r\nfunction StatusComponent({\r\n  status,\r\n  category,\r\n  article,\r\n  disabled,\r\n  setFormData,\r\n  formData\r\n}) {\r\n  const [productStatus, setProductStatus] = useState({\r\n    status,\r\n    category,\r\n    article\r\n  })\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      setProductStatus({ ...productStatus, [e.target.name]: e.target.value })\r\n      setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    },\r\n    [productStatus, formData, setFormData]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品狀態' />\r\n      <OptionsContainer>\r\n        <StatusDropdown\r\n          name='status'\r\n          productValue={productStatus.status}\r\n          disabled={disabled}\r\n          onChange={handleOnChange}\r\n        />\r\n        <CategoriesDropdown\r\n          name='category'\r\n          productValue={productStatus.category}\r\n          disabled={disabled}\r\n          onChange={handleOnChange}\r\n        />\r\n        <ArticlesDropdown\r\n          name='article'\r\n          productValue={productStatus.article}\r\n          disabled={disabled}\r\n          onChange={handleOnChange}\r\n        />\r\n      </OptionsContainer>\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction PriceComponent({\r\n  price,\r\n  discountPrice,\r\n  formData,\r\n  setFormData,\r\n  isValid,\r\n  setIsValid,\r\n  disabled\r\n}) {\r\n  const [errorMsgForPrice, setErrorMsgForPrice] = useState('')\r\n  const [errorMsgForDiscount, setErrorMsgForDiscount] = useState('')\r\n  const [inputPriceValue, setInputPriceValue] = useState({\r\n    price,\r\n    discountPrice\r\n  })\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value.trim(' ')\r\n      setInputPriceValue({ ...inputPriceValue, [e.target.name]: targetValue })\r\n      setFormData({ ...formData, [e.target.name]: targetValue })\r\n    },\r\n    [setFormData, formData, inputPriceValue]\r\n  )\r\n  const handleOnPriceBlur = useCallback(\r\n    (e) => {\r\n      const { discountPrice } = inputPriceValue\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, isValid, setIsValid, setErrorMsgForPrice)\r\n      if (discountPrice && targetValue < discountPrice) {\r\n        setErrorMsgForPrice('原價價格不得低於特價')\r\n        return setIsValid({ ...isValid, [e.target.name]: false })\r\n      }\r\n    },\r\n    [setIsValid, inputPriceValue, isValid]\r\n  )\r\n\r\n  const handleOnDiscountBlur = useCallback(\r\n    (e) => {\r\n      const { price } = inputPriceValue\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, isValid, setIsValid, setErrorMsgForDiscount)\r\n      if (price && targetValue > price) {\r\n        setErrorMsgForDiscount('特價價格不可高於原價')\r\n        return setIsValid({ ...isValid, [e.target.name]: false })\r\n      }\r\n    },\r\n    [setIsValid, inputPriceValue, isValid]\r\n  )\r\n\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品價格' />\r\n      <OptionsContainer>\r\n        <SelectedComponent>\r\n          <InputTitle>商品原價</InputTitle>\r\n          <PriceInput\r\n            name='price'\r\n            value={inputPriceValue.price}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnPriceBlur}\r\n            disabled={disabled}\r\n          ></PriceInput>\r\n          {errorMsgForPrice && <ErrorMsg>{errorMsgForPrice}</ErrorMsg>}\r\n        </SelectedComponent>\r\n        <SelectedComponent>\r\n          <InputTitle>\r\n            商品特價\r\n            <SubTitle>(如無特價請輸入同原價價格)</SubTitle>\r\n          </InputTitle>\r\n          <PriceInput\r\n            name='discountPrice'\r\n            value={inputPriceValue.discountPrice}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnDiscountBlur}\r\n            disabled={disabled}\r\n          ></PriceInput>\r\n          {errorMsgForDiscount && <ErrorMsg>{errorMsgForDiscount}</ErrorMsg>}\r\n        </SelectedComponent>\r\n      </OptionsContainer>\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction QuantityComponent({\r\n  quantity,\r\n  formData,\r\n  setFormData,\r\n  isValid,\r\n  setIsValid,\r\n  disabled\r\n}) {\r\n  const [inputQuantityValue, setInputQuantityValue] = useState(quantity)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value.trim(' ')\r\n      setInputQuantityValue(targetValue)\r\n      setFormData({ ...formData, [e.target.name]: targetValue })\r\n    },\r\n    [setFormData, formData, setInputQuantityValue]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      handleBlur(e, isValid, setIsValid, setErrorMsg)\r\n    },\r\n    [isValid, setIsValid]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品數量' />\r\n      <OptionsContainer>\r\n        <QuantityInputStyle\r\n          name='quantity'\r\n          value={inputQuantityValue}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n          disabled={disabled}\r\n        ></QuantityInputStyle>\r\n      </OptionsContainer>\r\n      {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailInfoForm({ product }) {\r\n  const { isSuperAdmin } = useContext(AdminContext)\r\n  const history = useHistory()\r\n  const { id } = useParams()\r\n  const { handleModalOpen, Modal } = useModal('此帳號沒有相關權限')\r\n  const { fetchData } = useFetch(`/admin/products/${parseInt(id)}`, {\r\n    method: 'PATCH'\r\n  })\r\n  const { status, category, article, price, discountPrice, quantity } = product\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [validCheck, setValidCheck] = useState(true)\r\n  const [InfoData, setInfoData] = useState({\r\n    status,\r\n    category,\r\n    article,\r\n    price,\r\n    discountPrice,\r\n    quantity\r\n  })\r\n  const [isValid, setIsValid] = useState({\r\n    status: true,\r\n    price: true,\r\n    discountPrice: true,\r\n    quantity: true\r\n  })\r\n  const handleEditClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      if (!isSuperAdmin) return handleModalOpen()\r\n      setIsDisabled((isDisabled) => !isDisabled)\r\n      setButtonStatus((buttonStatus) => 'save')\r\n    },\r\n    [isSuperAdmin, handleModalOpen]\r\n  )\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      const allCheck = checkInputIsValid(isValid)\r\n      if (!allCheck) {\r\n        if (!validCheck) return\r\n        setValidCheck(false)\r\n        return alert('請完整填寫正確商品資訊後再提交')\r\n      } else {\r\n        setValidCheck(true)\r\n        fetchData({\r\n          bodyData: InfoData,\r\n          handler: () => {\r\n            alert('成功修改商品資訊')\r\n            setIsDisabled((isDisabled) => !isDisabled)\r\n            setButtonStatus((buttonStatus) => 'edit')\r\n          },\r\n          errorHandler: (error) => {\r\n            alert(error.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    [isValid, InfoData, validCheck, fetchData]\r\n  )\r\n  return (\r\n    <InfoForm>\r\n      <Modal />\r\n      <StatusComponent\r\n        status={InfoData.status}\r\n        category={InfoData.category}\r\n        article={InfoData.article}\r\n        formData={InfoData}\r\n        setFormData={setInfoData}\r\n        isValid={isValid}\r\n        setIsValid={setIsValid}\r\n        disabled={isDisabled}\r\n      ></StatusComponent>\r\n      <PriceComponent\r\n        price={InfoData.price}\r\n        discountPrice={InfoData.discountPrice}\r\n        formData={InfoData}\r\n        setFormData={setInfoData}\r\n        isValid={isValid}\r\n        setIsValid={setIsValid}\r\n        disabled={isDisabled}\r\n      ></PriceComponent>\r\n      <QuantityComponent\r\n        quantity={InfoData.quantity}\r\n        formData={InfoData}\r\n        setFormData={setInfoData}\r\n        isValid={isValid}\r\n        setIsValid={setIsValid}\r\n        disabled={isDisabled}\r\n      ></QuantityComponent>\r\n      <ButtonGroup\r\n        status={buttonStatus}\r\n        validCheck={validCheck}\r\n        onLeaveClick={handleLeaveClick}\r\n        onEditClick={handleEditClick}\r\n        onSaveClick={handleSaveClick}\r\n      />\r\n    </InfoForm>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { Tabs } from '../../../components/admin/productManage/Tab'\r\nimport { FormWrapper } from '../../../components/admin/productManage/FormStyle'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport ImgForm from '../../../components/admin/productManage/AdminDetailForms/ImgForm'\r\nimport DescForm from '../../../components/admin/productManage/AdminDetailForms/DescForm'\r\nimport InfoForm from '../../../components/admin/productManage/AdminDetailForms/InfoForm'\r\nimport { AdminIsLoadingComponent as Loading } from '../../../components/admin/AdminIsLoading'\r\n\r\nexport default function AdminProductDetail() {\r\n  const [productDetail, setProductDetail] = useState([])\r\n  const { id } = useParams()\r\n  const { isLoading, fetchData } = useFetch(`/admin/products/${parseInt(id)}`)\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    fetchData({\r\n      handler: (value) => {\r\n        setProductDetail((products) => JSON.parse(JSON.stringify(value?.data)))\r\n      },\r\n      errorHandler: () => {\r\n        history.push('/admin/404')\r\n      }\r\n    })\r\n  }, [fetchData, history])\r\n\r\n  return (\r\n    <FormWrapper>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <Tabs\r\n          tabs={['商品圖片', '商品敘述', '商品資訊']}\r\n          tabsPanel={[\r\n            <ImgForm product={productDetail} />,\r\n            <DescForm product={productDetail} />,\r\n            <InfoForm product={productDetail} />\r\n          ]}\r\n          presetTab={0}\r\n        ></Tabs>\r\n      )}\r\n    </FormWrapper>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { FONT_SIZE, ADMIN_COLOR } from '../../../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { Input, InputTitle, ErrorMsg, FormTitleComponent } from '../FormStyle'\r\nimport { checkIsImg } from '../../../../utils'\r\n\r\nconst CheckIcon = styled(FontAwesomeIcon)`\r\n  margin-left: 10px;\r\n  margin-top: 60px;\r\n  cursor: pointer;\r\n`\r\nconst EditIcon = styled(CheckIcon)`\r\n  color: ${ADMIN_COLOR.Btn_darkgrey};\r\n`\r\nconst ImgInput = styled(Input)`\r\n  margin-top: 3px;\r\n`\r\nconst ImgForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst ImgInputOutContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 29%;\r\n  margin-top: 20px;\r\n`\r\nconst FormContentContainer = styled.div`\r\n  margin-top: 40px;\r\n  height: 100%;\r\n`\r\nconst ImgPreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 22%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 76%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlWithTitleContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin: 43px 5px 0px 0px;\r\n  width: 100%;\r\n`\r\nconst SmallTitle = styled.div`\r\n  font-size: ${FONT_SIZE.xs};\r\n  margin: 5px 0px;\r\n`\r\nconst ImgInputContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\nconst ImgContainer = styled.div`\r\n  display: flex;\r\n  width: 80%;\r\n  height: 72%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  color: ${ADMIN_COLOR.grey};\r\n  ${({ $isBlank }) => !$isBlank && 'color: transparent'};\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nfunction ImgPreviewSet({ title, imgUrl }) {\r\n  let isBlank = imgUrl ? false : true\r\n  return (\r\n    <ImgPreviewContainer>\r\n      <InputTitle>{title}</InputTitle>\r\n      <ImgContainer\r\n        style={{ backgroundImage: `url(${imgUrl})` }}\r\n        isBlank={isBlank}\r\n      >\r\n        圖片預覽\r\n      </ImgContainer>\r\n    </ImgPreviewContainer>\r\n  )\r\n}\r\n\r\nfunction ImgUrlWithTitle({\r\n  title,\r\n  name,\r\n  placeholder,\r\n  disabled,\r\n  value,\r\n  imgData,\r\n  setImgData\r\n}) {\r\n  const [inputValue, setInputValue] = useState(value || '')\r\n\r\n  const handleOnChange = (e) => {\r\n    const targetValue = e.target.value.trim(' ')\r\n    const targetName = e.target.name\r\n    setInputValue(targetValue)\r\n    if (!targetValue) {\r\n      delete imgData[targetName]\r\n      return setImgData((imgData) => imgData)\r\n    }\r\n    const newFormData = {\r\n      ...imgData,\r\n      [targetName]: targetValue\r\n    }\r\n    setImgData((imgData) => newFormData)\r\n  }\r\n\r\n  return (\r\n    <ImgUrlWithTitleContainer>\r\n      <SmallTitle>{title}</SmallTitle>\r\n      <ImgInput\r\n        type='text'\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={inputValue}\r\n        disabled={disabled}\r\n        onChange={handleOnChange}\r\n      />\r\n    </ImgUrlWithTitleContainer>\r\n  )\r\n}\r\n\r\nfunction ImgInputSet({\r\n  id,\r\n  name,\r\n  span,\r\n  require,\r\n  imgFromData,\r\n  imgsData,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  const [imgData, setImgData] = useState(imgFromData)\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const inputId = parseInt(id)\r\n\r\n  const setImgDataIsValid = useCallback(\r\n    (imgDataIsValid) => {\r\n      return (isChecked) => ({\r\n        ...isChecked,\r\n        [name]: imgDataIsValid\r\n      })\r\n    },\r\n    [name]\r\n  )\r\n\r\n  const handleEditClick = useCallback(() => {\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'save')\r\n    return setIsChecked((isChecked) => ({\r\n      ...isChecked,\r\n      [name]: false\r\n    }))\r\n  }, [name, setIsChecked])\r\n\r\n  const handleCheckClick = useCallback(\r\n    (e) => {\r\n      const length = Object.keys(imgData).length\r\n      const isImgVerifyCheck = checkIsImg(imgData)\r\n      if (length !== 3 && require) {\r\n        setErrorMsg('請完整填入此必填欄位')\r\n        return setIsChecked(setImgDataIsValid(false))\r\n      }\r\n      if (length !== 0 && length !== 3) {\r\n        setErrorMsg('請完整填入或刪除此三個欄位')\r\n        return setIsChecked(setImgDataIsValid(false))\r\n      }\r\n      if (length === 3 && !isImgVerifyCheck) {\r\n        setErrorMsg('請輸入結尾為 .jpg/.png/.jpeg 的網址')\r\n        return setIsChecked(setImgDataIsValid(false))\r\n      }\r\n      setErrorMsg((errorMsg) => '')\r\n      setIsDisabled((isDisabled) => !isDisabled)\r\n      setButtonStatus((buttonStatus) => 'edit')\r\n      imgsData.splice(inputId, 1, imgData)\r\n      setProductDetail((productDetail) => ({\r\n        ...productDetail,\r\n        imgsData: [...imgsData]\r\n      }))\r\n      return setIsChecked(setImgDataIsValid(true))\r\n    },\r\n    [\r\n      require,\r\n      setProductDetail,\r\n      imgsData,\r\n      inputId,\r\n      setIsChecked,\r\n      imgData,\r\n      setImgDataIsValid\r\n    ]\r\n  )\r\n  return (\r\n    <ImgInputOutContainer>\r\n      <ImgPreviewSet title='圖片預覽' imgUrl={imgData.imgUrlMd}></ImgPreviewSet>\r\n      <ImgUrlSetContainer>\r\n        <InputTitle>\r\n          圖片 URL<span>{span}</span>\r\n        </InputTitle>\r\n        <ImgInputContainer>\r\n          <ImgUrlWithTitle\r\n            title='Small Size'\r\n            name='imgUrlSm'\r\n            placeholder='small-size ImgURL'\r\n            value={imgData.imgUrlSm}\r\n            imgData={imgData}\r\n            setImgData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Medium Size'\r\n            name='imgUrlMd'\r\n            placeholder='medium-size ImgURL'\r\n            value={imgData.imgUrlMd}\r\n            imgData={imgData}\r\n            setImgData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Large Size'\r\n            name='imgUrlLg'\r\n            placeholder='large-size ImgURL'\r\n            value={imgData.imgUrlLg}\r\n            imgData={imgData}\r\n            setImgData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          {buttonStatus === 'edit' ? (\r\n            <EditIcon icon={faEdit} onClick={handleEditClick} />\r\n          ) : (\r\n            <CheckIcon\r\n              icon={faCheckCircle}\r\n              onClick={handleCheckClick}\r\n              style={{ color: '#3689c9' }}\r\n            />\r\n          )}\r\n        </ImgInputContainer>\r\n        {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n      </ImgUrlSetContainer>\r\n    </ImgInputOutContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailImgForm({\r\n  productDetail,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  const { imgsData } = productDetail\r\n  const imgDataOne = imgsData[0]\r\n  const imgDataTwo = imgsData[1]\r\n  const imgDataThree = imgsData[2]\r\n  return (\r\n    <ImgForm>\r\n      <FormTitleComponent title='商品圖片網址' />\r\n      <FormContentContainer>\r\n        <ImgInputSet\r\n          id='0'\r\n          span='* 必填欄位'\r\n          require='true'\r\n          name='imgsDataOne'\r\n          imgFromData={imgDataOne}\r\n          imgsData={imgsData}\r\n          setProductDetail={setProductDetail}\r\n          isChecked={isChecked}\r\n          setIsChecked={setIsChecked}\r\n        />\r\n        <ImgInputSet\r\n          id='1'\r\n          name='imgsDataTwo'\r\n          imgFromData={imgDataTwo}\r\n          imgsData={imgsData}\r\n          setProductDetail={setProductDetail}\r\n          isChecked={isChecked}\r\n          setIsChecked={setIsChecked}\r\n        />\r\n        <ImgInputSet\r\n          id='2'\r\n          name='imgsDataThree'\r\n          imgFromData={imgDataThree}\r\n          imgsData={imgsData}\r\n          setProductDetail={setProductDetail}\r\n          isChecked={isChecked}\r\n          setIsChecked={setIsChecked}\r\n        />\r\n      </FormContentContainer>\r\n    </ImgForm>\r\n  )\r\n}\r\n","import { useState, useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ADMIN_COLOR, COLOR } from '../../../../constants/style'\r\nimport { Input, InputTitle, FormTitleComponent, ErrorMsg } from '../FormStyle'\r\n\r\nconst DescInput = styled(Input)`\r\n  margin-top: 8px;\r\n  width: 90%;\r\n`\r\nconst DescForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst ComponentDiv = styled.div`\r\n  margin-bottom: 20px;\r\n`\r\nconst DescTextArea = styled.textarea`\r\n  margin-top: 8px;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  white-space: pre-wrap;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nexport default function DetailDescForm({\r\n  productDetail,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  const { name, longDesc, shortDesc } = productDetail\r\n  const [errorMsgForName, setErrorMsgForName] = useState('')\r\n  const [errorMsgForShort, setErrorMsgForShort] = useState('')\r\n  const [errorMsgForLong, setErrorMsgForLong] = useState('')\r\n\r\n  const setDescDataIsValid = useCallback((targetName, imgDataIsValid) => {\r\n    return (isChecked) => ({\r\n      ...isChecked,\r\n      [targetName]: imgDataIsValid\r\n    })\r\n  }, [])\r\n\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value\r\n      const targetName = e.target.name\r\n      setProductDetail((productDetail) => ({\r\n        ...productDetail,\r\n        [targetName]: targetValue\r\n      }))\r\n    },\r\n    [setProductDetail]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = e.target.value.trim(' ')\r\n      const errMsg = '此欄位不得為空'\r\n      if (targetName === 'name') {\r\n        if (!targetValue) {\r\n          setErrorMsgForName(errMsg)\r\n          return setIsChecked(setDescDataIsValid(targetName, false))\r\n        }\r\n        if (targetValue.length > 30) {\r\n          setErrorMsgForName('此欄位不得超過中英文 30 個字')\r\n          return setIsChecked(setDescDataIsValid(targetName, false))\r\n        }\r\n        if (targetValue && targetValue.length <= 30) {\r\n          setErrorMsgForName('')\r\n          setIsChecked(setDescDataIsValid(targetName, true))\r\n        }\r\n      }\r\n      if (targetName === 'shortDesc') {\r\n        if (!targetValue) {\r\n          setErrorMsgForShort(errMsg)\r\n          return setIsChecked(setDescDataIsValid(targetName, false))\r\n        }\r\n        if (targetValue.length > 200) {\r\n          setErrorMsgForShort('此欄位不得超過中英文 200 個字')\r\n          setIsChecked(setDescDataIsValid(targetName, false))\r\n        }\r\n        if (targetValue && targetValue.length <= 30) {\r\n          setErrorMsgForShort('')\r\n          setIsChecked(setDescDataIsValid(targetName, true))\r\n        }\r\n      }\r\n      if (targetName === 'longDesc') {\r\n        if (!targetValue) {\r\n          setErrorMsgForLong(errMsg)\r\n          setIsChecked(setDescDataIsValid(targetName, false))\r\n        } else {\r\n          setErrorMsgForLong('')\r\n          setIsChecked(setDescDataIsValid(targetName, true))\r\n        }\r\n      }\r\n    },\r\n    [setIsChecked, setDescDataIsValid]\r\n  )\r\n\r\n  return (\r\n    <DescForm>\r\n      <FormTitleComponent title={'商品名稱敘述'} />\r\n      <ComponentDiv>\r\n        <InputTitle>\r\n          商品名稱:<span>請輸入中英文 30 個字以內之商品名稱</span>\r\n        </InputTitle>\r\n        <DescInput\r\n          name='name'\r\n          value={name}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForName && <ErrorMsg>{errorMsgForName}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>\r\n          商品簡述:<span>請輸入中英文 200 個字以內之商品短述</span>\r\n        </InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '100px' }}\r\n          name='shortDesc'\r\n          value={shortDesc}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForShort && <ErrorMsg>{errorMsgForShort}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>商品文案:</InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '250px' }}\r\n          name='longDesc'\r\n          value={longDesc}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForLong && <ErrorMsg>{errorMsgForLong}</ErrorMsg>}\r\n      </ComponentDiv>\r\n    </DescForm>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  FormTitleComponent,\r\n  PriceInput,\r\n  InputTitle,\r\n  ForNewDropdown,\r\n  SelectedComponent,\r\n  QuantityInputStyle,\r\n  ErrorMsg\r\n} from '../FormStyle'\r\n\r\nconst InfoForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst InfoFormSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-around;\r\n  width: 100%;\r\n  height: 33%;\r\n`\r\nconst OptionsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst SubTitle = styled.div`\r\n  font-size: 10px;\r\n  margin-left: 5px;\r\n  margin-top: 5px;\r\n`\r\n\r\nfunction StatusDropdown({ value, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>上架狀態</InputTitle>\r\n      <ForNewDropdown\r\n        dropdownTitle='status'\r\n        valueArray={['on', 'off']}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction CategoriesDropdown({ value, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>商品分類</InputTitle>\r\n      <ForNewDropdown\r\n        dropdownTitle='Category'\r\n        valueArray={[\r\n          'home',\r\n          'apparel',\r\n          'kitchenware',\r\n          'food',\r\n          'stationery',\r\n          'outdoor'\r\n        ]}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction ArticlesDropdown({ value, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>活動文章</InputTitle>\r\n      <ForNewDropdown\r\n        dropdownTitle='article'\r\n        valueArray={['fragrance', 'dining', 'camping', 'null']}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\n// styledComponent End\r\nconst setImgDataIsValid = (name, imgDataIsValid) => {\r\n  return (isChecked) => ({\r\n    ...isChecked,\r\n    [name]: imgDataIsValid\r\n  })\r\n}\r\n\r\nconst handleChange = (e, setProductDetail) => {\r\n  const targetValue = e.target.value.trim(' ')\r\n  setProductDetail((productDetail) => ({\r\n    ...productDetail,\r\n    [e.target.name]: targetValue\r\n  }))\r\n}\r\n\r\nconst handleBlur = (e, setIsChecked, setErrorMsg) => {\r\n  const targetName = e.target.name\r\n  const targetValue = e.target.value.trim(' ')\r\n  if (!targetValue) {\r\n    setErrorMsg('此欄位不得為空')\r\n    return setIsChecked(setImgDataIsValid(targetName, false))\r\n  }\r\n  if (isNaN(targetValue)) {\r\n    setErrorMsg('此欄位僅限輸入數字')\r\n    return setIsChecked(setImgDataIsValid(targetName, false))\r\n  }\r\n  if (targetValue >= 100000) {\r\n    setErrorMsg('此欄位數字超過上限五位數')\r\n    return setIsChecked(setImgDataIsValid(targetName, false))\r\n  }\r\n  setErrorMsg('')\r\n  setIsChecked(setImgDataIsValid(targetName, true))\r\n}\r\n\r\nfunction StatusComponent({ productDetail, setProductDetail }) {\r\n  const { status, category, article } = productDetail\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      setProductDetail((productDetail) => ({\r\n        ...productDetail,\r\n        [e.target.name]: e.target.value\r\n      }))\r\n    },\r\n    [setProductDetail]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品狀態' />\r\n      <OptionsContainer>\r\n        <StatusDropdown\r\n          name='status'\r\n          productValue={status}\r\n          onChange={handleOnChange}\r\n        />\r\n        <CategoriesDropdown\r\n          name='category'\r\n          productValue={category}\r\n          onChange={handleOnChange}\r\n        />\r\n        <ArticlesDropdown\r\n          name='article'\r\n          productValue={article}\r\n          onChange={handleOnChange}\r\n        />\r\n      </OptionsContainer>\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction PriceComponent({ productDetail, setProductDetail, setIsChecked }) {\r\n  const { price, discountPrice } = productDetail\r\n  const [errorMsgForPrice, setErrorMsgForPrice] = useState('')\r\n  const [errorMsgForDiscount, setErrorMsgForDiscount] = useState('')\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      handleChange(e, setProductDetail)\r\n    },\r\n    [setProductDetail]\r\n  )\r\n\r\n  const handleOnPriceBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, setIsChecked, setErrorMsgForPrice)\r\n      if (discountPrice && targetValue < discountPrice) {\r\n        setErrorMsgForPrice('原價價格不得低於特價')\r\n        return setIsChecked(setImgDataIsValid(targetName, false))\r\n      }\r\n    },\r\n    [discountPrice, setIsChecked]\r\n  )\r\n\r\n  const handleOnDiscountBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, setIsChecked, setErrorMsgForDiscount)\r\n\r\n      if (price && targetValue > price) {\r\n        setErrorMsgForDiscount('特價價格不可高於原價')\r\n        return setIsChecked(setImgDataIsValid(targetName, false))\r\n      }\r\n    },\r\n    [price, setIsChecked]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品價格' />\r\n      <OptionsContainer>\r\n        <SelectedComponent>\r\n          <InputTitle>商品原價</InputTitle>\r\n          <PriceInput\r\n            name='price'\r\n            value={price}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnPriceBlur}\r\n          ></PriceInput>\r\n          {errorMsgForPrice && <ErrorMsg>{errorMsgForPrice}</ErrorMsg>}\r\n        </SelectedComponent>\r\n        <SelectedComponent>\r\n          <InputTitle>\r\n            商品特價\r\n            <SubTitle>(如無特價請輸入同原價價格)</SubTitle>\r\n          </InputTitle>\r\n          <PriceInput\r\n            name='discountPrice'\r\n            value={discountPrice}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnDiscountBlur}\r\n          ></PriceInput>\r\n          {errorMsgForDiscount && <ErrorMsg>{errorMsgForDiscount}</ErrorMsg>}\r\n        </SelectedComponent>\r\n      </OptionsContainer>\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction QuantityComponent({ productDetail, setProductDetail, setIsChecked }) {\r\n  const { quantity } = productDetail\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      handleChange(e, setProductDetail)\r\n    },\r\n    [setProductDetail]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      handleBlur(e, setIsChecked, setErrorMsg)\r\n    },\r\n    [setIsChecked]\r\n  )\r\n\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品數量' />\r\n      <OptionsContainer>\r\n        <QuantityInputStyle\r\n          name='quantity'\r\n          value={quantity}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        ></QuantityInputStyle>\r\n      </OptionsContainer>\r\n      {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailInfoForm({\r\n  productDetail,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  return (\r\n    <InfoForm>\r\n      <StatusComponent\r\n        productDetail={productDetail}\r\n        setProductDetail={setProductDetail}\r\n        setIsChecked={setIsChecked}\r\n      ></StatusComponent>\r\n      <PriceComponent\r\n        productDetail={productDetail}\r\n        setProductDetail={setProductDetail}\r\n        setIsChecked={setIsChecked}\r\n      ></PriceComponent>\r\n      <QuantityComponent\r\n        productDetail={productDetail}\r\n        setProductDetail={setProductDetail}\r\n        setIsChecked={setIsChecked}\r\n      ></QuantityComponent>\r\n    </InfoForm>\r\n  )\r\n}\r\n","import { useState, useEffect, useCallback, useMemo } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport useFetch from './useFetch'\r\nimport {\r\n  addNewProductToLocalStorage,\r\n  getNewProductFromLocalStorage,\r\n  removeNewProductFromLocalStorage\r\n} from '../utils'\r\n\r\nexport default function useCreateProduct() {\r\n  let history = useHistory()\r\n  const initProductState = useMemo(() => {\r\n    return {\r\n      status: 'on',\r\n      category: 'home',\r\n      article: 'fragrance',\r\n      name: '',\r\n      longDesc: '',\r\n      shortDesc: '',\r\n      quantity: '',\r\n      price: '',\r\n      discountPrice: '',\r\n      imgsData: [{}, {}, {}]\r\n    }\r\n  }, [])\r\n\r\n  const [isChecked, setIsChecked] = useState({\r\n    name: false,\r\n    price: false,\r\n    discountPrice: false,\r\n    category: true,\r\n    quantity: false,\r\n    status: true,\r\n    shortDesc: false,\r\n    longDesc: false,\r\n    article: true,\r\n    imgsDataOne: false,\r\n    imgsDataTwo: true,\r\n    imgsDataThree: true\r\n  })\r\n\r\n  const [productDetail, setProductDetail] = useState(\r\n    JSON.parse(getNewProductFromLocalStorage()) || initProductState\r\n  )\r\n  const { fetchData: createProduct } = useFetch(`/admin/products`, {\r\n    method: 'POST'\r\n  })\r\n  const { fetchData: getProductsPage } = useFetch(`/admin/products/page/1`)\r\n\r\n  useEffect(() => {\r\n    addNewProductToLocalStorage(productDetail)\r\n  }, [productDetail])\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      removeNewProductFromLocalStorage()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      let isAllChecked\r\n      for (const key in isChecked) {\r\n        if (isChecked[key] === false) {\r\n          isAllChecked = false\r\n          alert('請完整填寫正確商品資訊後再提交')\r\n          return\r\n        }\r\n        isAllChecked = true\r\n      }\r\n      if (isAllChecked) {\r\n        createProduct({\r\n          bodyData: productDetail,\r\n          handler: () => {\r\n            removeNewProductFromLocalStorage()\r\n            getProductsPage({\r\n              handler: (value) => {\r\n                history.push(`/admin/products/${value?.totalPage}`)\r\n              },\r\n              errorHandler: () => {\r\n                history.push('/admin/products/1')\r\n              }\r\n            })\r\n          },\r\n          errorHandler: (error) => {\r\n            alert(error.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    [productDetail, isChecked, history, getProductsPage, createProduct]\r\n  )\r\n\r\n  return {\r\n    isChecked,\r\n    setIsChecked,\r\n    productDetail,\r\n    setProductDetail,\r\n    handleLeaveClick,\r\n    handleSaveClick\r\n  }\r\n}\r\n","import { Tabs } from '../../../components/admin/productManage/Tab'\r\nimport {\r\n  FormWrapper,\r\n  ButtonGroupForAdd\r\n} from '../../../components/admin/productManage/FormStyle'\r\nimport ImgForm from '../../../components/admin/productManage/AdminAddForms/ImgForm'\r\nimport DescForm from '../../../components/admin/productManage/AdminAddForms/DescForm'\r\nimport InfoForm from '../../../components/admin/productManage/AdminAddForms/InfoForm'\r\nimport useCreateProduct from '../../../hooks/useCreateProduct'\r\n\r\nexport default function AdminProductAdd() {\r\n  const {\r\n    isChecked,\r\n    setIsChecked,\r\n    productDetail,\r\n    setProductDetail,\r\n    handleLeaveClick,\r\n    handleSaveClick\r\n  } = useCreateProduct()\r\n  return (\r\n    <form>\r\n      <FormWrapper>\r\n        <Tabs\r\n          tabs={['商品圖片', '商品敘述', '商品資訊']}\r\n          tabsPanel={[\r\n            <ImgForm\r\n              productDetail={productDetail}\r\n              setProductDetail={setProductDetail}\r\n              isChecked={isChecked}\r\n              setIsChecked={setIsChecked}\r\n            />,\r\n            <DescForm\r\n              productDetail={productDetail}\r\n              setProductDetail={setProductDetail}\r\n              isChecked={isChecked}\r\n              setIsChecked={setIsChecked}\r\n            />,\r\n            <InfoForm\r\n              productDetail={productDetail}\r\n              setProductDetail={setProductDetail}\r\n              isChecked={isChecked}\r\n              setIsChecked={setIsChecked}\r\n            />\r\n          ]}\r\n          presetTab={0}\r\n        ></Tabs>\r\n      </FormWrapper>\r\n      <ButtonGroupForAdd\r\n        onLeaveClick={handleLeaveClick}\r\n        onSaveClick={handleSaveClick}\r\n      />\r\n    </form>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { GeneralBtn } from '../../../components/Button'\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  top: 22%;\r\n  right: 40px;\r\n  display: flex;\r\n  button {\r\n    padding: 0 20px;\r\n    margin: 0 8px;\r\n    transition: 0.2s ease;\r\n  }\r\n`\r\n\r\nexport default function Buttons({\r\n  orderDetail,\r\n  handleOrderStatus,\r\n  handleArchive\r\n}) {\r\n  return (\r\n    <Wrapper>\r\n      {orderDetail?.status === '處理中' && (\r\n        <>\r\n          <GeneralBtn\r\n            onClick={() => handleOrderStatus('ship')}\r\n            color='admin_blue'\r\n            children='出貨'\r\n          />\r\n          <GeneralBtn\r\n            onClick={() => handleOrderStatus('check cancel')}\r\n            color='admin_grey'\r\n            children='取消訂單'\r\n          />\r\n        </>\r\n      )}\r\n      {orderDetail?.status === '已出貨' && (\r\n        <GeneralBtn\r\n          onClick={() => handleOrderStatus('complete')}\r\n          color='admin_grey'\r\n          children='完成訂單'\r\n        />\r\n      )}\r\n      {orderDetail?.status === '已完成' && !orderDetail?.isDeleted && (\r\n        <GeneralBtn\r\n          onClick={() => handleArchive(orderDetail?.ticketNo)}\r\n          color='admin_grey'\r\n          children='封存訂單'\r\n        />\r\n      )}\r\n      {orderDetail?.status === '已取消' && !orderDetail?.isDeleted && (\r\n        <GeneralBtn\r\n          onClick={() => handleArchive(orderDetail?.ticketNo)}\r\n          color='admin_grey'\r\n          children='封存訂單'\r\n        />\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { formatPrice, multiplyPrice } from '../../../utils'\r\nimport { COLOR } from '../../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst ItemContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  border-bottom: 1px solid ${COLOR.border_grey};\r\n  padding: 10px;\r\n  margin: 0 20px 10px 20px;\r\n  div {\r\n    text-align: center;\r\n    width: 10%;\r\n    margin: 2px 0px;\r\n  }\r\n  div:first-child {\r\n    width: 70%;\r\n    display: flex;\r\n  }\r\n  div:last-child {\r\n    text-align: right;\r\n  }\r\n`\r\nconst Pic = styled(Link)`\r\n  width: 70px;\r\n  height: 70px;\r\n  background: url(${({ $img }) => $img}) no-repeat center;\r\n  background-size: cover;\r\n`\r\nconst Name = styled(Link)`\r\n  margin: 2px 10px;\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n`\r\n\r\nexport default function Item({ item }) {\r\n  return (\r\n    <ItemContainer>\r\n      <div>\r\n        <Pic\r\n          to={`/admin/products/detail/${item.productId}`}\r\n          $img={JSON.stringify(\r\n            item.Product.Product_imgs[item.Product.Product_imgs.length - 1]\r\n              .imgUrlSm\r\n          )}\r\n        />\r\n        <Name to={`/admin/products/detail/${item.productId}`}>\r\n          {item.Product.name}\r\n        </Name>\r\n      </div>\r\n      <div>{formatPrice(item.Product.discountPrice)}</div>\r\n      <div>{item.quantity}</div>\r\n      <div>\r\n        {formatPrice(multiplyPrice(item.Product.discountPrice, item.quantity))}\r\n      </div>\r\n    </ItemContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { ADMIN_COLOR, FONT_SIZE } from '../../../constants/style'\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 10px 40px;\r\n  div {\r\n    margin: 8px 0px;\r\n  }\r\n`\r\n\r\nconst Archived = styled.span`\r\n  margin-left: 4px;\r\n  color: ${ADMIN_COLOR.Btn_grey};\r\n  span {\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n    padding: 4px;\r\n    border-bottom: 1px dotted black;\r\n    font-size: ${FONT_SIZE.xs};\r\n    position: relative;\r\n    bottom: 8px;\r\n    left: 8px;\r\n  }\r\n  &:hover {\r\n    span {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\n\r\nexport default function OrderInfo({ orderDetail }) {\r\n  return (\r\n    <Wrapper>\r\n      <div>\r\n        訂單狀態：{orderDetail?.status}\r\n        {orderDetail?.isDeleted ? (\r\n          <Archived>\r\n            <FontAwesomeIcon icon={faQuestionCircle} />\r\n            <span>此筆訂單已封存</span>\r\n          </Archived>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n      <div>訂單編號：{orderDetail?.ticketNo}</div>\r\n      <div>訂購人姓名：{orderDetail?.orderName}</div>\r\n      <div>寄送地址：{orderDetail?.orderAddress}</div>\r\n      <div>聯絡信箱：{orderDetail?.orderEmail}</div>\r\n      <div>聯絡電話：{orderDetail?.orderPhone}</div>\r\n      <div>付款方式：{orderDetail?.payment}</div>\r\n      <div>運送方式：{orderDetail?.shipping}</div>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n`\r\nconst Input = styled.input`\r\n  width: 200px;\r\n  padding: 10px 10px 10px 40px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  border-radius: 3px;\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst StyledSearchIcon = styled(FontAwesomeIcon)`\r\n  font-size: 14px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 12px;\r\n  transform: translate(0, -50%);\r\n`\r\nconst Dropdown = styled.select`\r\n  display: inline-block;\r\n  width: 200px;\r\n  padding: 11px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  border-radius: 3px;\r\n  margin-left: 12px;\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nexport function Search({ searchVal, setSearchVal }) {\r\n  return (\r\n    <Wrapper>\r\n      <StyledSearchIcon\r\n        icon={faSearch}\r\n        style={{ color: ADMIN_COLOR.border_dark_grey }}\r\n      />\r\n      <Input\r\n        placeholder={'搜尋訂單'}\r\n        value={searchVal}\r\n        onChange={(e) => setSearchVal(e.target.value)}\r\n      ></Input>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport function Filter({ filter, handleFilter }) {\r\n  return (\r\n    <Dropdown\r\n      name='filter'\r\n      id='filter'\r\n      onChange={(e) => {\r\n        handleFilter(e.target.value)\r\n      }}\r\n      value={filter}\r\n    >\r\n      <option value='所有訂單'>所有訂單</option>\r\n      <option value='處理中'>處理中</option>\r\n      <option value='已出貨'>已出貨</option>\r\n      <option value='已取消'>已取消</option>\r\n      <option value='已完成'>已完成</option>\r\n    </Dropdown>\r\n  )\r\n}\r\n","export const ITEMS_PER_PAGE = 10\r\n","import { TableItemContainer, Container, Cell } from '../TableStyle'\r\nimport { GeneralBtn } from '../../Button'\r\nimport styled from 'styled-components'\r\nimport { formatPrice } from '../../../utils'\r\nimport { Link } from 'react-router-dom'\r\nimport { ITEMS_PER_PAGE } from '../../../constants/itemsPerPage'\r\n\r\nconst RestyledCell = styled(Cell)`\r\n  width: 12%;\r\n  padding: 0 4px;\r\n`\r\n\r\nfunction TableItem({ order }) {\r\n  return (\r\n    <Container>\r\n      <RestyledCell>{order.status}</RestyledCell>\r\n      <RestyledCell style={{ width: '28%' }}>{order.ticketNo}</RestyledCell>\r\n      <RestyledCell style={{ width: '36%' }}>{order.orderEmail}</RestyledCell>\r\n      <RestyledCell>\r\n        {/* 暫時擋掉沒有 subTotal 的舊訂單 */}\r\n        {order.subTotal && formatPrice(order.subTotal)}\r\n      </RestyledCell>\r\n      <RestyledCell>\r\n        <Link to={`/admin/orders/${order.ticketNo}`}>\r\n          <GeneralBtn\r\n            color='admin_grey'\r\n            children={'訂單詳情'}\r\n            buttonStyle={{ minWidth: '80px', width: '50%' }}\r\n          />\r\n        </Link>\r\n      </RestyledCell>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default function Table({\r\n  orders,\r\n  searchedOrders,\r\n  isViewingArchive,\r\n  filter,\r\n  offset\r\n}) {\r\n  return orders ? (\r\n    <TableItemContainer>\r\n      {searchedOrders\r\n        ? searchedOrders\r\n            .sort((a, b) => b.id - a.id)\r\n            .map((order) => <TableItem key={order.id} order={order} />)\r\n        : isViewingArchive\r\n        ? orders\r\n            .sort((a, b) => b.id - a.id)\r\n            .slice(offset, offset + ITEMS_PER_PAGE)\r\n            .map((order) => <TableItem key={order.id} order={order} />)\r\n        : orders\r\n            .filter((order) =>\r\n              filter === '所有訂單' ? order : order.status === filter\r\n            )\r\n            .sort((a, b) => b.id - a.id)\r\n            .slice(offset, offset + ITEMS_PER_PAGE)\r\n            .map((order) => <TableItem key={order.id} order={order} />)}\r\n    </TableItemContainer>\r\n  ) : (\r\n    <></>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  FONT_SIZE,\r\n  ADMIN_MEDIA_QUERY,\r\n  ADMIN_COLOR\r\n} from '../../../constants/style'\r\nimport { ColumnHeader, Header } from '../../../components/admin/TableStyle'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { AdminIsLoadingComponent } from '../../../components/admin/AdminIsLoading'\r\nimport { Table, Search, Filter } from '../../../components/admin/orderManage'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { ITEMS_PER_PAGE } from '../../../constants/itemsPerPage'\r\nimport { calTotalPages } from '../../../utils'\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin: 40px auto;\r\n  width: 75vw;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1680px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1680px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst SearchContainer = styled.div`\r\n  margin: 20px auto;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`\r\nconst RestyleHeader = styled(Header)`\r\n  width: 12%;\r\n  width: ${({ $name }) => $name === 'Email' && '36%'};\r\n  width: ${({ $name }) => $name === '訂單編號' && '28%'};\r\n`\r\nconst Paginator = styled.div`\r\n  text-align: center;\r\n  margin: 20px;\r\n`\r\nconst PaginatorBtn = styled.button`\r\n  background: transport;\r\n  color: ${ADMIN_COLOR.Btn_grey};\r\n  margin: 0px 4px;\r\n  padding: 0px 4px;\r\n  font-size: ${FONT_SIZE.md};\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    font-weight: bold;\r\n    border-bottom: 1px solid ${ADMIN_COLOR.border_grey};\r\n    `}\r\n`\r\nconst headerNames = ['訂單狀態', '訂單編號', 'Email', '訂單金額', 'Edit']\r\n\r\nexport default function AdminOrders() {\r\n  const [isViewingArchive, setIsViewingArchive] = useState(false)\r\n  const [filter, setFilter] = useState('所有訂單')\r\n  const [offset, setOffset] = useState(0)\r\n  const [pages, setPages] = useState()\r\n  const handleFilter = (name) => {\r\n    setFilter(name)\r\n    setOffset(0)\r\n  }\r\n  // 抓所有訂單\r\n  const {\r\n    isLoading,\r\n    value: orders,\r\n    fetchData: getOrders\r\n  } = useFetch('/admin/orders/')\r\n\r\n  useEffect(() => {\r\n    getOrders({\r\n      suffixPath: 'active'\r\n    })\r\n  }, [getOrders])\r\n\r\n  // 查看所有/封存訂單\r\n  const handleGetOrders = (condition) => {\r\n    getOrders({ suffixPath: condition })\r\n    setOffset(0)\r\n    setFilter('所有訂單')\r\n    if (condition === 'archive') {\r\n      setIsViewingArchive(true)\r\n    }\r\n  }\r\n  // 根據訂單比數計算頁數並產生 array\r\n  useEffect(() => {\r\n    if (orders?.data) {\r\n      setPages(() => {\r\n        if (filter === '所有訂單')\r\n          return [...Array(calTotalPages(orders?.data?.length)).fill()]\r\n        return [\r\n          ...Array(\r\n            calTotalPages(\r\n              orders?.data?.filter((order) => order.status === filter).length\r\n            )\r\n          ).fill()\r\n        ]\r\n      })\r\n    }\r\n  }, [filter, orders])\r\n\r\n  // 搜尋功能\r\n  const [searchVal, setSearchVal] = useState('')\r\n  const [searchedOrders, setSearchedOrders] = useState()\r\n  useEffect(() => {\r\n    if (!orders?.data) return\r\n    let reg = new RegExp(searchVal, 'i')\r\n    searchVal\r\n      ? setSearchedOrders(\r\n          orders?.data.filter(\r\n            (order) =>\r\n              reg.test(order.status) ||\r\n              reg.test(order.ticketNo) ||\r\n              reg.test(order.orderEmail)\r\n          )\r\n        )\r\n      : setSearchedOrders('')\r\n  }, [orders, searchVal])\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <SearchContainer>\r\n        <div>\r\n          <Search searchVal={searchVal} setSearchVal={setSearchVal} />\r\n          {!isViewingArchive && (\r\n            <Filter filter={filter} handleFilter={handleFilter} />\r\n          )}\r\n        </div>\r\n        {isViewingArchive ? (\r\n          <GeneralBtn\r\n            onClick={() => {\r\n              handleGetOrders('active')\r\n              setIsViewingArchive(false)\r\n              setFilter('所有訂單')\r\n            }}\r\n            color='admin_blue'\r\n            children='查看所有訂單'\r\n            buttonStyle={{ width: '120px', marginRight: '20px' }}\r\n          />\r\n        ) : (\r\n          <GeneralBtn\r\n            onClick={() => {\r\n              handleGetOrders('archive')\r\n              setIsViewingArchive(true)\r\n            }}\r\n            color='admin_grey'\r\n            children='查看封存訂單'\r\n            buttonStyle={{ width: '120px', marginRight: '20px' }}\r\n          />\r\n        )}\r\n      </SearchContainer>\r\n      <ColumnHeader>\r\n        {headerNames.map((name) => (\r\n          <RestyleHeader key={name} $name={name}>\r\n            {name}\r\n          </RestyleHeader>\r\n        ))}\r\n      </ColumnHeader>\r\n      {isLoading ? (\r\n        <AdminIsLoadingComponent />\r\n      ) : (\r\n        <Table\r\n          orders={orders?.data}\r\n          searchedOrders={searchedOrders}\r\n          isViewingArchive={isViewingArchive}\r\n          filter={filter}\r\n          offset={offset}\r\n        />\r\n      )}\r\n      {!searchVal && !isLoading && orders?.data && (\r\n        <Paginator>\r\n          {pages.map((page, index) => (\r\n            <PaginatorBtn\r\n              onClick={() => setOffset(index * ITEMS_PER_PAGE)}\r\n              key={`page-${index}`}\r\n              $active={offset / 10 === index}\r\n            >\r\n              {index + 1}\r\n            </PaginatorBtn>\r\n          ))}\r\n        </Paginator>\r\n      )}\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {\r\n  ADMIN_COLOR,\r\n  COLOR,\r\n  FONT_SIZE,\r\n  ADMIN_MEDIA_QUERY\r\n} from '../../../constants/style'\r\nimport { Wrapper } from '../../../components/admin/TableStyle'\r\nimport { LogoutBtn } from '../../../components/Button'\r\nimport { AdminIsLoadingComponent } from '../../../components/admin/AdminIsLoading'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { formatPrice } from '../../../utils'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useFetch from '../../../hooks/useFetch'\r\nimport { Item, OrderInfo, Buttons } from '../../../components/admin/orderManage'\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin: 60px auto;\r\n  width: 70vw;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1480px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1480px;\r\n  }\r\n`\r\nconst Container = styled(Wrapper)`\r\n  width: 100%;\r\n  min-height: 40px;\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  border-radius: 20px;\r\n  position: relative;\r\n  margin: 40px auto;\r\n  padding-bottom: 20px;\r\n  &:first-child {\r\n    margin-top: 10vh;\r\n  }\r\n`\r\nconst Title = styled.h3`\r\n  text-align: center;\r\n  padding: 20px;\r\n  font-weight: bold;\r\n`\r\nconst Subtotal = styled.div`\r\n  text-align: center;\r\n  span {\r\n    margin: 0 8px;\r\n  }\r\n`\r\nconst Collapser = styled.div`\r\n  margin-top: 10px;\r\n`\r\nconst Icon = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  ${({ $isOpen }) => $isOpen && 'transform: rotate(180deg)'};\r\n`\r\nconst Menu = styled.div`\r\n  height: ${({ $isOpen }) => ($isOpen ? 'unset' : 0)};\r\n  div {\r\n    transition: opacity 0.1s;\r\n    opacity: ${({ $isOpen }) => ($isOpen ? 1 : 0)};\r\n  }\r\n`\r\nconst TableHeaders = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 10px;\r\n  margin: 0 20px;\r\n  border-bottom: 1px solid ${COLOR.border_grey};\r\n  span {\r\n    text-align: center;\r\n  }\r\n  span:first-child {\r\n    text-align: left;\r\n    width: 70%;\r\n  }\r\n  span:last-child {\r\n    text-align: right;\r\n  }\r\n`\r\nconst Header = styled.span`\r\n  width: 10%;\r\n`\r\nconst PriceDetail = styled.div`\r\n  width: 100%;\r\n  padding: 4px 30px;\r\n  text-align: right;\r\n  div {\r\n    margin: 10px 0px;\r\n  }\r\n  div:first-child {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  div:last-child {\r\n    font-size: ${FONT_SIZE.lg};\r\n    font-weight: bold;\r\n  }\r\n`\r\n\r\nconst ModalButton = ({ children, color, onClick }) => {\r\n  const style = {\r\n    fontSize: '16px',\r\n    width: '45%'\r\n  }\r\n  return (\r\n    <GeneralBtn\r\n      color={color}\r\n      buttonStyle={style}\r\n      children={children}\r\n      onClick={onClick}\r\n    />\r\n  )\r\n}\r\nexport default function AdminOrderDetail() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const { ticket } = useParams()\r\n  const checkModal = useModal('確定要取消這筆訂單？')\r\n  const modal = useModal('')\r\n\r\n  // 抓訂單資料\r\n  const {\r\n    isLoading,\r\n    value: order,\r\n    fetchData\r\n  } = useFetch(`/admin/orders/${ticket}`)\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData])\r\n\r\n  //封存訂單\r\n  const { fetchData: archiveOrder } = useFetch(`/admin/orders/${ticket}`, {\r\n    method: 'DELETE'\r\n  })\r\n\r\n  const handleArchive = () => {\r\n    archiveOrder({\r\n      handler: () => {\r\n        modal.handleModalOpen('已封存訂單。')\r\n        order.data.isDeleted = 1\r\n      }\r\n    })\r\n  }\r\n\r\n  //改變訂單狀態\r\n  const { fetchData: updateOrderStatus } = useFetch(\r\n    `/admin/orders/${ticket}/`,\r\n    {\r\n      method: 'PATCH'\r\n    }\r\n  )\r\n\r\n  const handleOrderStatus = (action) => {\r\n    if (action === 'check cancel') {\r\n      checkModal.handleModalOpen('確定要取消這筆訂單？')\r\n      return\r\n    }\r\n    checkModal.setIsModal(false)\r\n    modal.handleModalOpen('變更成功！')\r\n    updateOrderStatus({\r\n      suffixPath: action,\r\n      handler: () => {\r\n        order.data.status = convertOrderStatus(action)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PageWrapper $isOpen={isOpen}>\r\n      <Link to='/admin/orders'>\r\n        <LogoutBtn\r\n          color='admin_blue'\r\n          children='回訂單列表'\r\n          buttonStyle={{ width: '120px' }}\r\n        />\r\n      </Link>\r\n      {isLoading ? (\r\n        <AdminIsLoadingComponent />\r\n      ) : (\r\n        <>\r\n          <Container>\r\n            <Title>訂購明細</Title>\r\n            <Subtotal>\r\n              <span>\r\n                共 <b>{order?.data?.Order_items.length}</b> 件商品\r\n              </span>\r\n              <span>\r\n                合計：\r\n                <b>\r\n                  {order?.data?.subTotal && formatPrice(order?.data?.subTotal)}\r\n                </b>\r\n              </span>\r\n              <Collapser\r\n                onClick={() => {\r\n                  setIsOpen(!isOpen)\r\n                }}\r\n              >\r\n                <Icon icon={faChevronDown} $isOpen={isOpen} />\r\n              </Collapser>\r\n            </Subtotal>\r\n            <Menu $isOpen={isOpen}>\r\n              <TableHeaders>\r\n                <Header>商品名稱</Header>\r\n                <Header>單件價格</Header>\r\n                <Header>數量</Header>\r\n                <Header>小計</Header>\r\n              </TableHeaders>\r\n              {order?.data?.Order_items.map((item) => (\r\n                <Item key={item.productId} item={item} />\r\n              ))}\r\n              <PriceDetail>\r\n                <div>\r\n                  <span>運費：</span>\r\n                  <span>{formatPrice(80)}</span>\r\n                </div>\r\n                <div>\r\n                  <span>合計：</span>\r\n                  <span>\r\n                    {order?.data?.subTotal &&\r\n                      formatPrice(order?.data?.subTotal)}\r\n                  </span>\r\n                </div>\r\n              </PriceDetail>\r\n            </Menu>\r\n          </Container>\r\n          <Container>\r\n            <Title>訂單資料</Title>\r\n            <OrderInfo orderDetail={order?.data} />\r\n            <Buttons\r\n              orderDetail={order?.data}\r\n              handleOrderStatus={handleOrderStatus}\r\n              handleArchive={handleArchive}\r\n            />\r\n          </Container>\r\n        </>\r\n      )}\r\n      <modal.Modal open={modal.isModal} />\r\n      <checkModal.Modal\r\n        open={checkModal.isModalOpen}\r\n        buttonOne={\r\n          <ModalButton\r\n            color={'admin_blue'}\r\n            onClick={() => handleOrderStatus('cancel')}\r\n          >\r\n            確定\r\n          </ModalButton>\r\n        }\r\n        buttonTwo={\r\n          <ModalButton\r\n            color={'admin_grey'}\r\n            onClick={() => checkModal.setIsModal(false)}\r\n          >\r\n            返回\r\n          </ModalButton>\r\n        }\r\n      />\r\n    </PageWrapper>\r\n  )\r\n}\r\n\r\nconst convertOrderStatus = (status) => {\r\n  let convertedStatus = ''\r\n  switch (status) {\r\n    case 'ship':\r\n      convertedStatus = '已出貨'\r\n      break\r\n    case 'cancel':\r\n      convertedStatus = '已取消'\r\n      break\r\n    case 'complete':\r\n      convertedStatus = '已完成'\r\n      break\r\n    default:\r\n      convertedStatus = '處理中'\r\n  }\r\n  return convertedStatus\r\n}\r\n","import { useState, useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { ModalContext } from '../../context'\r\nimport {\r\n  faShoppingCart,\r\n  faUserFriends,\r\n  faEye,\r\n  faImages,\r\n  faSignOutAlt,\r\n  faAngleLeft\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst NavWrapper = styled.nav`\r\n  width: 230px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 8px 0 48px;\r\n  background: #333;\r\n  transition: all linear 0.3s;\r\n\r\n  ${({ $active }) =>\r\n    $active &&\r\n    `\r\n    margin-left: -230px;\r\n  `}\r\n`\r\n\r\nconst Avatar = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  margin: 50px auto;\r\n  overflow: hidden;\r\n\r\n  img {\r\n    width: 140%;\r\n    height: auto;\r\n  }\r\n`\r\n\r\nconst NavbarList = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n`\r\n\r\nconst Nav = styled(NavLink, {\r\n  activeClass: 'active'\r\n})`\r\n  text-align: center;\r\n  padding: 16px 0;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  border-bottom: 1px solid #ccc;\r\n\r\n  span {\r\n    margin-left: 16px;\r\n    color: #fff;\r\n  }\r\n\r\n  &.active {\r\n    background: #555;\r\n  }\r\n\r\n  &:hover {\r\n    background: #555;\r\n  }\r\n`\r\n\r\nconst LogoutButton = styled.button`\r\n  width: 80%;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  border-radius: 10px;\r\n  color: #003169;\r\n  background: #cecece;\r\n  padding: 10px 4px;\r\n  transition: all 0.3s;\r\n\r\n  svg {\r\n    margin-right: 6px;\r\n  }\r\n\r\n  &:hover {\r\n    color: #cecece;\r\n    background: #aaa;\r\n  }\r\n`\r\n\r\nconst SwitchButton = styled.button`\r\n  position: absolute;\r\n  display: block;\r\n  width: 30px;\r\n  height: 60px;\r\n  top: 50%;\r\n  right: -30px;\r\n  color: #fff;\r\n  z-index: 10;\r\n\r\n  background: #333c;\r\n  font-size: 24px;\r\n  border-radius: 0 10px 10px 0;\r\n  transform: translateY(-50%);\r\n\r\n  ${({ $active }) =>\r\n    $active &&\r\n    `\r\n    svg {\r\n      transform: scale(-1);\r\n    }\r\n  `}\r\n`\r\n\r\nconst Navbar = ({ handleLogout }) => {\r\n  const [active, setActive] = useState(false)\r\n  const { setIsNavClick } = useContext(ModalContext)\r\n  return (\r\n    <NavWrapper $active={active}>\r\n      <NavbarList>\r\n        <Avatar to='/'>\r\n          <img src='https://i.imgur.com/jPZXt9T.png' alt='' />\r\n        </Avatar>\r\n        <Nav to='/admin/members'>\r\n          <FontAwesomeIcon icon={faUserFriends} />\r\n          <span>會員管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/orders'>\r\n          <FontAwesomeIcon icon={faShoppingCart} />\r\n          <span>訂單管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/products'>\r\n          <FontAwesomeIcon icon={faEye} />\r\n          <span>商品管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/4'>\r\n          <FontAwesomeIcon icon={faImages} />\r\n          <span>活動管理</span>\r\n        </Nav>\r\n      </NavbarList>\r\n      <LogoutButton onClick={handleLogout}>\r\n        <FontAwesomeIcon icon={faSignOutAlt} />\r\n        Logout\r\n      </LogoutButton>\r\n      <SwitchButton\r\n        $active={active}\r\n        onClick={() => {\r\n          setIsNavClick((isNavClick) => !isNavClick)\r\n          setActive((pre) => !pre)\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faAngleLeft} />\r\n      </SwitchButton>\r\n    </NavWrapper>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import styled from 'styled-components'\r\n\r\n\r\nconst FootWrapper = styled.footer`\r\n  height: 24px;\r\n  line-height: 24px;\r\n  letter-spacing: 1px;\r\n  text-align: center;\r\n  background: #c4c4c4;\r\n  color: #fff;\r\n`\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <FootWrapper>&copy; copyright 2021</FootWrapper>\r\n  )\r\n};\r\n\r\nexport default Footer\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { adminCheck } from '../../webAPI/adminAPIs'\r\nimport styled from 'styled-components'\r\nimport Navbar from './Navbar'\r\nimport Footer from './Footer'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { getTokenFromLocalStorage } from '../../utils'\r\nimport { AdminContext } from '../../context'\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  height: calc(100vh - 24px);\r\n`\r\n\r\nconst Container = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n  padding: 6px 0 12px;\r\n  position: relative;\r\n`\r\n\r\nconst Layout = ({ children }) => {\r\n  const [isAdmin, setIsAdmin] = useState(false)\r\n  const history = useHistory()\r\n  const [isSuperAdmin, setIsSuperAdmin] = useState(true)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      if (await adminCheck()) return setIsAdmin(true)\r\n      setIsAdmin(false)\r\n      alert('請先登入!!!')\r\n      history.push('/admin/login')\r\n    })()\r\n  }, [history, children])\r\n\r\n  useEffect(() => {\r\n    const token = getTokenFromLocalStorage()\r\n    let adminData\r\n    try {\r\n      adminData = jwt_decode(token)\r\n      if (adminData.username === 'admin01') setIsSuperAdmin(false)\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }, [])\r\n\r\n  const handleLogout = useCallback(() => {\r\n    localStorage.removeItem('token')\r\n    history.push('/admin/login')\r\n  }, [history])\r\n\r\n  return (\r\n    isAdmin && (\r\n      <AdminContext.Provider value={{ isSuperAdmin, setIsSuperAdmin }}>\r\n        <Wrapper>\r\n          <Navbar handleLogout={handleLogout} />\r\n          <Container>{children}</Container>\r\n        </Wrapper>\r\n        <Footer />\r\n      </AdminContext.Provider>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import styled from 'styled-components'\r\nimport { MEDIA_QUERY } from '../../../constants/style'\r\nconst Wrapper = styled.div`\r\n  height: 600px;\r\n`\r\nconst WrapperBg = styled.div`\r\n  background: url(${(props) => props.$bg}) center no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 500px;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  ${MEDIA_QUERY.widescreen} {\r\n    height: 900px;\r\n  }\r\n`\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <WrapperBg $bg={`${process.env.PUBLIC_URL}/404/back404.png`}></WrapperBg>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { PageWidth, FullWidth } from '../../../components/general'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../../constants/style'\r\n\r\nconst Img = styled.div`\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  height: 200px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 360px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 440px;\r\n  }\r\n`\r\nconst ContentDiv = styled.div`\r\n  margin: 40px auto;\r\n  width: 70%;\r\n  text-align: left;\r\n  white-space: pre-wrap;\r\n  line-height: 2em;\r\n`\r\n\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 15px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 15px;\r\n  }\r\n`\r\n\r\nconst TitleBorder = styled.div`\r\n  margin-top: 8px;\r\n  width: 25%;\r\n  border-bottom: 3px solid ${COLOR.primary_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 10%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 5%;\r\n  }\r\n`\r\n\r\nconst AboutImg = styled(Img)`\r\n  opacity: 0.8;\r\n  background-image: url('https://images.unsplash.com/photo-1565581406026-a79f239d1b61?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=870&q=80');\r\n`\r\n\r\nexport default function Brand() {\r\n  const content =\r\n    '在這個後疫情時代，人們一邊懷念過往隨性移動的自由，同時也開始為自己建構新的生活模式。停留的時間更長了，過去的恣意燦爛透過多種風格且豐富的用品轉換為另外一種型態的溫暖，DAYEAYEAYEA 在共同對生活質感的愛好下，誕生在 2021 年秋天。\\n\\n一個食材帶你領略旅遊清單上的夢想國度，又或一縷香氣成為你穿梭回憶的時光機；脫離居家與工作的兩點一線，和三五好友在山林或海際共度閒暇的時刻裡，精良品質與設計風格兼備的戶外用品讓期待已久的美好假期有了更多愉快記憶。\\n\\nDAYEAYEAYEA 身為結合生活多種風貌的選品購物網站，提供來自各地設計品牌的一時之選，邀請你一起為生活增添一抹色彩，讓日常乘載更多美好記憶。'\r\n\r\n  return (\r\n    <>\r\n      <FullWidth>\r\n        <AboutImg />\r\n      </FullWidth>\r\n      <PageWidth style={{ marginTop: '40px' }}>\r\n        <Title>\r\n          About DAYEAYEAYEA\r\n          <TitleBorder />\r\n        </Title>\r\n        <ContentDiv>{content}</ContentDiv>\r\n      </PageWidth>\r\n    </>\r\n  )\r\n}\r\n","const BASE_URL = 'https://api.coolizz.tw'\r\nconst getFAQs = async () => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/faq`)\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport default getFAQs\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../../constants/style'\r\nimport getFAQs from '../../../webAPI/faq'\r\nimport { IsLoadingComponent } from '../../../components/IsLoading'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Title = styled.div`\r\n  margin-top: 40px;\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 60px;\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 80px;\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n`\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 10px auto;\r\n  margin-bottom: 40px;\r\n  padding: 20px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 80%;\r\n    margin: 10px auto;\r\n    margin-bottom: 60px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 60%;\r\n    margin: 10px auto;\r\n    margin-bottom: 80px;\r\n  }\r\n`\r\nconst Q = styled.div`\r\n  padding: 22px 18px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: ${({ $isOpen }) =>\r\n    $isOpen ? 'none' : `2px solid ${COLOR.border_super_light}`};\r\n  div {\r\n    font-size: ${FONT_SIZE.sm};\r\n    font-weight: bold;\r\n    text-align: left;\r\n    margin-right: 4px;\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n  }\r\n`\r\nconst A = styled.div`\r\n  padding: 18px;\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n  text-align: left;\r\n  font-size: ${FONT_SIZE.sm};\r\n  border-bottom: ${({ $isOpen }) =>\r\n    $isOpen ? `2px solid ${COLOR.border_light_grey}` : `none`};\r\n  div {\r\n    width: 90%;\r\n    text-align: left;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst Toggle = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  transform: ${({ $isOpen }) => ($isOpen ? 'rotate(180deg)' : 'none')};\r\n`\r\n\r\n// 問題：要怎麼限制一次只能展開一個答案？\r\nfunction Item({ faq }) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const toggleOpen = () => {\r\n    setIsOpen(!isOpen)\r\n  }\r\n  return (\r\n    <>\r\n      <Q $isOpen={isOpen}>\r\n        <div>{faq.question}</div>\r\n        <Toggle icon={faChevronUp} onClick={toggleOpen} $isOpen={isOpen} />\r\n      </Q>\r\n      <A $isOpen={isOpen}>\r\n        <div>{faq.answer}</div>\r\n      </A>\r\n    </>\r\n  )\r\n}\r\nexport default function FAQ() {\r\n  const [faqs, setFaqs] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  useEffect(() => {\r\n    async function fetchFAQs() {\r\n      let res\r\n      try {\r\n        res = await getFAQs()\r\n        if (res.ok) {\r\n          setFaqs(res.data)\r\n          setIsLoading(false)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    fetchFAQs()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <IsLoadingComponent />}\r\n      {!isLoading && (\r\n        <PageWidth>\r\n          <Title>常見問題</Title>\r\n          <Container>\r\n            {faqs.map((faq) => (\r\n              <Item key={faq.id} faq={faq} />\r\n            ))}\r\n          </Container>\r\n        </PageWidth>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import styled, { keyframes } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../../constants/style'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport { faPortrait } from '@fortawesome/free-solid-svg-icons'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\n\r\nlibrary.add(fab)\r\nconst Card = styled.div`\r\n  margin-top: 120px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`\r\nconst Avatar = styled.div`\r\n  border: 5px solid ${COLOR.border_light_grey};\r\n  border-radius: 50%;\r\n  width: 150px;\r\n  height: 150px;\r\n  position: absolute;\r\n  top: -110px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  overflow: hidden;\r\n  background: url(${(props) => props.$bg}) no-repeat center;\r\n  background-size: cover;\r\n`\r\nconst DanceAvator = styled.div`\r\n  background: url(${(props) => props.$img}) no-repeat;\r\n  background-size: cover;\r\n  width: ${(props) => (props.$width ? props.$width : 77)}px;\r\n  height: ${(props) => (props.$height ? props.$height : 90)}px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(\r\n    -50%,\r\n    ${(props) => (props.$translateY ? props.$translateY : -50)}%\r\n  );\r\n`\r\nconst dance = (x1, x2) => keyframes`\r\n  from {\r\n    background-position: ${x1}px;\r\n  }\r\n  to {\r\n    background-position: ${x2}px;\r\n  }\r\n`\r\nconst CardMember = styled.div`\r\n  position: relative;\r\n  margin: 50px;\r\n  min-width: 300px;\r\n  margin-bottom: 120px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 315px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 315px;\r\n  }\r\n  &:hover {\r\n    ${DanceAvator} {\r\n      animation: ${(props) => dance(props.$x1, props.$x2)} 0.4s steps(4)\r\n        infinite alternate;\r\n    }\r\n  }\r\n`\r\nconst CardTop = styled.div`\r\n  padding: 50px 50px 20px 50px;\r\n  border: 1px solid ${COLOR.border_primary};\r\n  border-radius: 20% 20% 0% 0%;\r\n  min-height: 350px;\r\n`\r\n\r\nconst Name = styled.div`\r\n  font-size: ${FONT_SIZE.xl};\r\n  padding-bottom: 5px;\r\n  border-bottom: 2px solid ${COLOR.border_primary};\r\n  font-weight: bold;\r\n`\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: 700;\r\n  margin: 50px;\r\n`\r\nconst SubTitle = styled.div`\r\n  font-weight: 700;\r\n  margin: 20px;\r\n`\r\nconst Work = styled.ul`\r\n  > li {\r\n    margin: 10px;\r\n  }\r\n`\r\nconst CardFooter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  background: ${COLOR.primary_light};\r\n  padding: 10px;\r\n  border-radius: 0% 0% 3px 3px;\r\n`\r\nconst IconTitle = styled.span`\r\n  margin-left: 10px;\r\n  color: white;\r\n`\r\nexport default function Join() {\r\n  return (\r\n    <PageWidth>\r\n      <Title>DAYEAYEAYEA 團隊</Title>\r\n      <Card>\r\n        <CardMember $x1={-82} $x2={-425}>\r\n          <CardTop>\r\n            <Avatar $bg={`${process.env.PUBLIC_URL}/avatar/dingbg.png`}>\r\n              <DanceAvator\r\n                $width={81}\r\n                $img={`${process.env.PUBLIC_URL}/avatar/ding.png`}\r\n              />\r\n            </Avatar>\r\n            <Name>叮叮</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>資料庫建立</li>\r\n              <li>前臺後臺介面</li>\r\n              <li>商品瀏覽系統</li>\r\n              <li>商品搜尋功能</li>\r\n              <li>後臺商品管理系統</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </Link>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </Link>\r\n          </CardFooter>\r\n        </CardMember>\r\n        <CardMember $x1={-55} $x2={-279}>\r\n          <CardTop>\r\n            <Avatar $bg={`${process.env.PUBLIC_URL}/avatar/jackiebg.png`}>\r\n              <DanceAvator\r\n                $width={55}\r\n                $img={`${process.env.PUBLIC_URL}/avatar/jackie.png`}\r\n              />\r\n            </Avatar>\r\n            <Name>Jackie</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>前臺後臺介面</li>\r\n              <li>購物車卡片</li>\r\n              <li>後臺登入系統</li>\r\n              <li>後臺訂單管理系統</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </Link>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </Link>\r\n          </CardFooter>\r\n        </CardMember>\r\n        <CardMember $x1={-80} $x2={-395}>\r\n          <CardTop>\r\n            <Avatar $bg={`${process.env.PUBLIC_URL}/avatar/enzobg.png`}>\r\n              <DanceAvator $img={`${process.env.PUBLIC_URL}/avatar/enzo.png`} />\r\n            </Avatar>\r\n            <Name>Enzo</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>會員系統</li>\r\n              <li>前臺後臺介面</li>\r\n              <li>後端 API 撰寫</li>\r\n              <li>後端 JWT 驗證</li>\r\n              <li>後端部屬</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </Link>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </Link>\r\n          </CardFooter>\r\n        </CardMember>\r\n        <CardMember $x1={-75} $x2={-385}>\r\n          <CardTop>\r\n            <Avatar $bg={`${process.env.PUBLIC_URL}/avatar/janetbg.png`}>\r\n              <DanceAvator\r\n                $width={75}\r\n                $height={110}\r\n                $translateY={-60}\r\n                $img={`${process.env.PUBLIC_URL}/avatar/janet.png`}\r\n              />\r\n            </Avatar>\r\n            <Name>Janet</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>網站視覺設計</li>\r\n              <li>前臺後臺介面</li>\r\n              <li>結帳系統</li>\r\n              <li>登入/註冊系統</li>\r\n              <li>後臺會員管理系統</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </Link>\r\n            <Link to='/'>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </Link>\r\n          </CardFooter>\r\n        </CardMember>\r\n      </Card>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { PageWidth } from '../../../components/general'\r\n\r\n\r\nconst Container = styled.div`\r\n  margin: 60px auto 60px;\r\n  padding: 0 8px;\r\n  width: 90%;\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  margin-top: 40px;\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 60px;\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 80px;\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  text-align: left;\r\n  h3 {\r\n    margin: 48px 0 12px;\r\n    font-size: ${FONT_SIZE.lg};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.xl};\r\n    }\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n  }\r\n\r\n  p + p {\r\n    margin-top: 8px;\r\n  }\r\n`\r\n\r\nexport default function Notice() {\r\n  return (\r\n    <PageWidth>\r\n      <Container>\r\n        <Title>購物需知</Title>\r\n        <Content>\r\n          <h3>免責聲明</h3>\r\n          <p>當您使用本站，代表您了解並遵守以下規章：</p>\r\n          <p>根據 FTC 規定，請假設本站中所推薦的商家、產品均有合作關係，當使用者於站內連結到第三方商家網站並進行消費 ，本站將獲得部分消費金額作為傭金回報並維持本站營運的開銷，但這不影響您所購買任何商品的價格，本站也不會 多收您任何一分一毛。</p>\r\n          <p>本站將不負責任何用戶與商家之間的交易。任何取消、更改訂單請直接與商家客服聯絡。本站將不參與及協助任何消 費者與商家之間的糾紛。</p>\r\n          <p>所有來信諮詢的信件我們不會將資料轉發給其他方或商家，信箱及個人資訊僅供本站與用戶聯繫。</p>\r\n\r\n          <h3>退貨政策</h3>\r\n          <p>台灣境內交易七天鑑賞期</p>\r\n          <p>本賣場非七天猶豫期商店，不接受個人因素，如：不喜歡、尺寸不合、不符合個人期待等...理由退換貨</p>\r\n          <p>當您確認購買後，即代表您同意本賣場購買規則。如不接受者，請勿隨意下單。</p>\r\n        </Content>\r\n      </Container>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { PageWidth } from '../../../components/general'\r\n\r\n\r\nconst Container = styled.div`\r\n  margin: 60px auto 60px;\r\n  padding: 0 8px;\r\n  width: 90%;\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  margin-top: 40px;\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 60px;\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 80px;\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  text-align: left;\r\n\r\n  h3, h5 {\r\n    margin: 48px 0 12px;\r\n  }\r\n  h3 {\r\n    font-size: ${FONT_SIZE.lg};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.xl};\r\n    }\r\n  }\r\n\r\n  h5 {\r\n    font-size: ${FONT_SIZE.sm};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n  }\r\n\r\n  p + p {\r\n    margin-top: 8px;\r\n  }\r\n`\r\n\r\nexport default function Privacy() {\r\n  return (\r\n    <PageWidth>\r\n      <Container>\r\n        <Title>隱私權條款</Title>\r\n        <Content>\r\n          <h5>DAYEAYEAYEA（以下簡稱本網站），為了讓您能夠安心使用本網站的各項服務與資訊，特此向您說明本網站的隱私權保護政策，以保障您的權益，請您詳閱下列內容：</h5>\r\n\r\n          <h3>一、隱私權保護政策的適用範圍</h3>\r\n          <p>隱私權保護政策內容，包括本網站如何處理在您使用網站服務時收集到的個人識別資料。隱私權保護政策不適用於本網站以外的相關連結網站，也不適用於非本網站所委託或參與管理的人員。</p>\r\n        \r\n          <h3>二、個人資料的蒐集、處理及利用方式</h3>\r\n          <p>當您造訪本網站或使用本網站所提供之功能服務時，我們將視該服務功能性質，請您提供必要的個人資料，並在該特定目的範圍內處理及利用您的個人資料；非經您書面同意，本網站不會將個人資料用於其他用途。</p>\r\n\r\n          <h3>三、資料之保護</h3>\r\n          <p>只由經過授權的人員才能接觸您的個人資料，如因業務需要有必要委託其他單位提供服務時，本網站亦會嚴格要求其遵守保密義務，並且採取必要檢查程序以確定其將確實遵守。</p>\r\n          \r\n          <h3>四、網站對外的相關連結</h3>\r\n          <p>本網站的網頁提供其他網站的網路連結，您也可經由本網站所提供的連結，點選進入其他網站。但該連結網站不適用本網站的隱私權保護政策，您必須參考該連結網站中的隱私權保護政策。</p>\r\n\r\n          <h3>五、與第三人共用個人資料之政策</h3>\r\n          <p>本網站絕不會提供、交換、出租或出售任何您的個人資料給其他個人、團體、私人企業或公務機關，但有法律依據或合約義務者，不在此限。</p>\r\n\r\n          <h3>六、隱私權保護政策之修正</h3>\r\n          <p>本網站隱私權保護政策將因應需求隨時進行修正，修正後的條款將刊登於網站上。</p>\r\n        </Content>\r\n      </Container>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import { createGlobalStyle } from 'styled-components'\r\nimport { COLOR, FONT } from './style'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    line-height: 1.5em;\r\n    text-decoration: none;\r\n    font-family: ${FONT.logo};\r\n  }\r\n  #root {\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  ::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    -webkit-border-radius: 24px;\r\n    border-radius: 24px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 4px;\r\n    border-radius: 4px;\r\n    background: rgb(204,204,204);\r\n  }\r\n  div, p, span, input, select, option {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n  h1, h2, h3, h4, h5, h6 {\r\n    margin: 0;\r\n    padding: 0;\r\n    line-height:normal;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    &:hover {\r\n      color: ${COLOR.text_dark};\r\n    }\r\n  }\r\n  ul, li {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  button {\r\n    box-sizing: border-box;\r\n    border: none;\r\n    cursor: pointer;\r\n    background: transparent;\r\n    &:hover, &:focus {\r\n      outline: none\r\n    }\r\n  }\r\n  input {\r\n    outline: none;\r\n    border: none;\r\n\r\n    &:focus {\r\n      outline: none;\r\n      border: none\r\n    }\r\n  }\r\n  textarea {\r\n    resize: none;\r\n  }\r\n  img {\r\n    height: 600px;\r\n  }\r\n`\r\n\r\nexport default GlobalStyle\r\n","import { useEffect, useState, useMemo, useCallback } from 'react'\r\nimport Navbar from './components/navbar/Navbar'\r\nimport Footer from './components/Footer'\r\nimport {\r\n  Articles,\r\n  Step1,\r\n  Step2,\r\n  Step3,\r\n  Categories,\r\n  Search,\r\n  Home,\r\n  Login,\r\n  MeTab,\r\n  OrderDetail,\r\n  Products,\r\n  NotFound\r\n} from './pages'\r\nimport {\r\n  AdminLogin,\r\n  AdminOrders,\r\n  AdminOrderDetail,\r\n  AdminProducts,\r\n  AdminMembers,\r\n  AdminMemberDetail,\r\n  AdminProductDetail,\r\n  AdminProductAdd,\r\n  Layout as AdminLayout,\r\n  NotFound as AdminNotFound\r\n} from './pages/AdminPages'\r\nimport { Brand, FAQ, Join, Notice, Privacy } from './pages/InfoPages/index'\r\nimport { PageHeight } from './components/general'\r\nimport {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n  useRouteMatch\r\n} from 'react-router-dom'\r\nimport {\r\n  ScrollToTop,\r\n  addItemsToLocalStorage,\r\n  getItemsFromLocalStorage,\r\n  getTokenFromLocalStorage,\r\n  isTokenExpired\r\n} from './utils'\r\nimport {\r\n  LoadingContext,\r\n  ModalContext,\r\n  LocalStorageContext,\r\n  UserContext,\r\n  OversoldContext\r\n} from './context'\r\nimport GlobalStyle from './constants/globalStyle'\r\nimport jwt_decode from 'jwt-decode'\r\nimport useAuth from './hooks/useAuth'\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router basename='/'>\r\n      <GlobalStyle />\r\n      <ScrollToTop />\r\n      <Switch>\r\n        <Route path='/admin' component={AdminRoutes} />\r\n        <Route path='/' component={Shop} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nfunction AdminRoutes() {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [isNavClick, setIsNavClick] = useState(true)\r\n  const handleModalClose = useCallback(() => {\r\n    setIsModalOpen((isModalOpen) => false)\r\n  }, [setIsModalOpen])\r\n\r\n  return (\r\n    <LoadingContext.Provider\r\n      value={{ isLoading, setIsLoading, isNavClick, setIsNavClick }}\r\n    >\r\n      <ModalContext.Provider\r\n        value={{\r\n          isModalOpen,\r\n          setIsModalOpen,\r\n          handleModalClose,\r\n          isNavClick,\r\n          setIsNavClick\r\n        }}\r\n      >\r\n        <Switch>\r\n          <Route path={'/admin/login'} component={AdminLogin} />\r\n          <AdminLayout>\r\n            <Switch>\r\n              <Route\r\n                path={'/admin/members/:id'}\r\n                component={AdminMemberDetail}\r\n              />\r\n              <Route path={'/admin/members'} component={AdminMembers} />\r\n              <Route\r\n                path={'/admin/orders/:ticket'}\r\n                component={AdminOrderDetail}\r\n              />\r\n              <Route path={'/admin/orders'} component={AdminOrders} />\r\n              <Route\r\n                path={'/admin/products/detail/:id'}\r\n                component={AdminProductDetail}\r\n              />\r\n              <Route path={'/admin/products/add'} component={AdminProductAdd} />\r\n              <Route path={'/admin/products/:page'} component={AdminProducts} />\r\n              <Route path={'/admin/products/'} component={AdminProducts} />\r\n              <Route path={'*'} component={AdminNotFound} />\r\n            </Switch>\r\n          </AdminLayout>\r\n        </Switch>\r\n      </ModalContext.Provider>\r\n    </LoadingContext.Provider>\r\n  )\r\n}\r\nfunction Shop() {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [cartItems, setCartItems] = useState(\r\n    JSON.parse(getItemsFromLocalStorage())\r\n  )\r\n  const [user, setUser] = useState()\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !getTokenFromLocalStorage() ||\r\n      isTokenExpired(getTokenFromLocalStorage())\r\n    )\r\n      return false\r\n    try {\r\n      const _info = jwt_decode(getTokenFromLocalStorage())\r\n      if (_info.hasOwnProperty('id')) return setUser(_info)\r\n      return setUser(null)\r\n    } catch (error) {\r\n      return setUser(null)\r\n    }\r\n  }, [])\r\n\r\n  const handleModalClose = useCallback(() => {\r\n    setIsModalOpen((isModalOpen) => false)\r\n  }, [setIsModalOpen])\r\n\r\n  const totalPrice = useMemo(() => {\r\n    if (!cartItems) return\r\n    // 預先加上 80 元運費\r\n    let sum = 80\r\n    for (const cartItem of cartItems) {\r\n      sum += cartItem.discountPrice * cartItem.quantity\r\n    }\r\n    return sum\r\n  }, [cartItems])\r\n\r\n  const totalItems = useMemo(() => {\r\n    if (!cartItems) return\r\n    return cartItems.length\r\n  }, [cartItems])\r\n\r\n  const handleAddCartItem = (targetId, productInfo) => {\r\n    const { imgs, name, price, discountPrice, quantity } = productInfo\r\n    const length = imgs.length\r\n    let storageProductItems = JSON.parse(getItemsFromLocalStorage()) || []\r\n    let imgUrlSm\r\n    if (imgs) {\r\n      imgUrlSm = imgs[length - 1].imgUrlSm || imgs[0].imgUrlSm\r\n    }\r\n    const checkHasProducts =\r\n      storageProductItems.length >= 1\r\n        ? storageProductItems.filter((item) => item.id === targetId)\r\n        : []\r\n    let productList\r\n    if (checkHasProducts.length < 1) {\r\n      productList = [\r\n        ...storageProductItems,\r\n        {\r\n          id: targetId,\r\n          img: imgUrlSm,\r\n          name,\r\n          price,\r\n          discountPrice,\r\n          quantity\r\n        }\r\n      ]\r\n    } else {\r\n      productList = storageProductItems.map((item) => {\r\n        if (item.id !== targetId) return item\r\n        return {\r\n          ...item,\r\n          quantity: item.quantity + quantity\r\n        }\r\n      })\r\n    }\r\n    addItemsToLocalStorage(productList)\r\n    setCartItems(productList)\r\n  }\r\n\r\n  const handleRemoveCartItem = (id) => {\r\n    addItemsToLocalStorage(cartItems.filter((item) => item.id !== id))\r\n    setCartItems(cartItems.filter((item) => item.id !== id))\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCartItems(JSON.parse(getItemsFromLocalStorage()))\r\n  }, [])\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, setUser }}>\r\n      <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\r\n        <ModalContext.Provider\r\n          value={{\r\n            isModalOpen,\r\n            setIsModalOpen,\r\n            handleModalClose\r\n          }}\r\n        >\r\n          <LocalStorageContext.Provider\r\n            value={{\r\n              cartItems,\r\n              totalPrice,\r\n              totalItems,\r\n              setCartItems,\r\n              handleAddCartItem,\r\n              handleRemoveCartItem\r\n            }}\r\n          >\r\n            <Navbar />\r\n            <PageHeight>\r\n              <Switch>\r\n                <Route path='/articles/:id/:page' component={Articles} />\r\n                <Route path='/checkout' component={CheckoutRoutes} />\r\n                <Route path='/categories/:slug/:page' component={Categories} />\r\n                <Route path='/search' component={Search} />\r\n                <Route path='/login' component={Login} />\r\n                <Route path='/member' component={MemberRoutes} />\r\n                <Route path='/products/:id' component={Products} />\r\n                <Route path='/info' component={InfoRoutes} />\r\n                <Route exact path='/' component={Home} />\r\n                <Route path='*' component={NotFound} />\r\n              </Switch>\r\n            </PageHeight>\r\n            <Footer />\r\n          </LocalStorageContext.Provider>\r\n        </ModalContext.Provider>\r\n      </LoadingContext.Provider>\r\n    </UserContext.Provider>\r\n  )\r\n}\r\nfunction CheckoutRoutes() {\r\n  const [isOversold, setIsOversold] = useState(false)\r\n  const { path } = useRouteMatch()\r\n  return (\r\n    <OversoldContext.Provider value={{ isOversold, setIsOversold }}>\r\n      <Switch>\r\n        <Route path={`${path}/step1`} component={Step1} />\r\n        <Route path={`${path}/step2`} component={Step2} />\r\n        <Route path={`${path}/step3/:ticket`} component={Step3} />\r\n      </Switch>\r\n    </OversoldContext.Provider>\r\n  )\r\n}\r\nfunction MemberRoutes() {\r\n  const { path } = useRouteMatch()\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/orders/:ticket`} component={OrderDetail} />\r\n      <Route path={`${path}/:tab(me|info|orders)`} component={MeTab} />\r\n    </Switch>\r\n  )\r\n}\r\nfunction InfoRoutes() {\r\n  const { path } = useRouteMatch()\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/brand`} component={Brand} />\r\n      <Route path={`${path}/faq`} component={FAQ} />\r\n      <Route path={`${path}/join`} component={Join} />\r\n      <Route path={`${path}/notice`} component={Notice} />\r\n      <Route path={`${path}/privacy`} component={Privacy} />\r\n    </Switch>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}