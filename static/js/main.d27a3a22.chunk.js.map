{"version":3,"sources":["context.js","constants/style.js","components/navbar/CategoryMenu.js","components/general.js","utils.js","components/cartSystem/CartItem.js","components/Button.js","components/navbar/MenuStyles.js","components/cartSystem/CartMenu.js","components/navbar/AccountMenu.js","components/navbar/SearchMenu.js","components/navbar/NavbarStyled.js","components/navbar/Navbar.js","components/Footer.js","webAPI/articlesAPI.js","webAPI/productsAPI.js","components/IsLoading.js","hooks/useMediaQuery.js","components/productSystem/ProductCard.js","components/Modal.js","components/productSystem/ProductModal.js","components/Paginator.js","pages/Articles/Articles.js","components/checkoutSystem/Step.js","components/Counter.js","components/checkoutSystem/step1CartItem.js","pages/Checkout/Step1/Step1.js","components/loginSystem/loginCard.js","components/Tab.js","webAPI/loginAPI.js","components/loginSystem/SignInForm.js","components/loginSystem/SignUpForm.js","pages/Login/Login.js","webAPI/orderAPI.js","pages/Checkout/Step2/Step2.js","components/checkoutSystem/step3OrderItem.js","pages/Checkout/Step3/Step3.js","pages/Categories/Categories.js","pages/Search/Search.js","components/homeSystem/HomeCategoriesImg.js","components/homeSystem/HomeArticlesImg.js","pages/Home/Home.js","components/Table.js","components/memberSystem/OrderTable.js","pages/MemberPages/Home/Home.js","pages/MemberPages/Orders/Orders.js","pages/MemberPages/Info/Info.js","pages/MemberPages/Me/Me.js","components/productSystem/ProductImg.js","components/productSystem/ProductUpInfo.js","components/productSystem/ProductBottomInfo.js","pages/Products/Products.js","pages/404/404.js","webAPI/adminAPIs.js","pages/AdminPages/AdminLogin/AdminLogin.js","pages/AdminPages/AdminLogin/index.js","webAPI/adminMembersAPI.js","components/admin/TableStyle.js","components/admin/memberManage/MemberItem.js","components/admin/memberManage/Search.js","pages/AdminPages/AdminMembers/AdminMembers.js","components/admin/memberManage/OrderItem.js","pages/AdminPages/AdminMembers/AdminMemberDetail.js","components/admin/AdminIsLoading.js","components/admin/productManage/Search.js","webAPI/adminProductsAPI.js","components/admin/productManage/Table.js","components/admin/PaginatorStyle.js","pages/AdminPages/AdminProducts/AdminProducts.js","components/admin/productManage/Tab.js","components/admin/productManage/FormStyle.js","components/admin/productManage/AdminDetailForms/ImgForm.js","components/admin/productManage/AdminDetailForms/DescForm.js","components/admin/productManage/AdminDetailForms/InfoForm.js","pages/AdminPages/AdminProducts/AdminProductDetail.js","components/admin/productManage/AdminAddForms/ImgForm.js","components/admin/productManage/AdminAddForms/DescForm.js","components/admin/productManage/AdminAddForms/InfoForm.js","hooks/useCreateProduct.js","pages/AdminPages/AdminProducts/AdminProductAdd.js","components/admin/orderManage/Search.js","components/admin/orderManage/TableItem.js","hooks/useFetchData.js","pages/AdminPages/AdminOrders/AdminOrders.js","pages/AdminPages/AdminOrders/AdminOrderDetail.js","pages/AdminPages/Navbar.js","pages/AdminPages/Footer.js","pages/AdminPages/Layout.js","pages/InfoPages/Brand/Brand.js","webAPI/faq.js","pages/InfoPages/FAQ/FAQ.js","pages/InfoPages/Join/Join.js","pages/InfoPages/Notice/Notice.js","pages/InfoPages/Privacy/Privacy.js","constants/globalStyle.js","App.js","index.js"],"names":["LoadingContext","createContext","ModalContext","LocalStorageContext","UserContext","COLOR","ADMIN_COLOR","table_blue","light_grey","grey","Btn_grey","Btn_grey_hover","Btn_darkgrey","Btn_darkgrey_hover","Btn_blue","Btn_blue_hover","border_grey","border_dark_grey","warning","FONT","FONT_SIZE","xxxl","xxl","xl","lg","md","sm","xs","MEDIA_QUERY","ADMIN_MEDIA_QUERY","CategoryContainer","styled","div","$isOpen","Category","Link","props","$active","Menu","pathname","useLocation","to","includes","PageHeight","PageWidth","FullWidth","ImgAnchor","CARTTITLE_NAME","TOKEN","NEWPRODUCTINFO","ScrollToTop","useEffect","window","scrollTo","addItemsToLocalStorage","productItems","localStorage","setItem","JSON","stringify","getItemsFromLocalStorage","getItem","getTokenFromLocalStorage","addTokenToLocalStorage","token","removeNewProductFromLocalStorage","removeItem","countWhiteCardAmount","length","page","isDesktop","perWrap","whiteCardAmountArray","Math","ceil","Amount","i","push","setNumInArray","num","NumArray","formatPrice","cents","toLocaleString","style","currency","replace","imgVerify","imgUrl","test","calTotalPages","totalItems","floor","ItemContainer","Pic","$img","Info","Name","NumPrice","RemoveBtn","FontAwesomeIcon","CartItem","id","name","img","price","quantity","handleRemoveCartItem","useContext","height","icon","faTrashAlt","onClick","ButtonStyle","button","color","ShoppingCardIcon","ColorShoppingCardIcon","GeneralIcon","ShoppingCarBtn","children","buttonStyle","faShoppingCart","ShoppingCarWhiteBtn","ArrowBtn","faArrowRight","LoginBtn","faSignInAlt","LogoutBtn","faSignOutAlt","EditBtn","faEdit","SaveBtn","faSave","GeneralBtn","HoverArea","MenuContainer","Triangle","Title","AccountTitle","CSSTriangle","RestyledHoverArea","ItemsContainer","CartInfo","BtnWrapper","EmptyCart","CartMenu","handleHover","cartItems","totalPrice","onMouseEnter","onMouseLeave","map","item","discountPrice","RestyledMenuContainer","AccountMenu","$setMenu","user","setUser","onMouseOver","onMouseOut","SearchTitle","SearchMenuContainer","SearchInput","input","SearchButton","SearchDiv","keywordsSearch","history","setInputValue","keyword","inputValue","SearchMenu","useState","trim","useHistory","handleOnChange","useCallback","e","target","value","handleOnClick","handleKeyDown","keyCode","placeholder","type","onChange","onKeyDown","faSearch","DesktopBar","DesktopContainer","Nav","nav","LeftIcons","RightIcons","LOGO","BurgerBTN","$shouldHide","CloseBTN","$isClicked","SearchBTN","AccountBTN","CartBTN","Navbar","menu","setMenu","innerWidth","document","body","overflowY","faBars","faTimes","faUserCircle","$menu","FooterContainer","ColumnContainer","Column","ColumnTitle","PageLink","ColumnDesc","Copyright","Footer","BASE_URL","getAllArticles","a","fetch","res","json","console","log","getArticlesById","getCategoryProducts","category","getAllProductsByPage","getCategoryProductsByPage","getProductById","getProductByArticle","articleSort","getProductByKeywords","keywords","FixedBackground","IsLoadingStyle","override","css","IsLoadingComponent","size","speedMultiplier","useMediaQuery","query","mediaMatch","setMediaMatch","media","matchMedia","matches","mediaListener","addEventListener","removeEventListener","CardContainerDiv","status","CardLink","ButtonContainer","ImgContainer","ProductInfoContainer","TitleContainer","PriceContainer","PriceStyle","span","discount","SoldOut","DiscountPriceStyle","ProductCard","imgs","stockQuantity","hasDiscount","setIsModalOpen","setIsProductSoldOut","handleAddCartItem","inStock","setInStock","productInfo","useMemo","cartInLocal","parse","isProductInCart","filter","surplus","handleAddProductInCart","isProductSoldOut","backgroundImage","WhiteCard","ModalContent","ModalIconDiv","ModalBtnDiv","ModalContentDiv","CancelRoundedColorIcon","CloseButton","faTimesCircle","ModalIcon","ModalButton","buttonOne","buttonTwo","FullModal","content","open","onClose","AddCartModal","isModalOpen","handleModalClose","SoldOutCartModal","PaginatorButtonStyle","PaginatorButton","active","ArticleImgContainer","TitleBorder","ContentDiv","ProductCardsContainer","PaginatorDiv","Articles","useParams","articleData","setArticleData","articleProducts","setArticleProducts","totalPage","setTotalPage","isLoading","setIsLoading","isMobile","PageIsFound","result","isFound","parseInt","then","ok","data","title","whiteCardAmount","Product_imgs","imgUrlSm","imgUrlMd","amount","singlePage","linkDirection","StepsWrapper","Step","StepTitle","StepContent","Steps","location","faChevronRight","CartTitles","TitleWidth","TitleGroup","CartTitle","Item","ItemInfo","ItemImg","ItemName","ItemContent","ItemPrice","ItemPriceHidden","ItemCount","ItemCountHidden","ItemCountMobile","ItemDelete","TotalPrice","BtnFlex","BtnFlexCenter","LinkStyle","maxWidth","width","margin","FormTitle","FormWrapper","Form","form","InputWrapper","InputTitle","RadionLabel","Input","Label","label","DeliveryData","p","WarningMessage","MsgTitle","Counter","Number","ItemCounter","marginStyle","handleCount","handleChange","handleOnBlur","count","targetId","faMinus","onBlur","key","preventDefault","faPlus","Cart","handleUpdateCount","$setNotAllowed","setQuantity","totalQuantity","setTotalQuantity","warningMessage","setWarningMessage","marginRight","Step1","notAllowed","setNotAllowed","setCartItems","reduce","total","c","cursor","PageWidthHeight","AbsoluteCenter","ErrorMsg","SendPassword","PasswordInput","TabWrapper","Tab","Tabs","tabs","tabsPanel","presetTab","activeTab","setActiveTab","tab","index","signIn","username","password","method","headers","signUp","email","getMe","authorization","SignInForm","tokenCheck","$errMessage","$setErrMessage","useForm","register","errors","formState","handleSubmit","onSubmit","submitData","required","marginTop","textAlign","SignUpForm","message","pattern","Login","errMessage","setErrMessage","redirect","reload","createOrder","orderAddress","orderEmail","orderName","orderPhone","payment","shipping","orderItem","subTotal","isDeleted","getOrderOne","ticket","Step2","errMsg","setValue","productId","ticketNo","checked","address","fullname","phone","htmlFor","OrderItem","Product","Step3","setOrderData","orderData","Member","Order_items","CardContainer","Categories","products","setProducts","slug","setAPIResult","imgUrlLg","PageContainer","SearchFoundContainer","SearchNotFoundContainer","SearchFoundResult","searchAmount","Search","searchResult","setSearchResult","search","keywordString","qs","ignoreQueryPrefix","currentPage","perPageSliceStart","perPageSliceEnd","SearchProductsAmount","totalNum","pagesArray","setSearchPageInArray","slice","CategoryImg","HomeCategoriesImg","ImgLink","ArticlesImgContainer","ArticleImg","HomeArticlesImg","articles","setArticles","Carousel","zIndex","article","ProductContainer","getProductsByCategory","showProductsInComponent","MediaQuery","Home","homeProducts","setHomeProducts","apparelProducts","setApparelProducts","kitchenwareProducts","setKitchenProducts","foodProducts","setFoodProducts","stationeryProducts","setStationeryProducts","outdoorProducts","setOutdoorProducts","Button","Table","table","col","OrderTable","orders","handleClick","order","Container","Header","SubTitle","h5","MemberInfo","PageList","ul","Li","li","PageLi","testArray","Orders","array","InfoWrapper","Field","position","top","right","ModifyInfo","Me","ProductImgContainer","ThumbnailContainer","ThumbnailImgDiv","$isSelected","LargeImgDiv","ProductImgsComponent","showLargeImg","setShowLargeImg","showThumbnailImage","setShowThumbnailImage","selectedId","handleThumbnailClick","newLargeImg","InfoStyle","ProductName","text_dark","Shortdesc","SoldOutBtn","ProductUpInfoComponent","shortDesc","targetValue","changeQuantity","AddProductToCart","ProductBottomContainer","LongDescContent","ProductBottomInfoComponent","longDesc","ProductPageDiv","ProductTopContainer","Products","product","setProduct","productImgs","setProductImgs","Wrapper","NotFound","adminLogin","adminCheck","Authorization","getOrders","condition","getSingleOrder","updateOrderStatus","archiveOrder","h1","FormContainer","h3","Err","AdminLogin","setUsername","setPassword","setErrMsg","alert","background","getAllMembers","toString","getMember","updateMemberLevel","level","ColumnHeader","TableItemContainer","Cell","Btn","editBtn_grey","editBtn_grey_hover","RestyledCell","TableItem","member","calTotalPrice","StyledSearchIcon","isSearching","setIsSearching","marginLeft","PageWrapper","SearchContainer","RestyleHeader","$name","headerNames","Msg","AdminMembers","setMembers","members","membersFilter","setMembersFilter","reg","RegExp","sort","b","minWidth","MemberWrapper","List","ListTitle","ListData","EditButton","AdminMemberDetail","isEdit","setIsEdit","setMemberDetail","memberDetail","handleEdit","AdminIsLoadingComponent","Dropdown","select","CategoryDropdown","defaultValue","disabled","getAllProducts","changeProductStatus","newStatus","changeProductQuantity","newQuantity","searchProductsFromAdmin","changeProductInfoById","newInfo","deleteProductById","createNewProduct","newProduct","TableWrapper","NameHeader","GeneralCell","NameCell","ProductCell","ImgCell","QuantityCounter","StatusButton","productQuantity","setProductQuantity","productStatus","setProductStatus","productImg","handleOnStatusClick","handleOnDeleteClick","go","SearchSideContainer","AdminProducts","showProductsList","showProductsByPage","categoryFilter","setCategoryFilter","useLayoutEffect","setAdminProductsPageInArray","handleDropDownChange","pageValue","FormTitleBorder","ButtonDiv","ButtonForImgForm","onLeaveClick","onSaveClick","isChecked","ButtonGroup","onEditClick","isValid","ButtonGroupForAdd","FormTitleComponent","SelectedComponent","DropdownStyle","valueArray","productValue","ForNewDropdown","PriceInputContainer","InputMark","PriceInputStyle","PriceInput","border","QuantityInputStyle","CheckIcon","EditIcon","ImgInput","ImgForm","ImgInputOutContainer","FormContentContainer","ImgPreviewContainer","ImgUrlSetContainer","ImgUrlWithTitleContainer","SmallTitle","ImgInputContainer","$isBlank","ImgPreviewSet","isBlank","ImgUrlWithTitle","formData","setFormData","targetName","newFormData","ImgInputSet","require","setIsValid","isDisabled","setIsDisabled","errorMsg","setErrorMsg","imgData","setImgData","buttonStatus","setButtonStatus","inputId","setInputValid","valid","checkIsImg","newData","Object","values","handleEditClick","handleCheckClick","keys","isNotValid","isImgCheck","undefined","newValid","faCheckCircle","DetailImgForm","productImgUrlOne","setProductImgUrlOne","productImgUrlOTwo","setProductImgUrlTwo","productImgUrlThree","setProductImgUrlThree","setIsChecked","deleteKeysFromData","createdAt","updatedAt","handleLeaveClick","handleSaveClick","newProductImgs","imgsData","DescInput","DescForm","ComponentDiv","DescTextArea","textarea","DetailDescForm","descData","setDescData","errorMsgForName","setErrorMsgForName","errorMsgForShort","setErrorMsgForShort","errorMsgForLong","setErrorMsgForLong","newDescData","InfoForm","InfoFormSetContainer","OptionsContainer","StatusDropdown","CategoriesDropdown","ArticlesDropdown","handleBlur","setValid","errorMessage","StatusComponent","PriceComponent","inputPriceValue","setInputPriceValue","isNaN","QuantityComponent","inputQuantityValue","setInputQuantityValue","newValue","DetailInfoForm","InfoData","setInfoData","AdminProductDetail","productDetail","setProductDetail","imgFromData","setImgDataIsValid","imgDataIsValid","isImgVerifyCheck","every","splice","imgDataOne","imgDataTwo","imgDataThree","checkValid","dropdownTitle","useCreateProduct","imgsDataOne","imgsDataTwo","imgsDataThree","newProductInfo","isAllChecked","AdminProductAdd","Filter","handleFilter","useFetchData","ApiFunc","setterFunc","args","isMounted","Paginator","PaginatorBtn","AdminOrders","setOrders","setFilter","isViewingArchive","setIsViewingArchive","offset","setOffset","filteredOrders","TotalPages","Array","handleGetOrders","Subtotal","Collapser","Icon","TableHeaders","PriceDetail","OrderInfo","Buttons","Archived","AdminOrderDetail","isOpen","setIsOpen","orderDetail","setOrderDetail","handleArchive","handleOrderStatus","faChevronDown","faQuestionCircle","NavWrapper","Avatar","NavbarList","NavLink","activeClass","LogoutButton","SwitchButton","handleLogout","setActive","src","alt","exact","faUserFriends","faEye","faImages","faThLarge","pre","faAngleLeft","FootWrapper","footer","Layout","Img","AboutImg","Brand","getFAQs","Q","A","Toggle","faq","question","faChevronUp","answer","FAQ","faqs","setFaqs","fetchFAQs","library","add","fab","Card","CardMember","CardTop","Work","CardFooter","IconTitle","Join","faPortrait","Content","Notice","Privacy","GlobalStyle","createGlobalStyle","App","basename","path","component","AdminRoutes","Shop","Provider","_info","jwt_decode","hasOwnProperty","error","sum","cartItem","productList","storageProductItems","CheckoutRoutes","MemberRoutes","InfoRoutes","useRouteMatch","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d27a3a22.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport const LoadingContext = createContext(false)\r\nexport const ModalContext = createContext(false)\r\nexport const LocalStorageContext = createContext('')\r\nexport const UserContext = createContext('')\r\n","export const COLOR = {\r\n  primary_light: '#D2C9B1',\r\n  primary_light_hover: '#b5a988',\r\n  primary_light_tab: '#e4decc',\r\n  primary_dark: '#9A8B66',\r\n  warning: '#ffb22e',\r\n  warning_hover: '#f7a100',\r\n  accent: '#5B756E',\r\n  accent_hover: '#35574e',\r\n  light_grey: '#cecece',\r\n  grey: '#aaa',\r\n  light: '#fff',\r\n\r\n  text_primary_light: '#D2C9B1',\r\n  text_primary_dark: '#9A8B66',\r\n  text_warning: '#ffb22e',\r\n  text_light: '#fff',\r\n  text_dark: '#333',\r\n  text_black: '#000',\r\n  text_grey: '#999',\r\n  text_placeholder: '#CECECE',\r\n\r\n  border_primary: '#D2C9B1',\r\n  border_primary_dark: '#9A8B66',\r\n  border_grey: '#cecece',\r\n  border_light_grey: '#e5e5e5',\r\n  border_super_light: '#eee',\r\n  border_light: '#fff',\r\n  border_dark: '#333'\r\n}\r\nexport const ADMIN_COLOR = {\r\n  table_blue: '#3689c9',\r\n  light_grey: '#EDF1F4',\r\n  grey: '#ececec',\r\n  Btn_grey: '#aaa',\r\n  Btn_grey_hover: '#888',\r\n  Btn_darkgrey: '#333',\r\n  Btn_darkgrey_hover: '#2a2a2a',\r\n  Btn_blue: '#3689c9',\r\n  Btn_blue_hover: '#1971b5',\r\n  border_grey: '#BBC5D1',\r\n  border_dark_grey: '#555',\r\n  warning: 'rgb(210, 30, 30)'\r\n}\r\n\r\n// 要用什麼字體？\r\nexport const FONT = {\r\n  logo: \"'Karla', sans-serif;\"\r\n}\r\n\r\nexport const FONT_SIZE = {\r\n  xxxl: '42px',\r\n  xxl: '30px',\r\n  xl: '24px',\r\n  lg: '20px',\r\n  md: '16px',\r\n  sm: '14px',\r\n  xs: '12px'\r\n}\r\n\r\nexport const EFFECT = {\r\n  shadow_dark: `0px 5px 12px 1px rgba(140, 140, 140, 0.2);`\r\n}\r\n\r\nexport const MEDIA_QUERY = {\r\n  desktop: '@media screen and (min-width: 1200px)',\r\n  tablet: '@media screen and (min-width: 768px) and (max-width: 1200px)',\r\n  widescreen: '@media screen and (min-width: 2560px)'\r\n}\r\nexport const ADMIN_MEDIA_QUERY = {\r\n  sm: '@media screen and (min-width: 1000px) and (max-width: 1400px)',\r\n  md: '@media screen and (min-width: 1400px) and (max-width: 2560px)',\r\n  lg: '@media screen and (min-width: 2560px)'\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { Link, useLocation } from 'react-router-dom'\r\n\r\nconst CategoryContainer = styled.div`\r\n  position: fixed;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  top: ${({ $isOpen }) => ($isOpen ? '50px' : '-100vh')};\r\n  background: ${COLOR.primary_light};\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  transition: ease 0.3s;\r\n  z-index: 1;\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n    background: transparent;\r\n    position: static;\r\n    height: 90px;\r\n    width: unset;\r\n  }\r\n`\r\nconst Category = styled(Link)`\r\n  text-decoration: none;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid ${COLOR.border_light};\r\n  font-size: ${FONT_SIZE.md};\r\n  width: 80%;\r\n  color: ${COLOR.text_light};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 12%;\r\n  &:hover {\r\n    color: ${COLOR.text_primary_dark};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    font-weight: bold;\r\n  `}\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    color: ${COLOR.text_dark};\r\n    font-size: ${FONT_SIZE.md};\r\n    padding: 0 22px;\r\n  }\r\n`\r\n\r\nexport default function Menu({ $isOpen }) {\r\n  const pathname = useLocation().pathname\r\n\r\n  return (\r\n    <CategoryContainer $isOpen={$isOpen}>\r\n      <Category\r\n        to='/categories/all/1'\r\n        $active={pathname.includes('/categories/all')}\r\n      >\r\n        所有商品\r\n      </Category>\r\n      <Category\r\n        to='/categories/home/1'\r\n        $active={pathname.includes('/categories/home')}\r\n      >\r\n        居家生活\r\n      </Category>\r\n      <Category\r\n        to='/categories/apparel/1'\r\n        $active={pathname.includes('/categories/apparel')}\r\n      >\r\n        服飾配件\r\n      </Category>\r\n      <Category\r\n        to='/categories/kitchenware/1'\r\n        $active={pathname.includes('/categories/kitchenware')}\r\n      >\r\n        廚房餐具\r\n      </Category>\r\n      <Category\r\n        to='/categories/food/1'\r\n        $active={pathname.includes('/categories/food')}\r\n      >\r\n        食材雜貨\r\n      </Category>\r\n      <Category\r\n        to='/categories/stationery/1'\r\n        $active={pathname.includes('/categories/stationery')}\r\n      >\r\n        設計文具\r\n      </Category>\r\n      <Category\r\n        to='/categories/outdoor/1'\r\n        $active={pathname.includes('/categories/outdoor')}\r\n      >\r\n        休閒戶外\r\n      </Category>\r\n    </CategoryContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { MEDIA_QUERY } from '../constants/style'\r\n\r\n// 撐頁面高度用，已加在 Route 外面\r\nexport const PageHeight = styled.div`\r\n  position: relative;\r\n  margin-top: 49px;\r\n  width: 100%;\r\n  flex: 1;\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 121px;\r\n  }\r\n`\r\n\r\nexport const AdminPageHeight = styled.div``\r\n\r\n// 非滿版用 PageWidth, AdminPageWidth 包\r\nexport const PageWidth = styled.div`\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  ${MEDIA_QUERY.desktop} {\r\n    max-width: 1200px;\r\n  }\r\n`\r\nexport const AdminPageWidth = styled.div``\r\n\r\n// 滿版用 FullWidth 包\r\nexport const FullWidth = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n`\r\n\r\n// 可包在圖片裡的連結 component，height 需視圖片高度另外加上去\r\nexport const ImgAnchor = styled(Link)`\r\n  display: inline-block;\r\n  width: 100%;\r\n  color: transparent;\r\n  &:hover {\r\n    color: transparent;\r\n  }\r\n`\r\n","import { useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nconst CARTTITLE_NAME = 'cartItemsList'\r\nconst TOKEN = 'token'\r\nconst NEWPRODUCTINFO = 'newProductInfo'\r\n\r\nexport function ScrollToTop() {\r\n  const { pathname } = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [pathname])\r\n\r\n  return null\r\n}\r\n\r\nexport const addItemsToLocalStorage = (productItems) => {\r\n  localStorage.setItem(CARTTITLE_NAME, JSON.stringify(productItems))\r\n}\r\n\r\nexport const getItemsFromLocalStorage = () => {\r\n  return localStorage.getItem(CARTTITLE_NAME)\r\n}\r\n\r\nexport const getTokenFromLocalStorage = () => {\r\n  return localStorage.getItem(TOKEN)\r\n}\r\n\r\nexport const addTokenToLocalStorage = (token) => {\r\n  localStorage.setItem(TOKEN, token)\r\n}\r\n\r\nexport const addNewProductToLocalStorage = (newProductInfo) => {\r\n  localStorage.setItem(NEWPRODUCTINFO, JSON.stringify(newProductInfo))\r\n}\r\n\r\nexport const getNewProductFromLocalStorage = () => {\r\n  return localStorage.getItem(NEWPRODUCTINFO)\r\n}\r\n\r\nexport const removeNewProductFromLocalStorage = () => {\r\n  return localStorage.removeItem(NEWPRODUCTINFO)\r\n}\r\n\r\nexport const countWhiteCardAmount = (length, page, isDesktop) => {\r\n  let perWrap = isDesktop ? 4 : 2\r\n  const totalPage = Math.ceil(length / 12)\r\n  let whiteCardAmountArray = []\r\n  if (page === totalPage) {\r\n    const Amount = perWrap - (length % perWrap)\r\n    if (Amount !== perWrap) {\r\n      for (let i = 1; i <= Amount; i++) {\r\n        whiteCardAmountArray.push(i)\r\n      }\r\n    }\r\n  }\r\n  return whiteCardAmountArray\r\n}\r\n\r\nexport const setNumInArray = (num) => {\r\n  const NumArray = []\r\n  for (let i = 1; i <= num; i++) {\r\n    NumArray.push(i)\r\n  }\r\n  return NumArray\r\n}\r\n\r\nexport const setSearchPageInArray = (totalNum) => {\r\n  const productsAmountPerPage = 12\r\n  const totalPage = Math.ceil(totalNum / productsAmountPerPage)\r\n  const pagesArray = []\r\n  for (let i = 1; i <= totalPage; i++) {\r\n    pagesArray.push(i)\r\n  }\r\n  return { totalPage, pagesArray }\r\n}\r\n\r\nexport const setAdminProductsPageInArray = (totalNum) => {\r\n  const productsAmountPerPage = 10\r\n  const totalPage = Math.ceil(totalNum / productsAmountPerPage)\r\n  const pagesArray = []\r\n  for (let i = 1; i <= totalPage; i++) {\r\n    pagesArray.push(i)\r\n  }\r\n  return { totalPage, pagesArray }\r\n}\r\n\r\nexport const formatPrice = (cents) => {\r\n  return cents\r\n    .toLocaleString('zh', {\r\n      style: 'currency',\r\n      currency: 'TWD'\r\n    })\r\n    .replace('.00', '')\r\n}\r\n\r\nexport const multiplyPrice = (quantity, price) => quantity * price\r\n\r\nexport const imgVerify = (imgUrl) => {\r\n  const rule = /\\.(jpeg|jpg|gif|png)$/\r\n  const isChecked = !rule.test(imgUrl) ? false : true\r\n  return isChecked\r\n}\r\n\r\nexport const checkIsImg = (imgData) => {\r\n  const imgDataForCheck = Object.values(imgData)\r\n  const result = imgDataForCheck.every((imgUrl) => imgVerify(imgUrl))\r\n  return result\r\n}\r\n\r\nexport const calTotalPages = (totalItems) => {\r\n  if (totalItems % 10) return Math.floor(totalItems / 10) + 1\r\n  return totalItems / 10\r\n}\r\n","import { useContext } from 'react'\r\nimport { LocalStorageContext } from '../../context'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { ImgAnchor } from '../general'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { formatPrice } from '../../utils'\r\n\r\nconst ItemContainer = styled.div`\r\n  border-bottom: 2px solid ${COLOR.border_grey};\r\n  padding: 20px 0px;\r\n  display: flex;\r\n  position: relative;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 10px 0px;\r\n  }\r\n`\r\nconst Pic = styled.div`\r\n  min-width: 70px;\r\n  height: 70px;\r\n  background: url(${({ $img }) => ($img ? $img : $img)});\r\n  &:hover {\r\n    transition: all 0.3s;\r\n    transform: scale(1.05);\r\n  }\r\n`\r\nconst Info = styled.div`\r\n  padding-left: 14px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\nconst Name = styled(Link)`\r\n  font-size: ${FONT_SIZE.sm};\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  &:hover {\r\n    transition: all 0.2s;\r\n    color: ${COLOR.text_black};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xs};\r\n  }\r\n`\r\nconst NumPrice = styled.div`\r\n  font-size: ${FONT_SIZE.sm};\r\n  font-weight: bold;\r\n  letter-spacing: 1px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xs};\r\n  }\r\n`\r\nconst RemoveBtn = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 2px;\r\n  bottom: 16px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    bottom: 8px;\r\n    transition: all 0.1s;\r\n    &:hover {\r\n      color: ${COLOR.primary_dark} !important;\r\n    }\r\n  }\r\n`\r\n\r\nexport default function CartItem({ id, name, img, price, quantity }) {\r\n  const { handleRemoveCartItem } = useContext(LocalStorageContext)\r\n  return (\r\n    <ItemContainer>\r\n      <Pic $img={img}>\r\n        <ImgAnchor to={`/products/${id}`} style={{ height: '70px' }} />\r\n      </Pic>\r\n      <Info>\r\n        <Name to={`/products/${id}`}>{name}</Name>\r\n        <NumPrice>\r\n          {quantity} x {formatPrice(price)}\r\n        </NumPrice>\r\n        <RemoveBtn\r\n          icon={faTrashAlt}\r\n          onClick={() => {\r\n            handleRemoveCartItem(id)\r\n          }}\r\n        />\r\n      </Info>\r\n    </ItemContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, ADMIN_COLOR } from '../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faShoppingCart,\r\n  faSignInAlt,\r\n  faSignOutAlt,\r\n  faEdit,\r\n  faArrowRight,\r\n  faSave\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst ButtonStyle = styled.button`\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  font-size: ${FONT_SIZE.md};\r\n  color: ${COLOR.text_light};\r\n  white-space: nowrap;\r\n  height: 36px;\r\n  width: 100%;\r\n  transition: linear 0.2s;\r\n  background: ${COLOR.light_grey};\r\n  ${(props) =>\r\n    props.color === 'primary' &&\r\n    `background: ${COLOR.primary_light};\r\n      &:hover {\r\n        background: ${COLOR.primary_light_hover};\r\n      }\r\n    `};\r\n  ${(props) =>\r\n    props.color === 'warning' &&\r\n    `background: ${COLOR.warning};\r\n\r\n      &:hover {\r\n        background: ${COLOR.warning_hover};\r\n      }\r\n  `};\r\n  ${(props) =>\r\n    props.color === 'accent' &&\r\n    `background: ${COLOR.accent};\r\n\r\n      &:hover {\r\n        background: ${COLOR.accent_hover};\r\n      }\r\n  `};\r\n  ${(props) =>\r\n    props.color === 'white' &&\r\n    `background: ${COLOR.light};\r\n     border: 1.5px solid ${COLOR.border_primary};\r\n     color: ${COLOR.primary_light}\r\n  `};\r\n  ${(props) =>\r\n    props.color === 'admin_blue' &&\r\n    `background: ${ADMIN_COLOR.Btn_blue};\r\n      &:hover {\r\n        background: ${ADMIN_COLOR.Btn_blue_hover};\r\n      }\r\n    `};\r\n  ${(props) =>\r\n    props.color === 'admin_grey' &&\r\n    `background: ${ADMIN_COLOR.Btn_grey};\r\n      &:hover {\r\n        background: ${ADMIN_COLOR.Btn_grey_hover};\r\n      }\r\n    `};\r\n`\r\nconst ShoppingCardIcon = styled(FontAwesomeIcon)`\r\n  margin-right: 6px;\r\n  margin-top: 2px;\r\n  color: ${COLOR.light};\r\n`\r\nconst ColorShoppingCardIcon = styled(FontAwesomeIcon)`\r\n  margin-right: 6px;\r\n  margin-bottom: 2px;\r\n  color: ${COLOR.primary_light};\r\n`\r\nconst GeneralIcon = styled(FontAwesomeIcon)`\r\n  margin-left: 6px;\r\n  margin-top: 1px;\r\n  color: ${COLOR.light};\r\n`\r\n\r\nfunction ShoppingCarBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      <ShoppingCardIcon icon={faShoppingCart} />\r\n      {children}\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction ShoppingCarWhiteBtn({ id, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color='white' style={buttonStyle} onClick={onClick}>\r\n      <ColorShoppingCardIcon icon={faShoppingCart} />\r\n      {children}\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction ArrowBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faArrowRight} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction LoginBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faSignInAlt} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction LogoutBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faSignOutAlt} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction EditBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faEdit} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction SaveBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n      <GeneralIcon icon={faSave} />\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nfunction GeneralBtn({ id, color, children, buttonStyle, onClick }) {\r\n  return (\r\n    <ButtonStyle id={id} color={color} style={buttonStyle} onClick={onClick}>\r\n      {children}\r\n    </ButtonStyle>\r\n  )\r\n}\r\n\r\nexport {\r\n  ShoppingCarBtn,\r\n  EditBtn,\r\n  GeneralBtn,\r\n  ShoppingCarWhiteBtn,\r\n  LoginBtn,\r\n  LogoutBtn,\r\n  ArrowBtn,\r\n  SaveBtn\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\n\r\nexport const HoverArea = styled.div`\r\n  position: fixed;\r\n  height: 100vh;\r\n  width: 100%;\r\n  transition: linear 0.3s;\r\n  top: ${({ $isOpen }) => ($isOpen ? '50px' : '-100vh')};\r\n  background: ${COLOR.light};\r\n  z-index: 1;\r\n  ${MEDIA_QUERY.desktop} {\r\n    transition: ease 0.2s;\r\n    height: ${({ $isOpen }) => ($isOpen ? 'unset' : '0px')};\r\n    width: ${({ $isOpen }) => ($isOpen ? '380px' : 'unset')};\r\n    top: 40px;\r\n    right: 110px;\r\n    background: transparent;\r\n  }\r\n`\r\nexport const MenuContainer = styled.div`\r\n  width: 84%;\r\n  margin: 30px auto;\r\n  position: relative;\r\n  button {\r\n    width: 100%;\r\n    height: 35px;\r\n    background: ${COLOR.primary_light};\r\n    color: #fff;\r\n    border-radius: 3px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: unset;\r\n    display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n    outline: 1px solid\r\n      ${({ $isOpen }) => ($isOpen ? COLOR.primary_light : 'transparent')};\r\n    height: ${({ $isOpen }) => ($isOpen ? '100%' : '0px')};\r\n    padding: ${({ $isOpen }) => ($isOpen ? '16px' : '0px')};\r\n    background: ${COLOR.light};\r\n    position: relative;\r\n    bottom: 0;\r\n    margin: ${({ $isOpen }) => ($isOpen ? '10px 0 0 0;' : '0px')};\r\n  }\r\n`\r\nconst Triangle = styled.div`\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: ${({ $isOpen }) => ($isOpen ? 1 : 0)};\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 15px solid transparent;\r\n    border-right: 15px solid transparent;\r\n    border-bottom: 15px solid ${COLOR.primary_light};\r\n    position: absolute;\r\n    top: -15px;\r\n    right: 32px;\r\n\r\n    p {\r\n      width: 0;\r\n      height: 0;\r\n      border-left: 14px solid transparent;\r\n      border-right: 14px solid transparent;\r\n      border-bottom: 14px solid ${COLOR.light};\r\n      position: absolute;\r\n      right: -14px;\r\n      top: 1px;\r\n    }\r\n  }\r\n`\r\nexport const Title = styled.div`\r\n  text-align: center;\r\n  font-size: ${FONT_SIZE.md};\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n`\r\nexport const AccountTitle = styled(Link)`\r\n  font-size: ${FONT_SIZE.sm};\r\n  text-decoration: none;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-size: ${FONT_SIZE.md};\r\n  padding: 20px;\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 12%;\r\n  & + & {\r\n    border-top: 2px solid ${COLOR.border_grey};\r\n  }\r\n\r\n  &:hover {\r\n    color: ${COLOR.text_primary_dark};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 10px;\r\n  }\r\n`\r\nexport function CSSTriangle({ $isOpen }) {\r\n  return (\r\n    <Triangle $isOpen={$isOpen}>\r\n      <p></p>\r\n    </Triangle>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport { LocalStorageContext } from '../../context'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport CartItem from './CartItem'\r\nimport { ShoppingCarBtn } from '../Button'\r\nimport {\r\n  HoverArea,\r\n  MenuContainer,\r\n  CSSTriangle,\r\n  Title\r\n} from '../navbar/MenuStyles'\r\nimport { formatPrice } from '../../utils'\r\n\r\nconst RestyledHoverArea = styled(HoverArea)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    right: 60px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 16vw;\r\n  }\r\n`\r\nconst ItemsContainer = styled.div`\r\n  max-height: ${({ $isOpen }) => ($isOpen ? '70vh' : '0px')};\r\n  overflow: scroll;\r\n  &::-webkit-scrollbar {\r\n    width: 3px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 4px;\r\n    border-radius: 4px;\r\n    background: rgb(219, 219, 219);\r\n  }\r\n  padding: 0 10px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    max-height: ${({ $isOpen }) => ($isOpen ? '60vh' : '0px')};\r\n  }\r\n`\r\nconst CartInfo = styled.div`\r\n  margin: 0px 10px 10px 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n  font-size: ${FONT_SIZE.sm};\r\n  font-weight: bold;\r\n  letter-spacing: 1px;\r\n  p {\r\n    margin: 0;\r\n    margin-top: 4px;\r\n    padding: 0;\r\n    text-align: right;\r\n  }\r\n`\r\nconst BtnWrapper = styled(Link)`\r\n  ${MEDIA_QUERY.tablet} {\r\n    position: absolute;\r\n    right: 0;\r\n    width: 250px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 10px 0px;\r\n  }\r\n`\r\nconst EmptyCart = styled.div`\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: ;\r\n`\r\n\r\nexport default function CartMenu({ handleHover, $isOpen }) {\r\n  const { cartItems, totalItems, totalPrice } = useContext(LocalStorageContext)\r\n\r\n  return (\r\n    <RestyledHoverArea\r\n      onMouseEnter={() => {\r\n        handleHover('cart')\r\n      }}\r\n      onMouseLeave={() => {\r\n        handleHover('')\r\n      }}\r\n      $isOpen={$isOpen}\r\n    >\r\n      <MenuContainer $isOpen={$isOpen}>\r\n        <CSSTriangle $isOpen={$isOpen} />\r\n\r\n        {!totalItems && (\r\n          <>\r\n            <EmptyCart>您的購物車是空的</EmptyCart>\r\n          </>\r\n        )}\r\n        {totalItems ? (\r\n          <>\r\n            <Title>購物車</Title>\r\n            <ItemsContainer $isOpen={$isOpen}>\r\n              {cartItems.map((item) => {\r\n                return (\r\n                  <CartItem\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    name={item.name}\r\n                    img={item.img}\r\n                    price={item.discountPrice}\r\n                    quantity={item.quantity}\r\n                  />\r\n                )\r\n              })}\r\n            </ItemsContainer>\r\n            <CartInfo>\r\n              <div>共有 {totalItems} 件商品</div>\r\n              <div>\r\n                <p>運費 {formatPrice(80)}</p>\r\n                <p>總金額 {formatPrice(totalPrice)}</p>\r\n              </div>\r\n            </CartInfo>\r\n\r\n            <BtnWrapper to='/checkout/step1'>\r\n              <ShoppingCarBtn color={'primary'}>訂單結帳</ShoppingCarBtn>\r\n            </BtnWrapper>\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </MenuContainer>\r\n    </RestyledHoverArea>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  HoverArea,\r\n  MenuContainer,\r\n  CSSTriangle,\r\n  AccountTitle\r\n} from './MenuStyles'\r\nimport { MEDIA_QUERY } from '../../constants/style'\r\nimport { UserContext } from '../../context'\r\nconst RestyledHoverArea = styled(HoverArea)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    right: 110px;\r\n    width: 180px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 18vw;\r\n  }\r\n`\r\nconst RestyledMenuContainer = styled(MenuContainer)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 5px 16px;\r\n  }\r\n`\r\nexport default function AccountMenu({ handleHover, $isOpen, $setMenu }) {\r\n  const { user, setUser } = useContext(UserContext)\r\n  return (\r\n    <RestyledHoverArea\r\n      onMouseOver={() => {\r\n        handleHover('account')\r\n      }}\r\n      onMouseOut={() => {\r\n        handleHover('')\r\n      }}\r\n      $isOpen={$isOpen}\r\n    >\r\n      <RestyledMenuContainer $isOpen={$isOpen}>\r\n        <CSSTriangle $isOpen={$isOpen} />\r\n\r\n        {user ? (\r\n          <>\r\n            <AccountTitle to='/member/me'>會員專區</AccountTitle>\r\n            <AccountTitle\r\n              to=''\r\n              onClick={() => {\r\n                localStorage.removeItem('token')\r\n                setUser(null)\r\n                $setMenu('')\r\n              }}\r\n            >\r\n              登出\r\n            </AccountTitle>\r\n          </>\r\n        ) : (\r\n          <AccountTitle to='/login'>登入/註冊</AccountTitle>\r\n        )}\r\n      </RestyledMenuContainer>\r\n    </RestyledHoverArea>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { HoverArea, MenuContainer, CSSTriangle, Title } from './MenuStyles'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst RestyledHoverArea = styled(HoverArea)`\r\n  ${MEDIA_QUERY.desktop} {\r\n    right: 160px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 20vw;\r\n  }\r\n`\r\nconst SearchTitle = styled(Title)`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n`\r\nconst SearchMenuContainer = styled(MenuContainer)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\nconst SearchInput = styled.input`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'inline-block' : 'none')};\r\n  width: 100%;\r\n  padding: 9px 21px;\r\n  border: 1px solid ${COLOR.border_grey};\r\n  color: ${COLOR.text_dark};\r\n  border-radius: 30px;\r\n  background: ${COLOR.light};\r\n  font-size: ${FONT_SIZE.sm};\r\n  line-height: ${FONT_SIZE.sm};\r\n  height: 34px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid ${COLOR.border_grey};\r\n  }\r\n}\r\n`\r\nconst SearchButton = styled(FontAwesomeIcon)`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n  margin-left: 8px;\r\n  cursor: pointer;\r\n  color: ${COLOR.grey};\r\n`\r\nconst SearchDiv = styled.div`\r\n  display: ${({ $isOpen }) => ($isOpen ? 'inline-block' : 'none')};\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 80%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n  }\r\n`\r\nconst keywordsSearch = (history, setInputValue, keyword) => {\r\n  history.push(`/search/?search=${keyword}&p=1`)\r\n  setInputValue((inputValue) => '')\r\n}\r\n\r\nexport default function SearchMenu({ handleHover, $isOpen }) {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const keyword = inputValue.trim('').replace(/ /g, '%2B')\r\n  const history = useHistory()\r\n  const handleOnChange = useCallback((e) => {\r\n    setInputValue(e.target.value)\r\n  }, [])\r\n\r\n  const handleOnClick = useCallback(() => {\r\n    keywordsSearch(history, setInputValue, keyword)\r\n  }, [history, keyword])\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e) => {\r\n      if (e.keyCode !== 13) return\r\n      keywordsSearch(history, setInputValue, keyword)\r\n    },\r\n    [history, keyword]\r\n  )\r\n\r\n  return (\r\n    <RestyledHoverArea\r\n      onMouseOver={() => {\r\n        handleHover('search')\r\n      }}\r\n      onMouseOut={() => {\r\n        handleHover('')\r\n      }}\r\n      $isOpen={$isOpen}\r\n    >\r\n      <SearchMenuContainer $isOpen={$isOpen}>\r\n        <CSSTriangle $isOpen={$isOpen} />\r\n        <SearchTitle $isOpen={$isOpen}>找商品</SearchTitle>\r\n        <SearchDiv $isOpen={$isOpen}>\r\n          <SearchInput\r\n            $isOpen={$isOpen}\r\n            placeholder='搜尋關鍵字'\r\n            type='text'\r\n            name='search'\r\n            value={inputValue}\r\n            onChange={handleOnChange}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n          <SearchButton\r\n            $isOpen={$isOpen}\r\n            onClick={handleOnClick}\r\n            icon={faSearch}\r\n          />\r\n        </SearchDiv>\r\n      </SearchMenuContainer>\r\n    </RestyledHoverArea>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport {\r\n  COLOR,\r\n  FONT,\r\n  FONT_SIZE,\r\n  EFFECT,\r\n  MEDIA_QUERY\r\n} from '../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst DesktopBar = styled.div`\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: fixed;\r\n    width: 100%;\r\n    display: static;\r\n    height: 40px;\r\n    background: ${COLOR.primary_light};\r\n    z-index: 1;\r\n  }\r\n`\r\nconst DesktopContainer = styled.div`\r\n  ${MEDIA_QUERY.desktop} {\r\n    background: ${COLOR.light};\r\n    position: fixed;\r\n    top: 40px;\r\n    width: 100%;\r\n    height: 90px;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    box-shadow: ${EFFECT.shadow_dark};\r\n    z-index: 2;\r\n  }\r\n`\r\nconst Nav = styled.nav`\r\n  background: ${COLOR.primary_light};\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: static;\r\n    width: unset;\r\n    background: transparent;\r\n    font-family: ${FONT.logo};\r\n    top: 30px;\r\n    height: 90px;\r\n    box-shadow: none;\r\n  }\r\n`\r\nconst LeftIcons = styled.div`\r\n  position: absolute;\r\n  top: 13px;\r\n  left: 2vw;\r\n  display: flex;\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: static;\r\n    top: 0;\r\n    width: 0;\r\n    margin: 0;\r\n  }\r\n`\r\nconst RightIcons = styled.div`\r\n  position: absolute;\r\n  top: 13px;\r\n  right: 2vw;\r\n  display: flex;\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: static;\r\n    top: 0;\r\n    width: 0;\r\n    margin: 0;\r\n  }\r\n`\r\nconst LOGO = styled(Link)`\r\n  text-decoration: none;\r\n  color: ${COLOR.text_dark};\r\n  font-size: ${FONT_SIZE.xl};\r\n  font-family: ${FONT.logo};\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n    position: relative;\r\n  }\r\n`\r\nconst BurgerBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  display: ${({ $shouldHide }) => ($shouldHide ? 'none' : 'inline-block')};\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 5px;\r\n    position: absolute;\r\n    display: none;\r\n  }\r\n`\r\nconst CloseBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n\r\n  display: ${({ $isClicked }) => ($isClicked ? 'inline-block' : 'none')};\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 5px;\r\n    position: absolute;\r\n    display: none;\r\n  }\r\n`\r\nconst SearchBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  opacity: ${({ $shouldHide }) => ($shouldHide ? 0 : 1)};\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: 1;\r\n    margin-right: 30px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    top: -37px;\r\n    right: 160px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 20vw;\r\n  }\r\n`\r\nconst AccountBTN = styled.div`\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  opacity: ${({ $shouldHide }) => ($shouldHide ? 0 : 1)};\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: 1;\r\n    margin-right: 30px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    top: -37px;\r\n    right: 110px;\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 18vw;\r\n  }\r\n`\r\nconst CartBTN = styled.div`\r\n  position: relative;\r\n  cursor: pointer;\r\n  margin: 0 2vw;\r\n  opacity: ${({ $shouldHide }) => ($shouldHide ? 0 : 1)};\r\n  span {\r\n    position: absolute;\r\n    top: -6px;\r\n    right: -10px;\r\n    display: inline-block;\r\n    width: 20px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    background: #8a3f1a;\r\n    background: ${COLOR.warning_hover};\r\n    color: ${COLOR.text_light};\r\n    font-size: ${FONT_SIZE.xs};\r\n    line-height: 20px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    opacity: 1;\r\n    margin-right: 30px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    top: -37px;\r\n    right: 60px;\r\n    span {\r\n      font-size: ${FONT_SIZE.sm};\r\n      line-height: 18px;\r\n      top: 0px;\r\n      right: -8px;\r\n    }\r\n  }\r\n  ${MEDIA_QUERY.widescreen} {\r\n    right: 16vw;\r\n  }\r\n`\r\n\r\nexport {\r\n  DesktopBar,\r\n  DesktopContainer,\r\n  Nav,\r\n  LeftIcons,\r\n  RightIcons,\r\n  LOGO,\r\n  BurgerBTN,\r\n  CloseBTN,\r\n  SearchBTN,\r\n  AccountBTN,\r\n  CartBTN\r\n}\r\n","import { useEffect, useState, useContext } from 'react'\r\nimport { LocalStorageContext } from '../../context'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport CategoryMenu from './CategoryMenu'\r\nimport CartMenu from '../cartSystem/CartMenu'\r\nimport AccountMenu from './AccountMenu'\r\nimport SearchMenu from './SearchMenu'\r\nimport {\r\n  DesktopBar,\r\n  DesktopContainer,\r\n  Nav,\r\n  LeftIcons,\r\n  RightIcons,\r\n  LOGO,\r\n  BurgerBTN,\r\n  CloseBTN,\r\n  SearchBTN,\r\n  AccountBTN,\r\n  CartBTN\r\n} from './NavbarStyled'\r\n\r\nexport default function Navbar() {\r\n  const [menu, setMenu] = useState('')\r\n  const { totalItems } = useContext(LocalStorageContext)\r\n  const handleHover = (name) => {\r\n    if (window.innerWidth < 1200) return\r\n    setMenu(name)\r\n  }\r\n  const { pathname } = useLocation()\r\n  useEffect(() => {\r\n    setMenu('')\r\n  }, [pathname, setMenu])\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth > 1200) return\r\n    if (menu) return (document.body.style.overflowY = 'hidden')\r\n    if (!menu) return (document.body.style.overflowY = 'scroll')\r\n  }, [menu])\r\n\r\n  return (\r\n    <>\r\n      <DesktopBar />\r\n      <DesktopContainer>\r\n        <Nav>\r\n          <LeftIcons>\r\n            <BurgerBTN\r\n              onClick={() => {\r\n                setMenu('category')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faBars} />\r\n            </BurgerBTN>\r\n            <CloseBTN\r\n              onClick={() => {\r\n                setMenu('')\r\n              }}\r\n              $isClicked={menu !== '' ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faTimes} />\r\n            </CloseBTN>\r\n            <SearchBTN\r\n              onClick={() => {\r\n                setMenu('search')\r\n              }}\r\n              onMouseOver={() => {\r\n                handleHover('search')\r\n              }}\r\n              onMouseOut={() => {\r\n                handleHover('')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </SearchBTN>\r\n          </LeftIcons>\r\n          <LOGO to='/'>DAYEAYEAYEA</LOGO>\r\n          <RightIcons>\r\n            <AccountBTN\r\n              onClick={() => {\r\n                setMenu('account')\r\n              }}\r\n              onMouseOver={() => {\r\n                handleHover('account')\r\n              }}\r\n              onMouseOut={() => {\r\n                handleHover('')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faUserCircle} />\r\n            </AccountBTN>\r\n            <CartBTN\r\n              onClick={() => {\r\n                setMenu('cart')\r\n              }}\r\n              onMouseEnter={() => {\r\n                handleHover('cart')\r\n              }}\r\n              onMouseLeave={() => {\r\n                handleHover('')\r\n              }}\r\n              $shouldHide={menu ? true : false}\r\n            >\r\n              <FontAwesomeIcon icon={faShoppingCart} />\r\n              {totalItems ? <span>{totalItems}</span> : null}\r\n            </CartBTN>\r\n          </RightIcons>\r\n        </Nav>\r\n        <CategoryMenu $isOpen={menu === 'category' ? true : false} />\r\n        <CartMenu\r\n          handleHover={handleHover}\r\n          $isOpen={menu === 'cart' ? true : false}\r\n          $menu={menu}\r\n        />\r\n        <AccountMenu\r\n          handleHover={handleHover}\r\n          $isOpen={menu === 'account' ? true : false}\r\n          $menu={menu}\r\n          $setMenu={setMenu}\r\n        />\r\n        <SearchMenu\r\n          handleHover={handleHover}\r\n          $isOpen={menu === 'search' ? true : false}\r\n          $menu={menu}\r\n        />\r\n      </DesktopContainer>\r\n    </>\r\n  )\r\n}\r\n","import styled from \"styled-components\";\r\nimport { COLOR, FONT, FONT_SIZE, MEDIA_QUERY } from \"../constants/style\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FooterContainer = styled.div`\r\n  width: 100%;\r\n  font-family: ${FONT.logo};\r\n  background: ${COLOR.primary_dark};\r\n  color: ${COLOR.text_light};\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  padding-top: 20px;\r\n  padding-bottom: 80px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n`;\r\nconst ColumnContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 10px;\r\n    width: unset;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 10px;\r\n    width: unset;\r\n  }\r\n`;\r\nconst Column = styled.div`\r\n  padding: 10px;\r\n  width: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 160px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 200px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`;\r\nconst ColumnTitle = styled.div`\r\n  width: 80%;\r\n  white-space:nowrap;\r\n  text-align: center;\r\n  padding: 8px 0;\r\n  margin-bottom: 8px;\r\n  border-bottom: 1px solid ${COLOR.text_light};\r\n  color: ${COLOR.text_light};\\\r\n`;\r\nconst PageLink = styled(Link)`\r\n  text-decoration: none;\r\n  color: ${COLOR.text_light};\r\n  padding: 2px 0;\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n`;\r\nconst ColumnDesc = styled.div`\r\n  text-align: center;\r\n  color: ${COLOR.text_light};\r\n  padding: 2px 0;\r\n  p {\r\n    margin: 2px;\r\n    color: ${COLOR.text_light};\r\n    font-size: ${FONT_SIZE.xs};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.sm};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.sm};\r\n    }\r\n  }\r\n`;\r\nconst Copyright = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  color: ${COLOR.text_light};\r\n  text-align: center;\r\n  font-size: ${FONT_SIZE.sm};\r\n  padding: 20px 0;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`;\r\nexport default function Footer() {\r\n  return (\r\n    <FooterContainer>\r\n      <ColumnContainer>\r\n        <Column>\r\n          <ColumnTitle>INFORMATION</ColumnTitle>\r\n          <PageLink to=\"/info/notice\">購物需知</PageLink>\r\n          <PageLink to=\"/info/FAQ\">常見問題</PageLink>\r\n          <PageLink to=\"/info/privacy\">隱私權條款</PageLink>\r\n        </Column>\r\n        <Column>\r\n          <ColumnTitle>ABOUT US</ColumnTitle>\r\n          <PageLink to=\"/info/brand\">品牌理念</PageLink>\r\n          <PageLink to=\"/info/join\">加入我們</PageLink>\r\n        </Column>\r\n      </ColumnContainer>\r\n      <ColumnContainer>\r\n        <Column>\r\n          <ColumnTitle>STORE LOCATION</ColumnTitle>\r\n          <ColumnDesc>\r\n            門市資訊<p>台北市大安區師大路 88 號</p>\r\n          </ColumnDesc>\r\n        </Column>\r\n        <Column>\r\n          <ColumnTitle>CONTACT</ColumnTitle>\r\n          <ColumnDesc>\r\n            客服專線<p>02-2829-3031</p>\r\n          </ColumnDesc>\r\n          <ColumnDesc>\r\n            客服信箱<p>dayeayeayea@gmail.com</p>\r\n          </ColumnDesc>\r\n        </Column>\r\n      </ColumnContainer>\r\n      <Copyright>© 2021 DAYEAYEAYEA - All Rights Reserved.</Copyright>\r\n    </FooterContainer>\r\n  );\r\n}\r\n","const BASE_URL = 'https://api.coolizz.tw'\r\n\r\nexport const getAllArticles = async () => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/articles`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getArticlesById = async (id) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/articles/${id}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","const BASE_URL = 'https://api.coolizz.tw'\r\n\r\nexport const getAllProducts = async () => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getCategoryProducts = async (category) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/category/${category}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getAllProductsByPage = async (page) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/page/${page}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getCategoryProductsByPage = async (category, page) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/category/${category}/${page}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getProductById = async (id) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getProductByArticle = async (articleSort, page) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/article/${articleSort}/${page}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getProductByKeywords = async (keywords) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${keywords}`)\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\nimport { css } from '@emotion/react'\r\nimport ClockLoader from 'react-spinners/ClockLoader'\r\nimport { COLOR } from '../constants/style'\r\n\r\nconst FixedBackground = styled.div`\r\n  position: fixed;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst IsLoadingStyle = styled.div`\r\n  margin: 0 auto;\r\n  position: fixed;\r\n  z-index: 4;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`\r\n\r\nexport function IsLoadingComponent() {\r\n  return (\r\n    <FixedBackground>\r\n      <IsLoadingStyle>\r\n        <ClockLoader\r\n          color={COLOR.primary_dark}\r\n          css={override}\r\n          size='150px'\r\n          speedMultiplier='2'\r\n        />\r\n      </IsLoadingStyle>\r\n    </FixedBackground>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nconst useMediaQuery = (query) => {\r\n  const [mediaMatch, setMediaMatch] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const media = window.matchMedia(query)\r\n    if (media.matches !== mediaMatch) {\r\n      setMediaMatch(media.matches)\r\n    }\r\n    const mediaListener = () => setMediaMatch(media.matches)\r\n    window.addEventListener('resize', mediaListener)\r\n    return () => window.removeEventListener('resize', mediaListener)\r\n  }, [mediaMatch, query])\r\n\r\n  return mediaMatch\r\n}\r\n\r\nexport default useMediaQuery\r\n","import styled from 'styled-components'\r\nimport { useMemo, useContext, useState } from 'react'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { ShoppingCarBtn, ShoppingCarWhiteBtn, GeneralBtn } from '../Button'\r\nimport { ModalContext, LocalStorageContext } from '../../context'\r\nimport { formatPrice, getItemsFromLocalStorage } from '../../utils'\r\nimport { useEffect } from 'react'\r\n\r\nconst CardContainerDiv = styled.div`\r\n  margin: 8px 4px;\r\n  width: 44%;\r\n  height: 275px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  position: relative;\r\n  ${(props) =>\r\n    props.status === 'off' &&\r\n    `\r\n    opacity: 0.5;\r\n  `}\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin: 8px 4px;\r\n    width: 44%;\r\n    height: 420px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 15px 4px;\r\n    width: 21%;\r\n    height: 390px;\r\n  }\r\n`\r\n\r\nconst CardLink = styled(Link)`\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 90%;\r\n    margin-bottom: 10px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 90%;\r\n    margin-bottom: 10px;\r\n  }\r\n`\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n`\r\n\r\nconst ImgContainer = styled.div`\r\n  width: 100%;\r\n  height: 65%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  position: relative;\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 70%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 60%;\r\n  }\r\n`\r\nconst ProductInfoContainer = styled.div`\r\n  width: 100%;\r\n  height: 35%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 30%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 40%;\r\n  }\r\n`\r\n\r\nconst TitleContainer = styled.div`\r\n  width: 100%;\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.text_primary_dark};\r\n  margin: 3px 0px;\r\n  text-align: left;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n    margin-top: 15px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n    margin-top: 15px;\r\n  }\r\n`\r\n\r\nconst PriceContainer = styled.div`\r\n  width: 100%;\r\n  text-align: left;\r\n  flex-wrap: wrap;\r\n  margin: 3px 0px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin: 5px 0px 15px 0px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 12px 0px 20px 0px;\r\n  }\r\n`\r\n\r\nconst PriceStyle = styled.span`\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.accent};\r\n  font-weight: bold;\r\n  text-align: left;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.discount &&\r\n    `\r\n    font-size: ${FONT_SIZE.xs} !important;\r\n    text-decoration: line-through;\r\n  `}\r\n`\r\nconst SoldOut = styled.div`\r\n  background: ${COLOR.grey};\r\n  color: ${COLOR.text_light};\r\n  font-size: ${FONT_SIZE.sm};\r\n  text-align: center;\r\n  width: 35%;\r\n  height: 16%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n    height: 13%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n    height: 13%;\r\n  }\r\n`\r\n\r\nconst DiscountPriceStyle = styled(PriceStyle)`\r\n  color: ${COLOR.warning};\r\n  margin-left: 6px;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\n\r\nexport function ProductCard({\r\n  id,\r\n  name,\r\n  price,\r\n  imgUrl,\r\n  discountPrice,\r\n  imgs,\r\n  status,\r\n  stockQuantity\r\n}) {\r\n  let hasDiscount = price !== discountPrice ? true : false\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  // eslint-disable-next-line no-unused-vars\r\n  const { setIsModalOpen, setIsProductSoldOut } = useContext(ModalContext)\r\n  const { handleAddCartItem } = useContext(LocalStorageContext)\r\n  const [inStock, setInStock] = useState(0)\r\n  const quantity = 1\r\n\r\n  const productInfo = useMemo(\r\n    () => ({\r\n      name,\r\n      price,\r\n      discountPrice,\r\n      imgs,\r\n      quantity\r\n    }),\r\n    [name, price, discountPrice, imgs]\r\n  )\r\n\r\n  useEffect(() => {\r\n    const cartInLocal = JSON.parse(getItemsFromLocalStorage())\r\n    const isProductInCart =\r\n      (cartInLocal && cartInLocal.filter((item) => item.id === id)) || []\r\n    if (isProductInCart.length === 0) {\r\n      setInStock(stockQuantity)\r\n    } else {\r\n      const surplus = stockQuantity - isProductInCart[0].quantity\r\n      surplus === 0 ? setInStock(0) : setInStock(surplus)\r\n    }\r\n  }, [id, stockQuantity])\r\n\r\n  const handleAddProductInCart = () => {\r\n    console.log(inStock)\r\n    if (inStock > 0) {\r\n      setInStock(inStock - 1)\r\n      handleAddCartItem(id, productInfo)\r\n      setIsProductSoldOut((isProductSoldOut) => true)\r\n      return setIsModalOpen(true)\r\n    }\r\n    if (inStock === 0) {\r\n      setIsProductSoldOut((isProductSoldOut) => false)\r\n      return setIsModalOpen(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CardContainerDiv status={status}>\r\n      <CardLink to={`/products/${id}`}>\r\n        <ImgContainer\r\n          style={{ backgroundImage: `url(${imgUrl})` }}\r\n          status={status}\r\n        >\r\n          {status === 'off' && <SoldOut>售完</SoldOut>}\r\n        </ImgContainer>\r\n        <ProductInfoContainer>\r\n          <TitleContainer>{name}</TitleContainer>\r\n          <PriceContainer>\r\n            <PriceStyle discount={hasDiscount}>{formatPrice(price)}</PriceStyle>\r\n            {hasDiscount && (\r\n              <DiscountPriceStyle>\r\n                {formatPrice(discountPrice)}\r\n              </DiscountPriceStyle>\r\n            )}\r\n          </PriceContainer>\r\n        </ProductInfoContainer>\r\n      </CardLink>\r\n      {status === 'on' && (\r\n        <ButtonContainer>\r\n          {isDesktop ? (\r\n            <ShoppingCarBtn color='primary' onClick={handleAddProductInCart} />\r\n          ) : (\r\n            <ShoppingCarWhiteBtn onClick={handleAddProductInCart} />\r\n          )}\r\n        </ButtonContainer>\r\n      )}\r\n      {status === 'off' && (\r\n        <ButtonContainer>\r\n          <GeneralBtn>售完</GeneralBtn>\r\n        </ButtonContainer>\r\n      )}\r\n    </CardContainerDiv>\r\n  )\r\n}\r\n\r\nexport function WhiteCard() {\r\n  return <CardContainerDiv></CardContainerDiv>\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst FixedBackground = styled.div`\r\n  position: fixed;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst ModalContent = styled.div`\r\n  background: ${COLOR.light};\r\n  font-size: ${FONT_SIZE.lg};\r\n  color: ${COLOR.text_dark};\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  height: 220px;\r\n  width: 315px;\r\n  margin: 0px auto;\r\n  padding: 20px;\r\n  z-index: 4;\r\n  border-radius: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 260px;\r\n    width: 420px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 260px;\r\n    width: 420px;\r\n  }\r\n`\r\n\r\nconst ModalIconDiv = styled.div`\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst ModalBtnDiv = styled.div`\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n`\r\n\r\nconst ModalContentDiv = styled.div`\r\n  word-wrap: break-word;\r\n  text-align: center;\r\n`\r\n\r\nconst CancelRoundedColorIcon = styled(FontAwesomeIcon)`\r\n  position: absolute;\r\n  top: 12px;\r\n  left: 15px;\r\n  color: ${COLOR.grey};\r\n  font-size: 26px;\r\n  cursor: pointer;\r\n`\r\n\r\nfunction CloseButton({ onClick }) {\r\n  return <CancelRoundedColorIcon icon={faTimesCircle} onClick={onClick} />\r\n}\r\n\r\nfunction ModalIcon({ icon }) {\r\n  return <ModalIconDiv>{icon}</ModalIconDiv>\r\n}\r\n\r\nfunction ModalButton({ buttonOne, buttonTwo }) {\r\n  return (\r\n    <ModalBtnDiv>\r\n      {buttonOne}\r\n      {buttonTwo}\r\n    </ModalBtnDiv>\r\n  )\r\n}\r\n\r\nfunction GeneralModal({ icon, content, buttonOne, buttonTwo, open, onClose }) {\r\n  if (!open) return null\r\n  return (\r\n    <ModalContent>\r\n      <CloseButton onClick={onClose} />\r\n      <ModalIcon icon={icon} />\r\n      <ModalContentDiv>{content}</ModalContentDiv>\r\n      <ModalButton buttonOne={buttonOne} buttonTwo={buttonTwo}></ModalButton>\r\n    </ModalContent>\r\n  )\r\n}\r\n\r\nfunction FullModal({ icon, content, buttonOne, buttonTwo, open, onClose }) {\r\n  if (!open) return null\r\n  return (\r\n    <div>\r\n      <FixedBackground onClick={onClose} />\r\n      <ModalContent>\r\n        <CloseButton onClick={onClose} />\r\n        <ModalIcon icon={icon} />\r\n        <ModalContentDiv>{content}</ModalContentDiv>\r\n        <ModalButton buttonOne={buttonOne} buttonTwo={buttonTwo}></ModalButton>\r\n      </ModalContent>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { FullModal, GeneralModal }\r\n","import { FullModal } from '../../components/Modal'\r\n\r\nexport function AddCartModal({ isModalOpen, handleModalClose }) {\r\n  return (\r\n    <FullModal\r\n      open={isModalOpen}\r\n      content='已成功加入購物車 ! '\r\n      onClose={handleModalClose}\r\n    />\r\n  )\r\n}\r\n\r\nexport function SoldOutCartModal({ isModalOpen, handleModalClose }) {\r\n  return (\r\n    <FullModal\r\n      open={isModalOpen}\r\n      content='已購買到達庫存上限'\r\n      onClose={handleModalClose}\r\n    />\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE } from '../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst PaginatorButtonStyle = styled(Link)`\r\n  background: transport;\r\n  color: ${COLOR.text_primary_light};\r\n  margin: 0px 4px;\r\n  padding: 0px 4px;\r\n  font-size: ${FONT_SIZE.md};\r\n\r\n  &:hover {\r\n    color: ${COLOR.text_primary_dark};\r\n    border-bottom: 1px solid ${COLOR.border_primary};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n  font-weight: bold;\r\n  border-bottom: 1px solid ${COLOR.text_primary_dark};\r\n  `}\r\n`\r\n\r\nexport function PaginatorButton({ to, page, active }) {\r\n  return (\r\n    <PaginatorButtonStyle key={page} to={to} $active={active}>\r\n      {page}\r\n    </PaginatorButtonStyle>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect, useContext, useCallback } from 'react'\r\nimport { useParams, useHistory, useLocation } from 'react-router-dom'\r\nimport { getArticlesById } from '../../webAPI/articlesAPI'\r\nimport { getProductByArticle } from '../../webAPI/productsAPI'\r\nimport { LoadingContext, ModalContext } from '../../context'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nimport {\r\n  ProductCard,\r\n  WhiteCard\r\n} from '../../components/productSystem/ProductCard'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { PageWidth, FullWidth } from '../../components/general'\r\nimport {\r\n  AddCartModal,\r\n  SoldOutCartModal\r\n} from '../../components/productSystem/ProductModal'\r\nimport { PaginatorButton } from '../../components/Paginator'\r\nimport { setNumInArray, countWhiteCardAmount } from '../../utils'\r\n\r\nconst ArticleImgContainer = styled.div`\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  height: 200px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 360px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 440px;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 15px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 20px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 30px;\r\n  }\r\n`\r\n\r\nconst TitleBorder = styled.div`\r\n  margin-top: 8px;\r\n  width: 25%;\r\n  border-bottom: 3px solid ${COLOR.primary_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 10%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 5%;\r\n  }\r\n`\r\nconst ContentDiv = styled.div`\r\n  margin: 40px auto;\r\n  width: 70%;\r\n  text-align: left;\r\n  white-space: pre-wrap;\r\n  line-height: 2em;\r\n`\r\n\r\nconst ProductCardsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 40px 0px;\r\n  flex-wrap: wrap;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto 40px auto;\r\n`\r\n\r\nexport default function Articles() {\r\n  const { id, page } = useParams()\r\n  const pathname = useLocation().pathname\r\n  const [articleData, setArticleData] = useState([])\r\n  const [articleProducts, setArticleProducts] = useState([])\r\n  const [totalPage, setTotalPage] = useState([])\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const { isModalOpen, handleModalClose, isProductSoldOut } =\r\n    useContext(ModalContext)\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  let history = useHistory()\r\n  let articleSort\r\n  if (id) {\r\n    if (id === '1') {\r\n      articleSort = 'fragrance'\r\n    } else {\r\n      articleSort = id === '2' ? 'dining' : 'camping'\r\n    }\r\n  }\r\n\r\n  const PageIsFound = useCallback(\r\n    (result) => {\r\n      let isFound = false\r\n      if (result === 0) {\r\n        history.push('/404')\r\n        return setIsLoading(false)\r\n      }\r\n      if (result === 1) isFound = true\r\n      return isFound\r\n    },\r\n    [history, setIsLoading]\r\n  )\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    getArticlesById(parseInt(id)).then((result) => {\r\n      if (!result) return\r\n      const isResultOk = PageIsFound(result.ok)\r\n      if (isResultOk) {\r\n        getProductByArticle(articleSort, parseInt(page)).then((result) => {\r\n          const isResultOk = PageIsFound(result.ok)\r\n          if (isResultOk) {\r\n            setArticleProducts(result.data)\r\n            setTotalPage((totalPage) => setNumInArray(result.totalPage))\r\n          }\r\n        })\r\n        setArticleData((articleData) => result.data)\r\n        setIsLoading(false)\r\n      }\r\n    })\r\n  }, [setIsLoading, id, page, articleSort, history, PageIsFound])\r\n\r\n  const { imgUrl, title, content } = articleData\r\n  const whiteCardAmount = countWhiteCardAmount(\r\n    articleProducts.length,\r\n    parseInt(page),\r\n    isDesktop\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <FullWidth>\r\n        <ArticleImgContainer style={{ backgroundImage: `url(${imgUrl})` }} />\r\n      </FullWidth>\r\n      <PageWidth>\r\n        {isLoading && <IsLoadingComponent />}\r\n        {isProductSoldOut && (\r\n          <AddCartModal\r\n            isModalOpen={isModalOpen}\r\n            handleModalClose={handleModalClose}\r\n          />\r\n        )}\r\n        {!isProductSoldOut && (\r\n          <SoldOutCartModal\r\n            isModalOpen={isModalOpen}\r\n            handleModalClose={handleModalClose}\r\n          />\r\n        )}\r\n        <Title>\r\n          {title}\r\n          <TitleBorder />\r\n        </Title>\r\n        <ContentDiv>{content}</ContentDiv>\r\n        <ProductCardsContainer>\r\n          {articleProducts.map(\r\n            ({\r\n              id,\r\n              name,\r\n              price,\r\n              Product_imgs,\r\n              discountPrice,\r\n              status,\r\n              quantity\r\n            }) => {\r\n              const length = Product_imgs.length\r\n              const imgUrl = isMobile\r\n                ? Product_imgs[length - 1].imgUrlSm\r\n                : Product_imgs[length - 1].imgUrlMd\r\n              return (\r\n                <ProductCard\r\n                  id={id}\r\n                  key={id}\r\n                  imgs={Product_imgs}\r\n                  imgUrl={imgUrl}\r\n                  name={name}\r\n                  price={price}\r\n                  discountPrice={discountPrice}\r\n                  status={status}\r\n                  stockQuantity={quantity}\r\n                />\r\n              )\r\n            }\r\n          )}\r\n          {whiteCardAmount.length > 0 &&\r\n            whiteCardAmount.map((amount) => {\r\n              return <WhiteCard key={amount} />\r\n            })}\r\n        </ProductCardsContainer>\r\n        {totalPage.length > 1 && (\r\n          <PaginatorDiv>\r\n            {totalPage.map((singlePage) => {\r\n              const linkDirection = `/articles/${id}/${singlePage}`\r\n              return (\r\n                <PaginatorButton\r\n                  key={singlePage}\r\n                  page={singlePage}\r\n                  to={linkDirection}\r\n                  active={pathname === linkDirection}\r\n                ></PaginatorButton>\r\n              )\r\n            })}\r\n          </PaginatorDiv>\r\n        )}\r\n      </PageWidth>\r\n    </>\r\n  )\r\n}\r\n","import { useLocation, Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\nexport const StepsWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-width: 700px;\r\n  margin: 40px auto;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 70%;\r\n  }\r\n`\r\nexport const Step = styled.div`\r\n  transition: 0.2s;\r\n  color: ${COLOR.text_primary_light};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n  color: ${COLOR.text_warning};\r\n  `}\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n  }\r\n`\r\nexport const StepTitle = styled.div`\r\n  border: 3px solid;\r\n  border-radius: 50%;\r\n  color: inherit;\r\n  height: 40px;\r\n  width: 40px;\r\n  line-height: 35px;\r\n  font-weight: bold;\r\n`\r\nexport const StepContent = styled.div`\r\n  color: inherit;\r\n  font-weight: bold;\r\n  margin: 10px 0px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 0px 10px;\r\n  }\r\n`\r\nexport const Steps = () => {\r\n  const location = useLocation()\r\n  return (\r\n    <StepsWrapper>\r\n      <Step $active={location.pathname.includes('step1')}>\r\n        <StepTitle children={1} />\r\n        <StepContent children={'購物車明細'} />\r\n      </Step>\r\n      <FontAwesomeIcon\r\n        icon={faChevronRight}\r\n        color={`${COLOR.text_primary_light}`}\r\n      />\r\n      <Step $active={location.pathname.includes('step2')}>\r\n        <StepTitle children={2} />\r\n        <StepContent children={'填寫寄送資料'} />\r\n      </Step>\r\n      <FontAwesomeIcon\r\n        icon={faChevronRight}\r\n        color={`${COLOR.text_primary_light}`}\r\n      />\r\n      <Step $active={location.pathname.includes('step3')}>\r\n        <StepTitle children={3} />\r\n        <StepContent children={'訂單完成'} />\r\n      </Step>\r\n    </StepsWrapper>\r\n  )\r\n}\r\nexport const Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin: 20px 0px;\r\n  font-weight: bold;\r\n  text-align: left;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 0px 20px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    padding: 0px 20px;\r\n  }\r\n`\r\nexport const CartTitles = styled.div`\r\n  display: none;\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: flex;\r\n    background: ${COLOR.primary_dark};\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: flex;\r\n    background: ${COLOR.primary_dark};\r\n    justify-content: space-around;\r\n  }\r\n`\r\nexport const TitleWidth = styled.div`\r\n  width: 100px;\r\n`\r\nexport const TitleGroup = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  ${MEDIA_QUERY.tablet} {\r\n    & div:nth-child(3) {\r\n      margin-right: 20px;\r\n    }\r\n    & div:nth-child(2) {\r\n      margin-left: 25px;\r\n    }\r\n  }\r\n`\r\nexport const CartTitle = styled.div`\r\n  color: ${COLOR.text_light};\r\n  font-weight: bold;\r\n  padding: 10px;\r\n`\r\n\r\nexport const Item = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  border-bottom: solid 1px ${COLOR.border_primary};\r\n  padding: 20px 0px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 20px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    padding: 20px;\r\n  }\r\n`\r\nexport const ItemInfo = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: cneter;\r\n  flex-wrap: wrap;\r\n  padding: 0px 10px;\r\n  justify-content: flex-start;\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n  }\r\n`\r\nexport const ItemImg = styled(Link)`\r\n  min-width: 100px;\r\n  height: 100px;\r\n  background: url(${(props) => props.img}) no-repeat center;\r\n  background-size: cover;\r\n`\r\n\r\nexport const ItemName = styled(Link)`\r\n  text-align: left;\r\n  margin-right: 30px;\r\n  color: ${COLOR.text_dark};\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-right: 0px;\r\n    width: 30%;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-right: 0px;\r\n    width: 45%;\r\n  }\r\n`\r\n\r\nexport const ItemContent = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n  width: 100%;\r\n  margin-top: 10px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    margin-top: 0px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    margin-top: 0px;\r\n    margin-right: 10px;\r\n  }\r\n`\r\nexport const ItemPrice = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  &:before {\r\n    content: 'x';\r\n    position: absolute;\r\n    left: -10px;\r\n    top: -2px;\r\n    font-weight: bold;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    &:before {\r\n      content: '';\r\n    }\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    &:before {\r\n      content: '';\r\n    }\r\n  }\r\n`\r\nexport const ItemPriceHidden = styled(ItemPrice)`\r\n  display: none;\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: initial;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: initial;\r\n  }\r\n`\r\nexport const ItemCount = styled.div`\r\n  width: 100%;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-right: 25px;\r\n    width: 250px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-right: 25px;\r\n    width: 250px;\r\n  }\r\n`\r\nexport const ItemCountHidden = styled(ItemCount)`\r\n  display: none;\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: initial;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: initial;\r\n  }\r\n`\r\nexport const ItemCountMobile = styled(ItemCount)`\r\n  display: initial;\r\n  text-align: left;\r\n  ${MEDIA_QUERY.tablet} {\r\n    display: none;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    display: none;\r\n  }\r\n`\r\nexport const ItemDelete = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 20px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 10px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 10px;\r\n  }\r\n`\r\nexport const TotalPrice = styled.div`\r\n  text-align: right;\r\n  padding: 10px;\r\n`\r\nexport const BtnFlex = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 50px;\r\n  & a{\r\n    maxWidth: '200px',\r\n  width: '45%',\r\n  margin: '20px 0px'\r\n  }\r\n`\r\nexport const BtnFlexCenter = styled(BtnFlex)`\r\n  justify-content: center;\r\n  & button {\r\n    max-width: initial;\r\n    width: 100%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    & button {\r\n      max-width: 200px;\r\n      width: 45%;\r\n    }\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    & button {\r\n      max-width: 200px;\r\n      width: 45%;\r\n    }\r\n  }\r\n`\r\nexport const LinkStyle = {\r\n  maxWidth: '200px',\r\n  width: '45%',\r\n  margin: '20px 0px'\r\n}\r\n\r\nexport const FormTitle = styled(Title)`\r\n  padding: 0;\r\n`\r\nexport const FormWrapper = styled.div`\r\n  width: 100%;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  padding: 20px;\r\n  margin: 10px auto;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 20px 50px;\r\n    margin: 20px;\r\n  }\r\n`\r\n\r\nexport const Form = styled.form`\r\n  margin: 30px auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  ${MEDIA_QUERY.desktop} {\r\n    & > div {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-around;\r\n    }\r\n  }\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 20px;\r\n  }\r\n`\r\nexport const InputWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 30px 0px;\r\n  justify-content: flex-start;\r\n`\r\nexport const InputTitle = styled.div``\r\nexport const RadionLabel = styled.span`\r\n  position: relative;\r\n  &:before {\r\n    content: '';\r\n    display: block;\r\n    width: 1em;\r\n    height: 1em;\r\n    border-radius: 50%;\r\n    border: 0.1em solid ${COLOR.warning};\r\n    position: absolute;\r\n    left: -2em;\r\n    top: 0.2em;\r\n  }\r\n`\r\nexport const Input = styled.input`\r\n  display: block;\r\n  border: solid 1px ${COLOR.border_grey};\r\n  padding: 10px;\r\n  flex: 1 1 0;\r\n  border-radius: 3px;\r\n  margin-left: 20px;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${COLOR.border_grey};\r\n  }\r\n  ${(props) =>\r\n    props.type === 'radio' &&\r\n    `\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n    flex: initial;\r\n    margin-right: 20px;\r\n    &:checked + span {\r\n      transform: translateX(2.5px) scale(1.05);\r\n      font-weight: bold;\r\n    }\r\n    &:checked + span:before {\r\n      background: ${COLOR.warning};\r\n      \r\n    }\r\n  `}\r\n`\r\nexport const Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 20px 0;\r\n  cursor: pointer;\r\n`\r\nexport const RadioControl = styled.span`\r\n  display: block;\r\n  width: 1em;\r\n  height: 1em;\r\n  border-radius: 50%;\r\n  border: 0.1em solid ${COLOR.warning};\r\n  transform: translateX(-1em);\r\n`\r\n\r\nexport const ErrorMsg = styled.p`\r\n  margin-top: 10px;\r\n  color: ${COLOR.text_warning};\r\n  font-weight: bold;\r\n  text-align: left;\r\n`\r\nexport const DeliveryData = styled.div`\r\n  text-align: left;\r\n  padding: 10px 20px;\r\n`\r\nexport const WarningMessage = styled.p`\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.warning};\r\n  margin-top: 8px;\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.desktop} {\r\n    position: absolute;\r\n    right: 7%;\r\n    width: 150px;\r\n    top: 65%;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    position: absolute;\r\n    right: 7%;\r\n    width: 150px;\r\n    top: 65%;\r\n  }\r\n`\r\nexport const MsgTitle = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin-top: 30px;\r\n  font-weight: bold;\r\n`\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Counter = styled.div`\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: solid 1.5px;\r\n  padding: 5px;\r\n`\r\nconst Number = styled.input`\r\n  background: transparent;\r\n  text-align: center;\r\n  width: 100%;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  &[type='number'] {\r\n    -moz-appearance: textfield;\r\n  }\r\n`\r\n\r\nexport const ItemCounter = ({\r\n  marginStyle,\r\n  handleCount,\r\n  handleChange,\r\n  handleOnBlur,\r\n  count,\r\n  targetId\r\n}) => {\r\n  const blockInvalidChar = (e) =>\r\n    ['e', 'E', '+', '-'].includes(e.key) && e.preventDefault()\r\n  return (\r\n    <Counter style={marginStyle}>\r\n      <FontAwesomeIcon\r\n        icon={faMinus}\r\n        onClick={() => handleCount('decrement', targetId)}\r\n      />\r\n      <Number\r\n        id={targetId}\r\n        type='number'\r\n        value={count}\r\n        onChange={handleChange}\r\n        onBlur={handleOnBlur}\r\n        onKeyDown={blockInvalidChar}\r\n      />\r\n      <FontAwesomeIcon\r\n        icon={faPlus}\r\n        onClick={() => handleCount('increment', targetId)}\r\n      />\r\n    </Counter>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport {\r\n  Item,\r\n  ItemImg,\r\n  ItemName,\r\n  ItemPrice,\r\n  ItemContent,\r\n  ItemDelete,\r\n  ItemInfo,\r\n  WarningMessage\r\n} from './Step'\r\nimport { ItemCounter } from '../Counter'\r\nimport { getProductById } from '../../webAPI/productsAPI'\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nexport const Cart = ({\r\n  item,\r\n  handleRemoveCartItem,\r\n  handleUpdateCount,\r\n  $setNotAllowed\r\n}) => {\r\n  const [quantity, setQuantity] = useState(item.quantity)\r\n  const [totalQuantity, setTotalQuantity] = useState()\r\n  const [warningMessage, setWarningMessage] = useState('')\r\n  const handleCount = (type) => {\r\n    setWarningMessage('')\r\n    if (quantity === '') return setQuantity(1)\r\n    if (type === 'increment') {\r\n      return quantity >= totalQuantity\r\n        ? setWarningMessage('已達商品數量上限')\r\n        : setQuantity(quantity + 1)\r\n    } else {\r\n      if (quantity <= 1) return setQuantity(1)\r\n      setQuantity(quantity - 1)\r\n    }\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setWarningMessage('')\r\n    if (e.target.value > totalQuantity) {\r\n      setWarningMessage('已達商品數量上限')\r\n      return setQuantity(totalQuantity)\r\n    }\r\n    if (e.target.value === '' || e.target.value === '0') {\r\n      setWarningMessage('請填寫數量')\r\n      return e.target.value === ''\r\n        ? setQuantity('')\r\n        : setQuantity(Number(e.target.value))\r\n    }\r\n    setQuantity(Number(e.target.value))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (item.quantity === '') {\r\n      $setNotAllowed(true)\r\n      setWarningMessage('請填寫數量')\r\n    }\r\n  }, [$setNotAllowed, item.quantity])\r\n\r\n  useEffect(() => {\r\n    warningMessage === '請填寫數量'\r\n      ? $setNotAllowed(true)\r\n      : $setNotAllowed(false)\r\n  }, [$setNotAllowed, quantity, warningMessage])\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      console.log(item.id)\r\n      const result = await getProductById(item.id)\r\n      console.log(result)\r\n      if (!result) return\r\n      return setTotalQuantity(result.data.quantity)\r\n    })()\r\n    handleUpdateCount(quantity, item.id)\r\n  }, [quantity, handleUpdateCount, item.id, totalQuantity])\r\n\r\n  return (\r\n    <Item key={item.id}>\r\n      <ItemImg img={item.img} to={`/products/${item.id}`} />\r\n      <ItemInfo>\r\n        <ItemName children={item.name} to={`/products/${item.id}`} />\r\n        <ItemContent>\r\n          <ItemPrice children={`NT$ ${item.discountPrice}`} />\r\n          <ItemCounter\r\n            marginStyle={{ marginRight: '25px' }}\r\n            handleCount={handleCount}\r\n            handleChange={handleChange}\r\n            count={quantity}\r\n          />\r\n        </ItemContent>\r\n        {warningMessage && <WarningMessage>{warningMessage}</WarningMessage>}\r\n      </ItemInfo>\r\n      <ItemDelete\r\n        icon={faTrashAlt}\r\n        onClick={() => {\r\n          handleRemoveCartItem(item.id)\r\n        }}\r\n      />\r\n    </Item>\r\n  )\r\n}\r\n","import { useCallback, useContext, useEffect, useMemo, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { PageWidth } from '../../../components/general'\r\nimport {\r\n  Title,\r\n  Steps,\r\n  TitleWidth,\r\n  TitleGroup,\r\n  CartTitles,\r\n  CartTitle,\r\n  TotalPrice,\r\n  BtnFlex,\r\n  LinkStyle\r\n} from '../../../components/checkoutSystem/Step'\r\nimport { LocalStorageContext } from '../../../context'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { Cart } from '../../../components/checkoutSystem/step1CartItem'\r\nimport { addItemsToLocalStorage } from '../../../utils'\r\nexport default function Step1() {\r\n  const [notAllowed, setNotAllowed] = useState('')\r\n  const location = useHistory()\r\n  const { cartItems, setCartItems, totalItems, handleRemoveCartItem } =\r\n    useContext(LocalStorageContext)\r\n\r\n  const totalPrice = useMemo(() => {\r\n    if (!cartItems?.length) return\r\n    return cartItems\r\n      .map((item) => item.discountPrice * item.quantity)\r\n      .reduce((total, num) => total + num)\r\n  }, [cartItems])\r\n\r\n  useEffect(() => {\r\n    if (!cartItems || !cartItems.length) location.push('/')\r\n    addItemsToLocalStorage(cartItems)\r\n  }, [cartItems, location])\r\n\r\n  const handleUpdateCount = useCallback(\r\n    (quantity, id) => {\r\n      setCartItems((c) =>\r\n        c.map((item) => {\r\n          if (item.id !== id) return item\r\n          return {\r\n            ...item,\r\n            quantity: quantity\r\n          }\r\n        })\r\n      )\r\n    },\r\n    [setCartItems]\r\n  )\r\n  return (\r\n    <PageWidth>\r\n      {cartItems && (\r\n        <>\r\n          <Steps />\r\n          <Title>{`購物車( ${totalItems} 件)`}</Title>\r\n          <CartTitles>\r\n            <TitleWidth />\r\n            <TitleGroup>\r\n              <CartTitle>購買項目</CartTitle>\r\n              <CartTitle>金額</CartTitle>\r\n              <CartTitle>數量</CartTitle>\r\n            </TitleGroup>\r\n          </CartTitles>\r\n          {cartItems.map((item) => (\r\n            <Cart\r\n              key={item.id}\r\n              item={item}\r\n              handleRemoveCartItem={handleRemoveCartItem}\r\n              handleUpdateCount={handleUpdateCount}\r\n              $setNotAllowed={setNotAllowed}\r\n            />\r\n          ))}\r\n          <TotalPrice>{`小計 NT$${totalPrice}`}</TotalPrice>\r\n          <TotalPrice>運費 NT$80</TotalPrice>\r\n          <TotalPrice>{`總金額 NT$ ${totalPrice + 80}`}</TotalPrice>\r\n          <BtnFlex>\r\n            <Link style={LinkStyle} to='/'>\r\n              <GeneralBtn color='accent' children='繼續購物' />\r\n            </Link>\r\n            {notAllowed ? (\r\n              <Link style={LinkStyle} to='/checkout/step1'>\r\n                <GeneralBtn\r\n                  color='light_grey'\r\n                  buttonStyle={{ cursor: 'not-allowed' }}\r\n                  children='前往結帳'\r\n                />\r\n              </Link>\r\n            ) : (\r\n              <Link style={LinkStyle} to='/checkout/step2'>\r\n                <GeneralBtn color='primary' children='前往結帳' />\r\n              </Link>\r\n            )}\r\n          </BtnFlex>\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY } from '../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\nimport { PageWidth } from '../general'\r\n\r\nconst PageWidthHeight = styled(PageWidth)`\r\n  min-height: 550px;\r\n  height: 100%;\r\n  position: relative;\r\n`\r\nconst AbsoluteCenter = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 90%;\r\n`\r\nconst FormWrapper = styled.div`\r\n  transition: 1.5s;\r\n  max-width: 500px;\r\n  width: 100%;\r\n  margin: 30px auto;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  padding: 30px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    padding: 20px 50px 50px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    padding: 20px 50px 50px;\r\n  }\r\n`\r\nconst Input = styled.input`\r\n  display: block;\r\n  border: solid 1px ${COLOR.border_primary};\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  margin: 30px 0px 10px;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${COLOR.border_primary_dark};\r\n  }\r\n`\r\n\r\nconst ErrorMsg = styled.p`\r\n  margin-top: 10px;\r\n  color: ${COLOR.text_warning};\r\n  font-weight: bold;\r\n  text-align: left;\r\n`\r\nconst SendPassword = styled(Link)`\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  margin-top: 20px;\r\n  display: block;\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n`\r\nconst PasswordInput = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport {\r\n  PageWidthHeight,\r\n  FormWrapper,\r\n  Form,\r\n  Input,\r\n  ErrorMsg,\r\n  SendPassword,\r\n  AbsoluteCenter,\r\n  PasswordInput\r\n}\r\n","import { useState } from 'react'\r\nimport { COLOR } from '../constants/style'\r\nimport styled from 'styled-components'\r\nconst TabWrapper = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n`\r\nconst Tab = styled.div`\r\n  transition: 0.2s ease-out;\r\n  height: 100%;\r\n  width: 100%;\r\n  padding: 10px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  background: ${COLOR.primary_light_tab}66;\r\n  box-shadow: inset 0px -0.5px 0.2px ${COLOR.border_primary_dark}66;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    color: ${COLOR.text_dark};\r\n    background: none;\r\n    box-shadow: none;\r\n  `};\r\n`\r\n// preset 預設顯示 tab\r\nexport const Tabs = ({ tabs, tabsPanel, presetTab }) => {\r\n  const [activeTab, setActiveTab] = useState(presetTab)\r\n  return (\r\n    <>\r\n      <TabWrapper>\r\n        {tabs.map((tab, index) => (\r\n          <Tab\r\n            key={index}\r\n            $active={activeTab === index}\r\n            onClick={() => {\r\n              setActiveTab(index)\r\n            }}\r\n            children={tab}\r\n          />\r\n        ))}\r\n      </TabWrapper>\r\n      {tabsPanel[activeTab]}\r\n    </>\r\n  )\r\n}\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw'\r\nexport const signIn = async (username, password) => {\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members/login`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username,\r\n        password\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n// const XX= await fetch(XXX)\r\n// return XX\r\n\r\nexport const signUp = async (username, email, password) => {\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username,\r\n        email,\r\n        password\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const getMe = async () => {\r\n  const token = getTokenFromLocalStorage()\r\n  try {\r\n    const result = await fetch(`${BASE_URL}/members/me`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useContext } from 'react'\r\nimport {\r\n  Form,\r\n  Input,\r\n  ErrorMsg,\r\n  SendPassword,\r\n  PasswordInput\r\n} from '../../components/loginSystem/loginCard'\r\nimport { LoginBtn } from '../../components/Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport { signIn } from '../../webAPI/loginAPI'\r\nimport { LoadingContext } from '../../context'\r\nexport default function SignInForm({\r\n  tokenCheck,\r\n  $errMessage,\r\n  $setErrMessage\r\n}) {\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit\r\n  } = useForm()\r\n  const onSubmit = async (submitData) => {\r\n    setIsLoading(true)\r\n    const { username, password } = submitData\r\n    const result = await signIn(username, password)\r\n    if (result.ok === 0) {\r\n      setIsLoading(false)\r\n      return $setErrMessage('帳號或密碼不正確')\r\n    }\r\n    $setErrMessage(null)\r\n    tokenCheck(result.token)\r\n  }\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)}>\r\n      <Input\r\n        type='text'\r\n        placeholder='帳號名稱'\r\n        {...register('username', { required: true })}\r\n      />\r\n      <ErrorMsg>\r\n        {errors.username?.type === 'required' && '請填寫名稱'}\r\n      </ErrorMsg>\r\n      <PasswordInput>\r\n        <Input\r\n          type='password'\r\n          placeholder='密碼'\r\n          {...register('password', { required: true })}\r\n        />\r\n      </PasswordInput>\r\n      <ErrorMsg>\r\n        {errors.password?.type === 'required' && '請填寫密碼'}\r\n      </ErrorMsg>\r\n\r\n      <SendPassword to='/'>忘記密碼?</SendPassword>\r\n      <LoginBtn\r\n        color='accent'\r\n        children='登入'\r\n        buttonStyle={{ marginTop: '20px' }}\r\n      />\r\n      {$errMessage && (\r\n        <ErrorMsg style={{ textAlign: 'center' }}>{$errMessage}</ErrorMsg>\r\n      )}\r\n    </Form>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport {\r\n  Form,\r\n  Input,\r\n  ErrorMsg,\r\n  PasswordInput\r\n} from '../../components/loginSystem/loginCard'\r\nimport { ArrowBtn } from '../../components/Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport { signIn, signUp } from '../../webAPI/loginAPI'\r\nimport { LoadingContext } from '../../context'\r\nexport default function SignUpForm({\r\n  tokenCheck,\r\n  $errMessage,\r\n  $setErrMessage\r\n}) {\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit\r\n  } = useForm()\r\n  const onSubmit = (submitData) => {\r\n    setIsLoading(true)\r\n    const { username, email, password } = submitData\r\n    signUp(username, email, password).then((data) => {\r\n      if (data.ok === 0) {\r\n        setIsLoading(false)\r\n        return $setErrMessage('該帳號或信箱已被註冊')\r\n      }\r\n      signIn(username, password).then((data) => {\r\n        if (data.ok === 0) {\r\n          return $setErrMessage(data.message)\r\n        }\r\n        $setErrMessage(null)\r\n        tokenCheck(data.token)\r\n      })\r\n    })\r\n  }\r\n  return (\r\n    <Form onSubmit={handleSubmit(onSubmit)}>\r\n      <Input\r\n        type='text'\r\n        placeholder='帳號名稱'\r\n        {...register('username', { required: true })}\r\n      />\r\n      <ErrorMsg>\r\n        {errors.username?.type === 'required' && '請填寫名稱'}\r\n      </ErrorMsg>\r\n      <Input\r\n        type='email'\r\n        placeholder='電郵'\r\n        {...register('email', { required: true })}\r\n      />\r\n      <ErrorMsg>{errors.email?.type === 'required' && '請填寫電郵'}</ErrorMsg>\r\n      <PasswordInput>\r\n        <Input\r\n          type='password'\r\n          placeholder='密碼，需 6 碼以上的英數混合'\r\n          {...register('password', {\r\n            required: true,\r\n            pattern: /^(?=.*[a-z])(?=.*\\d)[a-z\\d]{6,}$/\r\n          })}\r\n        />\r\n      </PasswordInput>\r\n      <ErrorMsg>\r\n        {errors.password?.type === 'required' && '請填寫密碼'}\r\n        {errors.password?.type === 'pattern' &&\r\n          '密碼需為 6 碼以上且含數字及小寫英文'}\r\n      </ErrorMsg>\r\n      <ArrowBtn\r\n        color='accent'\r\n        children='註冊'\r\n        buttonStyle={{ marginTop: '20px' }}\r\n      />\r\n      {$errMessage && (\r\n        <ErrorMsg style={{ textAlign: 'center' }}>{$errMessage}</ErrorMsg>\r\n      )}\r\n    </Form>\r\n  )\r\n}\r\n","import { useState, useContext } from 'react'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport {\r\n  PageWidthHeight,\r\n  FormWrapper,\r\n  AbsoluteCenter\r\n} from '../../components/loginSystem/loginCard'\r\nimport { Tabs } from '../../components/Tab'\r\nimport SignInForm from '../../components/loginSystem/SignInForm'\r\nimport SignUpForm from '../../components/loginSystem/SignUpForm'\r\nimport { addTokenToLocalStorage } from '../../utils'\r\nimport { getMe } from '../../webAPI/loginAPI'\r\nimport { LoadingContext, UserContext } from '../../context'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nexport default function Login() {\r\n  const { isLoading } = useContext(LoadingContext)\r\n  const [errMessage, setErrMessage] = useState()\r\n  const { setUser } = useContext(UserContext)\r\n  const redirect = useHistory()\r\n  const location = useLocation()\r\n  const tokenCheck = (token) => {\r\n    addTokenToLocalStorage(token)\r\n    getMe().then((res) => {\r\n      if (res.ok === 0) {\r\n        setErrMessage(res.message)\r\n      }\r\n      setUser(res.data)\r\n      if (location.pathname === '/checkout/step2') {\r\n        return window.location.reload()\r\n      }\r\n      redirect.push('/')\r\n    })\r\n  }\r\n  return (\r\n    <PageWidthHeight>\r\n      {isLoading && <IsLoadingComponent />}\r\n      <AbsoluteCenter>\r\n        <FormWrapper>\r\n          <Tabs\r\n            tabs={['註冊', '登入']}\r\n            tabsPanel={[\r\n              <SignUpForm\r\n                tokenCheck={tokenCheck}\r\n                $errMessage={errMessage}\r\n                $setErrMessage={setErrMessage}\r\n              />,\r\n              <SignInForm\r\n                tokenCheck={tokenCheck}\r\n                $errMessage={errMessage}\r\n                $setErrMessage={setErrMessage}\r\n              />\r\n            ]}\r\n            presetTab={1}\r\n          ></Tabs>\r\n        </FormWrapper>\r\n      </AbsoluteCenter>\r\n    </PageWidthHeight>\r\n  )\r\n}\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw'\r\n\r\nexport const createOrder = async (\r\n  orderAddress,\r\n  orderEmail,\r\n  orderName,\r\n  orderPhone,\r\n  payment,\r\n  shipping,\r\n  orderItem,\r\n  subTotal,\r\n  isDeleted\r\n) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        orderAddress,\r\n        orderEmail,\r\n        orderName,\r\n        orderPhone,\r\n        payment,\r\n        shipping,\r\n        orderItem,\r\n        subTotal,\r\n        isDeleted\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const getOrderOne = async (ticket) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders/me/${ticket}`, {\r\n      method: 'GET',\r\n      headers: { authorization: `Bearer ${token}` }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\nexport const getOrderAll = async () => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/orders/me`, {\r\n      method: 'GET',\r\n      headers: { authorization: `Bearer ${token}` }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useContext, useState, useEffect, useMemo } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { ErrorMsg } from '../../../components/loginSystem/loginCard'\r\nimport {\r\n  MsgTitle,\r\n  FormTitle,\r\n  Steps,\r\n  FormWrapper,\r\n  Form,\r\n  InputWrapper,\r\n  Label,\r\n  RadionLabel,\r\n  InputTitle,\r\n  Input,\r\n  BtnFlexCenter\r\n} from '../../../components/checkoutSystem/Step'\r\nimport { useForm } from 'react-hook-form'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { UserContext } from '../../../context'\r\nimport Login from '../../Login/Login'\r\nimport { COLOR } from '../../../constants/style'\r\nimport { LocalStorageContext } from '../../../context'\r\nimport { createOrder } from '../../../webAPI/orderAPI'\r\nexport default function Step2() {\r\n  const { cartItems, setCartItems } = useContext(LocalStorageContext)\r\n  const { user } = useContext(UserContext)\r\n  const { errMsg } = useState()\r\n  const location = useHistory()\r\n  useEffect(() => {\r\n    if (!cartItems.length) location.push('/')\r\n  }, [cartItems, location])\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n    setValue\r\n  } = useForm()\r\n  const handleChecked = (e) => {\r\n    if (e.target.checked) {\r\n      setValue('orderEmail', user.email)\r\n      setValue('orderAddress', user.address)\r\n      setValue('orderName', user.fullname)\r\n      setValue('orderPhone', user.phone)\r\n    } else {\r\n      setValue('orderEmail', '')\r\n      setValue('orderAddress', '')\r\n      setValue('orderName', '')\r\n      setValue('orderPhone', '')\r\n    }\r\n  }\r\n  const subTotal = useMemo(() => {\r\n    if (!cartItems.length) return\r\n    return (\r\n      cartItems\r\n        .map((item) => item.discountPrice * item.quantity)\r\n        .reduce((total, num) => total + num) + 80\r\n    )\r\n  }, [cartItems])\r\n  const onSubmit = async (submitData) => {\r\n    const orderItem = cartItems.map((item) => ({\r\n      productId: item.id,\r\n      quantity: item.quantity\r\n    }))\r\n    const result = await createOrder(\r\n      submitData.orderAddress,\r\n      submitData.orderEmail,\r\n      submitData.orderName,\r\n      submitData.orderPhone,\r\n      submitData.payment,\r\n      submitData.shipping,\r\n      orderItem,\r\n      subTotal,\r\n      0 //isDelete\r\n    )\r\n    if (result.ok === 0) {\r\n      console.log(result.message)\r\n    }\r\n    localStorage.removeItem('cartItemsList')\r\n    location.push(`/checkout/step3/${result.ticketNo}`)\r\n    setCartItems([])\r\n  }\r\n  return (\r\n    <PageWidth>\r\n      <Steps />\r\n      {user ? (\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n          <div>\r\n            <FormWrapper>\r\n              <FormTitle>寄送資訊</FormTitle>\r\n              <InputWrapper>\r\n                <InputTitle children='電郵:' />\r\n                <Input\r\n                  type='text'\r\n                  {...register('orderEmail', {\r\n                    required: true,\r\n                    pattern: /\\S+@\\S+\\.\\S+/\r\n                  })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderEmail?.type === 'required' && '請填寫電郵'}\r\n                {errors.orderEmail?.type === 'pattern' && '電郵請填寫完整'}\r\n              </ErrorMsg>\r\n              <InputWrapper>\r\n                <InputTitle children='姓名:' />\r\n                <Input\r\n                  type='text'\r\n                  {...register('orderName', { required: true })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderName?.type === 'required' && '請填寫姓名'}\r\n              </ErrorMsg>\r\n              <InputWrapper>\r\n                <InputTitle children='地址:' />\r\n                <Input\r\n                  type='text'\r\n                  {...register('orderAddress', { required: true })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderAddress?.type === 'required' && '請填寫地址'}\r\n              </ErrorMsg>\r\n              <InputWrapper>\r\n                <InputTitle children='電話:' />\r\n                <Input\r\n                  type='tel'\r\n                  {...register('orderPhone', {\r\n                    required: true,\r\n                    pattern:\r\n                      /(\\d{2,3}-?|\\(\\d{2,3}\\))\\d{3,4}-?\\d{4}|09\\d{2}(\\d{6}|-\\d{3}-\\d{3})/\r\n                  })}\r\n                />\r\n              </InputWrapper>\r\n              <ErrorMsg>\r\n                {errors.orderPhone?.type === 'required' && '請填寫電話'}\r\n                {errors.orderPhone?.type === 'pattern' && '請符合電話號碼規格'}\r\n              </ErrorMsg>\r\n              <Label>\r\n                <input type='checkbox' id='userData' onChange={handleChecked} />\r\n                <label htmlFor='userData'>寄件資訊與顧客資訊相同</label>\r\n              </Label>\r\n            </FormWrapper>\r\n            <FormWrapper>\r\n              <FormTitle>付款方式</FormTitle>\r\n              <Label>\r\n                <Input\r\n                  type='radio'\r\n                  id='cash'\r\n                  name='pay'\r\n                  value='貨到付款'\r\n                  {...register('payment', { required: true })}\r\n                />\r\n                <RadionLabel children='貨到付款' />\r\n              </Label>\r\n\r\n              <Label>\r\n                <Input\r\n                  type='radio'\r\n                  id='creditCard'\r\n                  name='pay'\r\n                  value='信用卡'\r\n                  {...register('payment', { required: true })}\r\n                />\r\n                <RadionLabel children='信用卡' />\r\n              </Label>\r\n              <ErrorMsg>\r\n                {errors.payment?.type === 'required' && '請選擇付款方式'}\r\n              </ErrorMsg>\r\n              <FormTitle>運送方式</FormTitle>\r\n              <Label>\r\n                <Input\r\n                  type='radio'\r\n                  id='home'\r\n                  name='delivery'\r\n                  value='宅配'\r\n                  checked\r\n                  {...register('shipping', { required: true })}\r\n                />\r\n                <RadionLabel children='宅配' />\r\n              </Label>\r\n              {/* <Label>\r\n                <Input type='radio' id='store' name='delivery' value='store' />\r\n                <RadionLabel children='超商' />\r\n              </Label> */}\r\n            </FormWrapper>\r\n          </div>\r\n          {errMsg && <ErrorMsg>{errMsg}</ErrorMsg>}\r\n          <BtnFlexCenter>\r\n            <GeneralBtn\r\n              color='primary'\r\n              buttonStyle={{ marginTop: '20px' }}\r\n              children='送出訂單'\r\n            />\r\n          </BtnFlexCenter>\r\n        </Form>\r\n      ) : (\r\n        <>\r\n          <MsgTitle>\r\n            請先<span style={{ color: COLOR.text_warning }}>登入</span>\r\n            再繼續購買\r\n          </MsgTitle>\r\n          <Login />\r\n          <BtnFlexCenter>\r\n            <GeneralBtn\r\n              color='light_grey'\r\n              buttonStyle={{ cursor: 'not-allowed' }}\r\n              children='送出訂單'\r\n            />\r\n          </BtnFlexCenter>\r\n        </>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import {\r\n  Item,\r\n  ItemImg,\r\n  ItemName,\r\n  ItemPriceHidden,\r\n  ItemContent,\r\n  ItemCountHidden,\r\n  ItemCountMobile,\r\n  ItemInfo\r\n} from './Step'\r\nexport const OrderItem = ({ item }) => {\r\n  return (\r\n    <Item key={item.productId}>\r\n      <ItemImg\r\n        img={item.Product.Product_imgs[0].imgUrlSm}\r\n        to={`/products/${item.productId}`}\r\n      />\r\n      <ItemInfo>\r\n        <ItemName\r\n          children={item.Product.name}\r\n          to={`/products/${item.productId}`}\r\n        />\r\n        <ItemContent>\r\n          <ItemPriceHidden children={`NT$ ${item.Product.price}`} />\r\n          <ItemCountHidden children={item.quantity} />\r\n          <ItemCountMobile\r\n            children={`${item.quantity} x NT$ ${item.Product.price}`}\r\n          />\r\n        </ItemContent>\r\n      </ItemInfo>\r\n    </Item>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Link, useParams, useHistory } from 'react-router-dom'\r\nimport { PageWidth } from '../../../components/general'\r\nimport {\r\n  Title,\r\n  Steps,\r\n  TitleWidth,\r\n  TitleGroup,\r\n  CartTitles,\r\n  CartTitle,\r\n  TotalPrice,\r\n  BtnFlexCenter,\r\n  DeliveryData\r\n} from '../../../components/checkoutSystem/Step'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { OrderItem } from '../../../components/checkoutSystem/step3OrderItem'\r\nimport { getOrderOne } from '../../../webAPI/orderAPI'\r\n\r\nexport default function Step3() {\r\n  const location = useHistory()\r\n  let { ticket } = useParams()\r\n  const [orderData, setOrderData] = useState(() => {\r\n    ;(async () => {\r\n      const result = await getOrderOne(ticket)\r\n      if (result.ok === 0) {\r\n        console.log(result.message)\r\n        return location.push('/')\r\n      }\r\n      return setOrderData(result.data)\r\n    })()\r\n  })\r\n  return (\r\n    <PageWidth>\r\n      <Steps />\r\n      {orderData && (\r\n        <>\r\n          <Title>寄送資訊</Title>\r\n          <DeliveryData>帳號: {orderData.Member.username}</DeliveryData>\r\n          <DeliveryData>電郵: {orderData.orderEmail}</DeliveryData>\r\n          <DeliveryData>姓名: {orderData.orderName}</DeliveryData>\r\n          <DeliveryData>地址: {orderData.orderAddress}</DeliveryData>\r\n          <DeliveryData>電話: {orderData.orderPhone}</DeliveryData>\r\n\r\n          <Title>付款方式</Title>\r\n          <DeliveryData>{orderData.payment}</DeliveryData>\r\n          <Title>寄送方式</Title>\r\n          <DeliveryData>{orderData.shipping}</DeliveryData>\r\n\r\n          <Title>訂購明細</Title>\r\n          <CartTitles>\r\n            <TitleWidth />\r\n            <TitleGroup>\r\n              <CartTitle>購買項目</CartTitle>\r\n              <CartTitle>金額</CartTitle>\r\n              <CartTitle>數量</CartTitle>\r\n            </TitleGroup>\r\n          </CartTitles>\r\n          {orderData.Order_items.map((item) => (\r\n            <OrderItem key={item.productId} item={item} />\r\n          ))}\r\n          <TotalPrice>{`小計 NT$${orderData.subTotal - 80}`}</TotalPrice>\r\n          <TotalPrice>運費 NT$80</TotalPrice>\r\n          <TotalPrice>{`總金額 NT$ ${orderData.subTotal}`}</TotalPrice>\r\n        </>\r\n      )}\r\n      <Link to='/'>\r\n        <BtnFlexCenter>\r\n          <GeneralBtn\r\n            color='primary'\r\n            children='回到首頁'\r\n            buttonStyle={{ marginTop: '20px' }}\r\n          />\r\n        </BtnFlexCenter>\r\n      </Link>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect, useContext, useCallback } from 'react'\r\nimport { useParams, useLocation, useHistory } from 'react-router-dom'\r\nimport {\r\n  getAllProductsByPage,\r\n  getCategoryProductsByPage\r\n} from '../../webAPI/productsAPI'\r\nimport { LoadingContext, ModalContext } from '../../context'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { PageWidth } from '../../components/general'\r\nimport {\r\n  ProductCard,\r\n  WhiteCard\r\n} from '../../components/productSystem/ProductCard'\r\nimport { countWhiteCardAmount, setNumInArray } from '../../utils'\r\nimport { PaginatorButton } from '../../components/Paginator'\r\nimport {\r\n  AddCartModal,\r\n  SoldOutCartModal\r\n} from '../../components/productSystem/ProductModal'\r\n\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 40px 0px;\r\n  flex-wrap: wrap;\r\n`\r\n\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto 40px auto;\r\n`\r\n\r\nexport default function Categories() {\r\n  const [products, setProducts] = useState([])\r\n  const [totalPage, setTotalPage] = useState([])\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const { isModalOpen, handleModalClose, isProductSoldOut } =\r\n    useContext(ModalContext)\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  const pathname = useLocation().pathname\r\n  const { slug, page } = useParams()\r\n  let history = useHistory()\r\n\r\n  const setAPIResult = useCallback(\r\n    (result) => {\r\n      if (!result) return\r\n      if (result.ok === 0) {\r\n        return history.push('/404')\r\n      }\r\n      setTotalPage((totalPage) => setNumInArray(result.totalPage))\r\n      setProducts(result.data)\r\n      setIsLoading((isLoading) => false)\r\n    },\r\n    [setIsLoading, history]\r\n  )\r\n\r\n  useEffect(() => {\r\n    setIsLoading((isLoading) => true)\r\n    if (slug === 'all') {\r\n      getAllProductsByPage(page).then((result) => {\r\n        if (!result) return\r\n        setAPIResult(result)\r\n      })\r\n    } else {\r\n      getCategoryProductsByPage(slug, page).then((result) => {\r\n        if (!result) return\r\n        setAPIResult(result)\r\n      })\r\n    }\r\n  }, [setIsLoading, slug, page, setAPIResult])\r\n\r\n  const whiteCardAmount = countWhiteCardAmount(\r\n    products.length,\r\n    parseInt(page),\r\n    isDesktop\r\n  )\r\n  return (\r\n    <PageWidth>\r\n      {isLoading && <IsLoadingComponent />}\r\n      {isProductSoldOut && (\r\n        <AddCartModal\r\n          isModalOpen={isModalOpen}\r\n          handleModalClose={handleModalClose}\r\n        />\r\n      )}\r\n      {!isProductSoldOut && (\r\n        <SoldOutCartModal\r\n          isModalOpen={isModalOpen}\r\n          handleModalClose={handleModalClose}\r\n        />\r\n      )}\r\n      <CardContainer>\r\n        {products.map(\r\n          ({\r\n            id,\r\n            name,\r\n            price,\r\n            Product_imgs,\r\n            discountPrice,\r\n            status,\r\n            quantity\r\n          }) => {\r\n            const length = Product_imgs.length\r\n            const imgUrl = isMobile\r\n              ? Product_imgs[length - 1].imgUrlMd\r\n              : Product_imgs[length - 1].imgUrlLg\r\n            return (\r\n              <ProductCard\r\n                id={id}\r\n                key={id}\r\n                imgUrl={imgUrl}\r\n                imgs={Product_imgs}\r\n                name={name}\r\n                price={price}\r\n                discountPrice={discountPrice}\r\n                status={status}\r\n                stockQuantity={quantity}\r\n              />\r\n            )\r\n          }\r\n        )}\r\n        {whiteCardAmount.length > 0 &&\r\n          whiteCardAmount.map((amount) => {\r\n            return <WhiteCard key={amount} />\r\n          })}\r\n      </CardContainer>\r\n      {totalPage.length > 1 && (\r\n        <PaginatorDiv>\r\n          {totalPage.map((singlePage) => {\r\n            const linkDirection = `/categories/${slug}/${singlePage}`\r\n            return (\r\n              <PaginatorButton\r\n                key={singlePage}\r\n                page={singlePage}\r\n                to={linkDirection}\r\n                active={pathname === linkDirection}\r\n              ></PaginatorButton>\r\n            )\r\n          })}\r\n        </PaginatorDiv>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport qs from 'qs'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport { getProductByKeywords } from '../../webAPI/productsAPI'\r\nimport { LoadingContext, ModalContext } from '../../context'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { PageWidth } from '../../components/general'\r\nimport {\r\n  ProductCard,\r\n  WhiteCard\r\n} from '../../components/productSystem/ProductCard'\r\nimport { countWhiteCardAmount, setSearchPageInArray } from '../../utils'\r\nimport {\r\n  AddCartModal,\r\n  SoldOutCartModal\r\n} from '../../components/productSystem/ProductModal'\r\nimport { PaginatorButton } from '../../components/Paginator'\r\n\r\nconst PageContainer = styled.div`\r\n  height: 60vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 20px 0px;\r\n  flex-wrap: wrap;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 20px auto 40px auto;\r\n`\r\nconst SearchFoundContainer = styled.div`\r\n  text-align: center\r\n  font-size: ${FONT_SIZE.md};\r\n  color: ${COLOR.text_dark};\r\n  margin-top: 40px;\r\n  p{\r\n    color: ${COLOR.text_primary_dark};\r\n    font-weight: bold;\r\n  }\r\n`\r\nconst SearchNotFoundContainer = styled(SearchFoundContainer)`\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n`\r\n\r\nfunction SearchFoundResult({ keyword, searchAmount }) {\r\n  return (\r\n    <SearchFoundContainer>\r\n      符合關鍵字「{keyword}」的相關產品，共搜尋到 {searchAmount} 筆。\r\n    </SearchFoundContainer>\r\n  )\r\n}\r\n\r\nexport default function Search() {\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const { isModalOpen, handleModalClose, isProductSoldOut } =\r\n    useContext(ModalContext)\r\n  const [searchResult, setSearchResult] = useState([])\r\n  const history = useHistory()\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const isDesktop = useMediaQuery('(min-width: 1200px)')\r\n  const keywords = useLocation().search\r\n  const keywordString = qs.parse(keywords, { ignoreQueryPrefix: true }).search\r\n  const currentPage = Number(qs.parse(keywords, { ignoreQueryPrefix: true }).p)\r\n  const perPageSliceStart = (currentPage - 1) * 12\r\n  const perPageSliceEnd = currentPage * 12\r\n\r\n  useEffect(() => {\r\n    setIsLoading((isLoading) => true)\r\n    if (!keywordString) {\r\n      setSearchResult([])\r\n      return setIsLoading((isLoading) => false)\r\n    }\r\n    getProductByKeywords(keywords).then((result) => {\r\n      if (!result) return\r\n      if (result.ok === 0) {\r\n        history.push('/404')\r\n      }\r\n      setIsLoading((isLoading) => false)\r\n      setSearchResult(result.data)\r\n    })\r\n  }, [setIsLoading, history, keywords, keywordString])\r\n  const SearchProductsAmount = searchResult.length\r\n  const { totalPage, pagesArray } = setSearchPageInArray(SearchProductsAmount)\r\n\r\n  const whiteCardAmount = countWhiteCardAmount(\r\n    SearchProductsAmount,\r\n    currentPage,\r\n    isDesktop\r\n  )\r\n\r\n  return (\r\n    <PageWidth>\r\n      {isLoading && <IsLoadingComponent />}\r\n      {isProductSoldOut && (\r\n        <AddCartModal\r\n          isModalOpen={isModalOpen}\r\n          handleModalClose={handleModalClose}\r\n        />\r\n      )}\r\n      {!isProductSoldOut && (\r\n        <SoldOutCartModal\r\n          isModalOpen={isModalOpen}\r\n          handleModalClose={handleModalClose}\r\n        />\r\n      )}\r\n      {SearchProductsAmount === 0 && (\r\n        <PageContainer>\r\n          <SearchNotFoundContainer>沒有符合搜尋的商品</SearchNotFoundContainer>\r\n        </PageContainer>\r\n      )}\r\n      {SearchProductsAmount !== 0 && (\r\n        <>\r\n          <SearchFoundResult\r\n            keyword={keywordString}\r\n            searchAmount={SearchProductsAmount}\r\n          />\r\n          <CardContainer>\r\n            {searchResult\r\n              .slice(perPageSliceStart, perPageSliceEnd)\r\n              .map(\r\n                ({\r\n                  id,\r\n                  name,\r\n                  price,\r\n                  Product_imgs,\r\n                  discountPrice,\r\n                  status,\r\n                  quantity\r\n                }) => {\r\n                  const length = Product_imgs.length\r\n                  const imgUrl = isMobile\r\n                    ? Product_imgs[length - 1].imgUrlSm\r\n                    : Product_imgs[length - 1].imgUrlMd\r\n                  return (\r\n                    <ProductCard\r\n                      id={id}\r\n                      key={id}\r\n                      imgUrl={imgUrl}\r\n                      imgs={Product_imgs}\r\n                      name={name}\r\n                      price={price}\r\n                      discountPrice={discountPrice}\r\n                      status={status}\r\n                      stockQuantity={quantity}\r\n                    />\r\n                  )\r\n                }\r\n              )}\r\n            {whiteCardAmount.length > 0 &&\r\n              whiteCardAmount.map((amount) => {\r\n                return <WhiteCard key={amount} />\r\n              })}\r\n          </CardContainer>\r\n        </>\r\n      )}\r\n      {totalPage > 1 && (\r\n        <PaginatorDiv>\r\n          {pagesArray.map((page) => {\r\n            return (\r\n              <PaginatorButton\r\n                key={page}\r\n                page={page}\r\n                to={`/search/?search=${keywordString}&p=${page}`}\r\n                active={page === currentPage}\r\n              ></PaginatorButton>\r\n            )\r\n          })}\r\n        </PaginatorDiv>\r\n      )}\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\n\r\nconst CategoryImg = styled.div`\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  height: 50vw;\r\n  width: 100%;\r\n  opacity: 0.7;\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 50vw;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n    height: 30vw;\r\n    line-height: 30vw;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n    height: 20vw;\r\n    line-height: 20vw;\r\n  }\r\n`\r\n\r\nexport function HomeCategoriesImg({ category, imgUrl, color }) {\r\n  return (\r\n    <CategoryImg style={{ backgroundImage: `url(${imgUrl})`, color: color }}>\r\n      {category}\r\n    </CategoryImg>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { FullWidth } from '../general'\r\nimport { Link } from 'react-router-dom'\r\nimport { getAllArticles } from '../../webAPI/articlesAPI'\r\n\r\nconst ImgLink = styled(Link)`\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 280px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 380px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 420px;\r\n  }\r\n`\r\n\r\nconst ArticlesImgContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxxl};\r\n  }\r\n`\r\n\r\nfunction ArticleImg({ title, imgUrl, color, to }) {\r\n  return (\r\n    <ImgLink to={to}>\r\n      <ArticlesImgContainer\r\n        style={{ backgroundImage: `url(${imgUrl})`, color: color }}\r\n      >\r\n        {title}\r\n      </ArticlesImgContainer>\r\n    </ImgLink>\r\n  )\r\n}\r\n\r\nexport function HomeArticlesImg() {\r\n  const [articles, setArticles] = useState([])\r\n  useEffect(() => {\r\n    getAllArticles().then((result) => {\r\n      if (!result || result.ok === 0) return\r\n      if (result.ok === 1) setArticles(result.data)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <FullWidth>\r\n      <Carousel style={{ zIndex: '0' }}>\r\n        {articles.map((article) => {\r\n          const { id, title, imgUrl } = article\r\n          const linkDirection = `/articles/${id}/1`\r\n          return (\r\n            <Carousel.Item key={id}>\r\n              <ArticleImg\r\n                title={title}\r\n                imgUrl={imgUrl}\r\n                color={COLOR.text_light}\r\n                to={linkDirection}\r\n              />\r\n            </Carousel.Item>\r\n          )\r\n        })}\r\n      </Carousel>\r\n    </FullWidth>\r\n  )\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.min.css'\r\nimport styled from 'styled-components'\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\nimport { LoadingContext, ModalContext } from '../../context'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nimport { PageWidth } from '../../components/general'\r\nimport { COLOR, MEDIA_QUERY } from '../../constants/style'\r\nimport { ProductCard } from '../../components/productSystem/ProductCard'\r\nimport { getCategoryProducts } from '../../webAPI/productsAPI'\r\nimport { HomeCategoriesImg } from '../../components/homeSystem/HomeCategoriesImg'\r\nimport { HomeArticlesImg } from '../../components/homeSystem/HomeArticlesImg'\r\nimport {\r\n  AddCartModal,\r\n  SoldOutCartModal\r\n} from '../../components/productSystem/ProductModal'\r\n\r\nconst ProductContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 30px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 30px;\r\n  }\r\n`\r\n\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 10px 0px;\r\n  flex-wrap: wrap;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin: 20px 0px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin: 20px 0px;\r\n  }\r\n`\r\n\r\nconst getProductsByCategory = (category, setProducts, setIsLoading) => {\r\n  setIsLoading(true)\r\n  getCategoryProducts(category).then((products) => {\r\n    if (!products) return\r\n    if (products.ok === 0) return\r\n    setProducts(products.data.slice(-4))\r\n    setIsLoading(false)\r\n  })\r\n}\r\n\r\nconst showProductsInComponent = (data, MediaQuery, setIsModalOpen) => {\r\n  const isMobile = MediaQuery('(max-width: 767px)')\r\n  return data.map(\r\n    ({ id, name, price, Product_imgs, discountPrice, status, quantity }) => {\r\n      const length = Product_imgs.length\r\n      const imgUrl = isMobile\r\n        ? Product_imgs[length - 1].imgUrlMd\r\n        : Product_imgs[length - 1].imgUrlLg\r\n      return (\r\n        <ProductCard\r\n          id={id}\r\n          key={id}\r\n          imgUrl={imgUrl}\r\n          imgs={Product_imgs}\r\n          name={name}\r\n          price={price}\r\n          discountPrice={discountPrice}\r\n          status={status}\r\n          stockQuantity={quantity}\r\n        />\r\n      )\r\n    }\r\n  )\r\n}\r\n\r\nexport default function Home() {\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const [homeProducts, setHomeProducts] = useState([])\r\n  const [apparelProducts, setApparelProducts] = useState([])\r\n  const [kitchenwareProducts, setKitchenProducts] = useState([])\r\n  const [foodProducts, setFoodProducts] = useState([])\r\n  const [stationeryProducts, setStationeryProducts] = useState([])\r\n  const [outdoorProducts, setOutdoorProducts] = useState([])\r\n  const { isModalOpen, handleModalClose, isProductSoldOut } =\r\n    useContext(ModalContext)\r\n\r\n  useEffect(() => {\r\n    getProductsByCategory('home', setHomeProducts, setIsLoading)\r\n    getProductsByCategory('apparel', setApparelProducts, setIsLoading)\r\n    getProductsByCategory('kitchenware', setKitchenProducts, setIsLoading)\r\n    getProductsByCategory('food', setFoodProducts, setIsLoading)\r\n    getProductsByCategory('stationery', setStationeryProducts, setIsLoading)\r\n    getProductsByCategory('outdoor', setOutdoorProducts, setIsLoading)\r\n  }, [setIsLoading])\r\n\r\n  return (\r\n    <>\r\n      <HomeArticlesImg />\r\n      <PageWidth>\r\n        {isLoading && <IsLoadingComponent />}\r\n        {isProductSoldOut && (\r\n          <AddCartModal\r\n            isModalOpen={isModalOpen}\r\n            handleModalClose={handleModalClose}\r\n          />\r\n        )}\r\n        {!isProductSoldOut && (\r\n          <SoldOutCartModal\r\n            isModalOpen={isModalOpen}\r\n            handleModalClose={handleModalClose}\r\n          />\r\n        )}\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/WjvyBCB.jpg'\r\n            color={COLOR.text_dark}\r\n            category={'居家生活'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(homeProducts, useMediaQuery)}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/5mNsAzg.jpg'\r\n            color={COLOR.text_dark}\r\n            category={'服飾配件'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(apparelProducts, useMediaQuery)}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/kBR54ha.jpg'\r\n            color={COLOR.text_light}\r\n            category={'廚房餐具'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(kitchenwareProducts, useMediaQuery)}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/3qTh9JZ.jpg'\r\n            color={COLOR.text_black}\r\n            category={'食材雜貨'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(foodProducts, useMediaQuery)}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/db1W1Ne.jpg'\r\n            color={COLOR.text_black}\r\n            category={'設計文具'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(stationeryProducts, useMediaQuery)}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n        <ProductContainer>\r\n          <HomeCategoriesImg\r\n            imgUrl='https://i.imgur.com/TrmCL9e.jpg'\r\n            color={COLOR.text_dark}\r\n            category={'休閒戶外'}\r\n          />\r\n          <CardContainer>\r\n            {showProductsInComponent(outdoorProducts, useMediaQuery)}\r\n          </CardContainer>\r\n        </ProductContainer>\r\n      </PageWidth>\r\n    </>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY } from '../constants/style'\r\nimport { GeneralBtn } from './Button'\r\n\r\n\r\nconst Button = ({ children }) => {\r\n  const style = {\r\n    width: '50%'\r\n  }\r\n  return <GeneralBtn color={'accent'} buttonStyle={style} children={children}/>\r\n}\r\n\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  text-align: center;\r\n  /* border: 1px solid ${COLOR.border_light_grey}; */\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n\r\n  tr {\r\n    display: flex;\r\n  }\r\n\r\n  tr + tr {\r\n    border-top: 2px solid ${COLOR.border_light_grey};\r\n  }\r\n  \r\n  th, td {\r\n    padding: 12px 0;\r\n    ${({ col }) => col && `\r\n      width: calc(100%/${col});\r\n    `}\r\n    \r\n  }\r\n\r\n  th {\r\n    background: #9A8B66;\r\n    color: #FFF;\r\n  }\r\n\r\n  td {\r\n    padding: 16px 0;\r\n  }\r\n`\r\n\r\nexport {\r\n  Button,\r\n  Table\r\n}\r\n","import { useCallback } from 'react'\r\nimport { Table, Button } from '../Table'\r\n\r\n\r\nconst OrderTable = ({ orders }) => {\r\n  const handleClick = useCallback((id) => {\r\n    // Todo\r\n  }, [])\r\n\r\n  return (\r\n    <Table col={4}>\r\n      <thead>\r\n        <tr>\r\n          <th>訂單狀態</th>\r\n          <th>訂單編號</th>\r\n          <th>訂單金額</th>\r\n          <th>管理</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        { orders.map((order, index) => (\r\n            <tr key={index+10}>\r\n              <td>處理中</td>\r\n              <td>20210922-kw168</td>\r\n              <td>$1380</td>\r\n              <td><Button onClick={handleClick}>查找</Button></td>\r\n            </tr>\r\n          ))\r\n        }\r\n      </tbody>\r\n    </Table>\r\n  )\r\n}\r\n\r\nexport default OrderTable\r\n","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport OrderTable from '../../../components/memberSystem/OrderTable'\r\nimport { LogoutBtn } from '../../../components/Button'\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 24px auto;\r\n  text-align: left;\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 12px 0 24px;\r\n\r\n  h3 {\r\n    font-size: ${FONT_SIZE.lg};\r\n    font-weight: 700;\r\n  }\r\n`\r\n\r\nconst SubTitle = styled.h5`\r\n  margin: 16px 0;\r\n  font-weight: 700;\r\n`\r\n\r\nconst MemberInfo = styled.div`\r\n  padding: 12px 16px 0;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n`\r\n\r\nconst Button = ({ children }) => {\r\n  const style = {\r\n    width: '120px'\r\n  }\r\n  return <LogoutBtn color={'primary'} buttonStyle={style} children={children}/>\r\n}\r\n\r\nconst Home = () => {\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <h3>Hi! OOXX</h3>\r\n        <Button>登出</Button>\r\n      </Header>\r\n      <SubTitle>基本資料</SubTitle>\r\n      <MemberInfo>\r\n        <p>會員帳號: OOXX</p>\r\n        <p>會員等級: 一般會員</p>\r\n        <p>電郵: 1234@gmail.com</p>\r\n      </MemberInfo>\r\n      <SubTitle>最新訂單</SubTitle>\r\n      <OrderTable orders={[1]} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Home","import styled from 'styled-components'\r\nimport { COLOR } from '../../../constants/style'\r\n// import OrderDetail from './OrderDetail';\r\nimport OrderTable from '../../../components/memberSystem/OrderTable'\r\n\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 24px auto;\r\n  text-align: left;\r\n`\r\n\r\nconst PageList = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 16px auto 4px;\r\n`\r\n\r\nconst Li = styled.li`\r\n  width: 30px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  user-select: none;\r\n  \r\n  & + & {\r\n    margin-left: 8px;\r\n  }\r\n`\r\n\r\nconst PageLi = styled(Li)`\r\n  border: 1px solid #111;\r\n  cursor: pointer;\r\n  transition: background .3s;\r\n\r\n  &:hover, &.active {\r\n    color: ${COLOR.light};\r\n    background: ${COLOR.primary_light_hover};\r\n    border: ${COLOR.border_light_grey};\r\n  }\r\n`\r\n\r\nconst testArray = [1, 2, 3, 4, 5, 6]\r\n\r\nconst renderPageBar = (array) => {\r\n  if (array.length <= 5) {\r\n    return array.map(i => <PageLi>{i}</PageLi>)\r\n  }\r\n  return (\r\n    <>\r\n      <PageLi>1</PageLi>\r\n      <PageLi>2</PageLi>\r\n      <PageLi>3</PageLi>\r\n      <Li>...</Li>\r\n      <PageLi>{ array.length }</PageLi>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nconst Orders = () => {\r\n  return (\r\n    <Container>\r\n      {/* <OrderDetail></OrderDetail> */}\r\n      <OrderTable orders={testArray} />\r\n      <PageList>\r\n        { renderPageBar(testArray) }\r\n      </PageList>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Orders","import styled from 'styled-components'\r\nimport { EditBtn } from '../../../components/Button'\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 24px auto;\r\n  text-align: left;\r\n`\r\n\r\nconst InfoWrapper = styled.div`\r\n  position: relative;\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst Field = styled.div`\r\n  display: flex;\r\n\r\n  h5 {\r\n    margin-right: 36px;\r\n  }\r\n\r\n  &+& {\r\n    margin-top: 20px;\r\n  }\r\n`\r\n\r\nconst Button = ({ children }) => {\r\n  const style = {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    right: '20px',\r\n    width: '120px'\r\n  }\r\n  return <EditBtn color={'accent'} buttonStyle={style} children={children}/>\r\n}\r\n\r\n\r\nconst ModifyInfo = () => {\r\n  return (\r\n    <Container>\r\n      <InfoWrapper>\r\n        <Button>編輯</Button>\r\n        <Field>\r\n          <h5>帳號:</h5>\r\n          <p>username</p>\r\n        </Field>\r\n        <Field>\r\n          <h5>電郵:</h5>\r\n          <p>1234@gmail.com</p>\r\n        </Field>\r\n        <Field>\r\n          <h5>姓名:</h5>\r\n          <p>fullname</p>\r\n        </Field>\r\n        <Field>\r\n          <h5>地址:</h5>\r\n          <p>台北市信義區吳興街111巷32號</p>\r\n        </Field>\r\n        <Field>\r\n          <h5>電話:</h5>\r\n          <p>0912345678</p>\r\n        </Field>\r\n      </InfoWrapper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ModifyInfo","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { Tabs } from '../../../components/Tab'\r\nimport { PageWidth } from '../../../components/general'\r\nimport Home from '../Home'\r\nimport Orders from '../Orders'\r\nimport Info from '../Info'\r\n\r\n\r\n\r\nconst PageWidthHeight = styled(PageWidth)`\r\n  min-height: 600px;\r\n`\r\nconst Container = styled.div`\r\n  margin: 60px auto 0;\r\n  width: 80%;\r\n  min-width: 450px;\r\n`\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  margin-top: 30px;\r\n  font-weight: bold;\r\n`\r\n\r\nconst TabWrapper = styled.div`\r\n  margin: 30px auto;\r\n  border: 1px solid ${COLOR.border_light_grey};\r\n  ${MEDIA_QUERY.tablet} {\r\n    transform: translateY(5%);\r\n  }\r\n`\r\n\r\n\r\nexport default function Me() {\r\n  return (\r\n    <PageWidthHeight>\r\n      <Container>\r\n        <Title>會員專區</Title>\r\n        <TabWrapper>\r\n          <Tabs\r\n            tabs={['會員首頁', '訂單紀錄', '會員資料']}\r\n            tabsPanel={[<Home />, <Orders />, <Info />]}\r\n            presetTab={0}\r\n          />\r\n        </TabWrapper>\r\n      </Container>\r\n    </PageWidthHeight>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, MEDIA_QUERY } from '../../constants/style'\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport useMediaQuery from '../../hooks/useMediaQuery'\r\n\r\nconst ProductImgContainer = styled.div`\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 15px 0px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 55%;\r\n    height: 90%;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    margin: 0px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 50%;\r\n    height: 90%;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    margin: 0px;\r\n    margin-right: 10px;\r\n  }\r\n`\r\nconst ThumbnailContainer = styled.div`\r\n  width: 85%;\r\n  height: 20%;\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    width: 25%;\r\n    height: 100%;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    width: 25%;\r\n    height: 100%;\r\n  }\r\n`\r\n\r\nconst ThumbnailImgDiv = styled.div`\r\n  width: 32%;\r\n  height: 100% !important;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  margin: 0px 10px 0px 0px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    transition: linear 0.2s;\r\n  }\r\n\r\n  ${(props) =>\r\n    !props.$isSelected &&\r\n    `\r\n  opacity: 0.5;\r\n  transition: opacity ease 0.5s;\r\n  `};\r\n\r\n  ${(props) =>\r\n    props.$isSelected && `border: 2px solid ${COLOR.border_primary};`};\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 100%;\r\n    height: 26% !important;\r\n    margin: 0px 0px 12px 0px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 100%;\r\n    height: 40% !important;\r\n    margin: 0px 0px 10px 0px;\r\n  }\r\n`\r\n\r\nconst LargeImgDiv = styled.div`\r\n  width: 85%;\r\n  height: 75%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  margin-bottom: 30px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 80%;\r\n    height: 100%;\r\n    margin: 0;\r\n    margin-left: 10px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n    height: 100%;\r\n    margin: 0;\r\n    margin-left: 10px;\r\n  }\r\n`\r\n\r\nexport function ProductImgsComponent({ imgs }) {\r\n  const [showLargeImg, setShowLargeImg] = useState([])\r\n  const [showThumbnailImage, setShowThumbnailImage] = useState([])\r\n  const isMobile = useMediaQuery('(max-width: 767px)')\r\n  const selectedId = showLargeImg?.id\r\n\r\n  useEffect(() => {\r\n    setShowLargeImg(imgs[0])\r\n    setShowThumbnailImage(imgs.filter((img) => img.imgUrlSm))\r\n  }, [imgs])\r\n\r\n  const handleThumbnailClick = useCallback(\r\n    (e) => {\r\n      const id = Number(e.target.id)\r\n      const newLargeImg = imgs.filter((img) => img.id === id)\r\n      setShowLargeImg(newLargeImg[0])\r\n    },\r\n    [imgs]\r\n  )\r\n\r\n  return (\r\n    <ProductImgContainer>\r\n      {isMobile && (\r\n        <LargeImgDiv\r\n          style={{ backgroundImage: `url(${showLargeImg?.imgUrlLg})` }}\r\n        />\r\n      )}\r\n      {imgs.length > 1 && (\r\n        <ThumbnailContainer>\r\n          {showThumbnailImage?.map(({ id, imgUrlMd }) => {\r\n            let $isSelected = id === selectedId ? true : false\r\n            return (\r\n              <ThumbnailImgDiv\r\n                key={id}\r\n                id={id}\r\n                style={{\r\n                  backgroundImage: `url(${imgUrlMd}})`\r\n                }}\r\n                onClick={handleThumbnailClick}\r\n                $isSelected={$isSelected}\r\n              />\r\n            )\r\n          })}\r\n        </ThumbnailContainer>\r\n      )}\r\n      {!isMobile && (\r\n        <LargeImgDiv\r\n          style={{ backgroundImage: `url(${showLargeImg?.imgUrlLg})` }}\r\n        />\r\n      )}\r\n    </ProductImgContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useCallback, useMemo, useContext } from 'react'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\nimport { ShoppingCarBtn, GeneralBtn } from '../../components/Button'\r\nimport { ItemCounter } from '../../components/Counter'\r\nimport { ModalContext, LocalStorageContext } from '../../context'\r\nimport { formatPrice } from '../../utils'\r\n\r\nconst ProductInfoContainer = styled.div`\r\n  width: 100%;\r\n  min-height: 40%;\r\n  height: 40%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 0px 30px;\r\n  margin: 10px 0px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 45%;\r\n    margin: 0px;\r\n    height: 90%;\r\n    min-height: 90%;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 50%;\r\n    margin: 0px;\r\n    height: 90%;\r\n    min-height: 90%;\r\n  }\r\n`\r\n\r\nconst InfoStyle = styled.div`\r\n  width: 100%;\r\n  word-wrap: break-word;\r\n  text-align: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    text-align: left;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    text-align: left;\r\n  }\r\n`\r\n\r\nconst ProductName = styled(InfoStyle)`\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  color: ${FONT_SIZE.text_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xl};\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xxl};\r\n    margin-bottom: 10px;\r\n  }\r\n`\r\n\r\nconst Shortdesc = styled(InfoStyle)`\r\n  margin: 6px 0px;\r\n  line-height: 1.5em;\r\n  white-space: pre-wrap;\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${FONT_SIZE.text_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\n\r\nconst PriceContainer = styled.div`\r\n  width: 100%;\r\n  margin: 6px 0px;\r\n  flex-wrap: wrap;\r\n  text-align: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    text-align: left;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    text-align: left;\r\n  }\r\n`\r\n\r\nconst PriceStyle = styled.span`\r\n  font-size: ${FONT_SIZE.md};\r\n  color: ${COLOR.accent};\r\n  font-weight: bold;\r\n  text-align: left;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.discount &&\r\n    `\r\n    font-size: ${FONT_SIZE.sm} !important;\r\n    text-decoration: line-through;\r\n  `}\r\n`\r\n\r\nconst DiscountPriceStyle = styled(PriceStyle)`\r\n  color: ${COLOR.warning};\r\n  margin-left: 6px;\r\n  font-size: ${FONT_SIZE.md};\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.lg};\r\n  }\r\n`\r\n\r\nconst WarningMessage = styled.p`\r\n  font-size: ${FONT_SIZE.sm};\r\n  color: ${COLOR.warning};\r\n  margin-top: 8px;\r\n  font-weight: bold;\r\n`\r\n\r\nfunction SoldOutBtn() {\r\n  return (\r\n    <GeneralBtn buttonStyle={{ marginTop: '40px' }}>商品售完待補貨</GeneralBtn>\r\n  )\r\n}\r\n\r\nexport function ProductUpInfoComponent({\r\n  id,\r\n  name,\r\n  shortDesc,\r\n  price,\r\n  discountPrice,\r\n  imgs,\r\n  hasDiscount,\r\n  totalQuantity,\r\n  status\r\n}) {\r\n  const [quantity, setQuantity] = useState(1)\r\n  const [warningMessage, setWarningMessage] = useState('')\r\n  // eslint-disable-next-line no-unused-vars\r\n  const { isModalOpen, setIsModalOpen } = useContext(ModalContext)\r\n  const { handleAddCartItem } = useContext(LocalStorageContext)\r\n\r\n  const productInfo = useMemo(\r\n    () => ({\r\n      name,\r\n      price,\r\n      discountPrice,\r\n      imgs,\r\n      quantity\r\n    }),\r\n    [name, price, discountPrice, imgs, quantity]\r\n  )\r\n  const handleAddProductInCart = (e) => {\r\n    const targetId = Number(e.target.id)\r\n    handleAddCartItem(targetId, productInfo)\r\n    setIsModalOpen(true)\r\n  }\r\n\r\n  const handleCount = useCallback(\r\n    (type) => {\r\n      if (type === 'increment') {\r\n        return quantity === totalQuantity\r\n          ? setWarningMessage((warningMessage) => '已達商品數量上限')\r\n          : setQuantity(quantity + 1)\r\n      } else {\r\n        if (quantity <= 1) return setQuantity((quantity) => 1)\r\n        setQuantity(quantity - 1)\r\n        if (quantity <= totalQuantity) setWarningMessage((warningMessage) => '')\r\n      }\r\n    },\r\n    [quantity, totalQuantity]\r\n  )\r\n\r\n  const handleChange = useCallback(\r\n    (e) => {\r\n      const targetValue = parseInt(e.target.value.trim(' '))\r\n      const changeQuantity = targetValue ? targetValue : ''\r\n      if (changeQuantity >= totalQuantity) {\r\n        setQuantity((quantity) => totalQuantity)\r\n        return setWarningMessage((warningMessage) => '已達商品數量上限')\r\n      }\r\n      changeQuantity && changeQuantity < 1\r\n        ? setQuantity((quantity) => 1)\r\n        : setQuantity((quantity) => changeQuantity)\r\n    },\r\n    [totalQuantity]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const changeQuantity = e.target.value ? parseInt(e.target.value) : ''\r\n      if (changeQuantity === totalQuantity) {\r\n        return setWarningMessage((warningMessage) => '已達商品數量上限')\r\n      }\r\n      if (!changeQuantity || changeQuantity < 1) setQuantity((quantity) => 1)\r\n      setWarningMessage((warningMessage) => '')\r\n    },\r\n    [totalQuantity]\r\n  )\r\n\r\n  function AddProductToCart() {\r\n    return (\r\n      <ShoppingCarBtn\r\n        id={id}\r\n        color='primary'\r\n        buttonStyle={{ marginTop: '20px' }}\r\n        onClick={handleAddProductInCart}\r\n      >\r\n        加入購物車\r\n      </ShoppingCarBtn>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ProductInfoContainer>\r\n      <ProductName>{name}</ProductName>\r\n      <Shortdesc>{shortDesc}</Shortdesc>\r\n      <PriceContainer>\r\n        <PriceStyle discount={hasDiscount}>\r\n          售價: {formatPrice(parseInt(price))}\r\n        </PriceStyle>\r\n        {hasDiscount && (\r\n          <DiscountPriceStyle>\r\n            售價: {formatPrice(parseInt(discountPrice))}\r\n          </DiscountPriceStyle>\r\n        )}\r\n      </PriceContainer>\r\n      {status === 'on' && (\r\n        <ItemCounter\r\n          buttonStyle={{ marginTop: '20px' }}\r\n          handleCount={handleCount}\r\n          handleChange={handleChange}\r\n          handleOnBlur={handleOnBlur}\r\n          count={quantity}\r\n        />\r\n      )}\r\n      {warningMessage && <WarningMessage>{warningMessage}</WarningMessage>}\r\n      {status === 'off' && <SoldOutBtn />}\r\n      {status === 'on' && <AddProductToCart />}\r\n    </ProductInfoContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../constants/style'\r\n\r\nconst ProductBottomContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 15px auto;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 100%;\r\n    margin: 20px auto;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n    margin: 20px auto;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n`\r\n\r\nconst TitleBorder = styled.div`\r\n  margin-top: 8px;\r\n  width: 8%;\r\n  border-bottom: 3px solid ${COLOR.primary_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 10%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 5%;\r\n  }\r\n`\r\n\r\nconst LongDescContent = styled.div`\r\n  margin: 20px auto;\r\n  width: 85%;\r\n  text-align: center;\r\n  white-space: pre-wrap;\r\n  line-height: 1.5em;\r\n  ${MEDIA_QUERY.tablet} {\r\n    line-height: 2em;\r\n    text-align: left;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    line-height: 2em;\r\n    text-align: left;\r\n  }\r\n`\r\nexport function ProductBottomInfoComponent({ longDesc }) {\r\n  return (\r\n    <ProductBottomContainer>\r\n      <Title>\r\n        商品敘述\r\n        <TitleBorder />\r\n      </Title>\r\n      <LongDescContent>{longDesc}</LongDescContent>\r\n    </ProductBottomContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { MEDIA_QUERY } from '../../constants/style'\r\nimport { LoadingContext, ModalContext } from '../../context'\r\nimport { IsLoadingComponent } from '../../components/IsLoading'\r\nimport { PageWidth } from '../../components/general'\r\nimport { getProductById } from '../../webAPI/productsAPI'\r\nimport { FullModal } from '../../components/Modal'\r\nimport { ProductImgsComponent } from '../../components/productSystem/ProductImg'\r\nimport { ProductUpInfoComponent } from '../../components/productSystem/ProductUpInfo'\r\nimport { ProductBottomInfoComponent } from '../../components/productSystem/ProductBottomInfo'\r\n\r\nconst ProductPageDiv = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst ProductTopContainer = styled.div`\r\n  width: 100%;\r\n  height: 800px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin: 20px auto;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 365px;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    margin: 60px auto 20px auto;\r\n  }\r\n\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 380px;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    margin: 40px auto;\r\n  }\r\n`\r\n\r\nexport default function Products() {\r\n  const [product, setProduct] = useState([])\r\n  const [productImgs, setProductImgs] = useState([])\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const { isModalOpen, handleModalClose } = useContext(ModalContext)\r\n  const { id } = useParams()\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    setIsLoading((isLoading) => true)\r\n    getProductById(id).then((result) => {\r\n      if (!result) return\r\n      if (result.ok === 0) {\r\n        history.push('/404')\r\n        return setIsLoading(false)\r\n      }\r\n      setIsLoading((isLoading) => false)\r\n      setProduct(result.data)\r\n      setProductImgs(result.data.Product_imgs)\r\n    })\r\n  }, [setIsLoading, id, history])\r\n\r\n  const { name, shortDesc, longDesc, price, discountPrice, quantity, status } =\r\n    product\r\n  let hasDiscount = price !== discountPrice ? true : false\r\n\r\n  return (\r\n    <PageWidth>\r\n      {isLoading && <IsLoadingComponent />}\r\n      <FullModal\r\n        open={isModalOpen}\r\n        content='已成功加入購物車 ! '\r\n        onClose={handleModalClose}\r\n      />\r\n      <ProductPageDiv>\r\n        <ProductTopContainer>\r\n          <ProductImgsComponent imgs={productImgs} />\r\n          <ProductUpInfoComponent\r\n            id={id}\r\n            name={name}\r\n            shortDesc={shortDesc}\r\n            imgs={productImgs}\r\n            price={price}\r\n            discountPrice={discountPrice}\r\n            hasDiscount={hasDiscount}\r\n            totalQuantity={quantity}\r\n            status={status}\r\n          />\r\n        </ProductTopContainer>\r\n        <ProductBottomInfoComponent longDesc={longDesc} />\r\n      </ProductPageDiv>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FONT_SIZE } from '../../constants/style'\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  font-weight: bold;\r\n  font-size: ${FONT_SIZE.xl};\r\n`\r\n\r\nexport default function NotFound() {\r\n  return <Wrapper>Page Not Found</Wrapper>\r\n}\r\n","import { getTokenFromLocalStorage } from '../utils'\r\n\r\nconst BASE_URL = 'https://api.coolizz.tw/admin'\r\n\r\nexport const adminLogin = async (username, password) => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        username,\r\n        password\r\n      })\r\n    })\r\n\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const adminCheck = async () => {\r\n  const token = getTokenFromLocalStorage()\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    const result = await res.json()\r\n    return result.ok\r\n  } catch (e) {\r\n    console.log(e)\r\n    return false\r\n  }\r\n}\r\n\r\nexport const getOrders = async (condition) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${condition}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getSingleOrder = async (ticketNo) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${ticketNo}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const updateOrderStatus = async (ticketNo, status) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${ticketNo}/${status}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const archiveOrder = async (ticketNo) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/orders/${ticketNo}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import { useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport styled from 'styled-components'\r\nimport { LoginBtn } from '../../../components/Button'\r\nimport { COLOR, ADMIN_COLOR, FONT_SIZE } from '../../../constants/style'\r\nimport { adminLogin } from '../../../webAPI/adminAPIs'\r\nimport { addTokenToLocalStorage } from '../../../utils'\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  min-width: 400px;\r\n  height: 50vh;\r\n  min-height: 400px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  text-align: center;\r\n`\r\nconst Title = styled.h1`\r\n  font-weight: bold;\r\n  font-size: ${FONT_SIZE.xxxl};\r\n  color: ${COLOR.text_black};\r\n  margin: -20px 0 40px 0;\r\n  letter-spacing: 2px;\r\n`\r\nconst FormContainer = styled.form`\r\n  width: 84%;\r\n  height: 80%;\r\n  margin: 0 auto;\r\n  padding: 20px 0;\r\n  background: ${ADMIN_COLOR.grey};\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`\r\nconst FormTitle = styled.h3`\r\n  font-size: ${FONT_SIZE.xl};\r\n  font-weight: bold;\r\n`\r\nconst Input = styled.input`\r\n  display: block;\r\n  width: 80%;\r\n  height: 50px;\r\n  padding: 8px;\r\n  margin: 6px 0;\r\n  border-radius: 3px;\r\n  border: 1px solid ${COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${COLOR.text_black};\r\n  }\r\n`\r\nconst Err = styled.p`\r\n  width: 77%;\r\n  text-align: left;\r\n  margin: -14px;\r\n  padding: 0;\r\n  height: 12px;\r\n  line-height: 4px;\r\n  color: ${ADMIN_COLOR.warning};\r\n  font-size: ${FONT_SIZE.sm};\r\n`\r\n\r\nexport default function AdminLogin() {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [errMsg, setErrMsg] = useState('')\r\n  let history = useHistory()\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault()\r\n    if (!username || !password) return setErrMsg('缺少帳號或密碼')\r\n    ;(async () => {\r\n      const res = await adminLogin(username, password)\r\n      if (!res.ok) return setErrMsg('帳號或密碼錯誤')\r\n      alert('登入成功')\r\n      addTokenToLocalStorage(res.token)\r\n      history.push('/admin/members')\r\n    })()\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Title>DAYEAYEAYEA 生活選物</Title>\r\n      <FormContainer onSubmit={handleLogin}>\r\n        <FormTitle>登入管理後臺</FormTitle>\r\n        <Input\r\n          placeholder='帳號'\r\n          onChange={(e) => {\r\n            setErrMsg('')\r\n            setUsername(e.target.value)\r\n          }}\r\n        ></Input>\r\n        <Input\r\n          type='password'\r\n          placeholder='密碼'\r\n          onChange={(e) => {\r\n            setErrMsg('')\r\n            setPassword(e.target.value)\r\n          }}\r\n        ></Input>\r\n        <Err>{errMsg}</Err>\r\n        <LoginBtn\r\n          buttonStyle={{\r\n            background: ADMIN_COLOR.Btn_darkgrey,\r\n            width: '80%',\r\n            height: '50px'\r\n          }}\r\n        >\r\n          登入\r\n        </LoginBtn>\r\n      </FormContainer>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import AdminLogin from './AdminLogin'\r\n\r\nexport default AdminLogin\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw/admin'\r\nexport const getAllMembers = async () => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/members`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e.toString())\r\n  }\r\n}\r\nexport const getMember = async (id) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/members/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e.toString())\r\n  }\r\n}\r\n\r\nexport const updateMemberLevel = async (id, level) => {\r\n  try {\r\n    const token = getTokenFromLocalStorage()\r\n    const result = await fetch(`${BASE_URL}/members/${id}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        level\r\n      })\r\n    })\r\n    return result.json()\r\n  } catch (e) {\r\n    console.log(e.toString())\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { COLOR, ADMIN_COLOR, ADMIN_MEDIA_QUERY } from '../../constants/style'\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 80vw;\r\n  margin: 0px auto;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    width: 70vw;\r\n    max-width: 1200px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1200px;\r\n  }\r\n`\r\nexport const ColumnHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  background: ${ADMIN_COLOR.table_blue};\r\n  padding: 10px 0px 10px 40px;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n`\r\nexport const Header = styled.div`\r\n  color: ${COLOR.text_light};\r\n  font-weight: bold;\r\n  width: unset;\r\n`\r\nexport const TableItemContainer = styled.div`\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  padding-bottom: 10px;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 0px 10px 40px;\r\n  border-top: 4px solid ${COLOR.light};\r\n`\r\nexport const Cell = styled.span`\r\n  width: unset;\r\n  word-break: break-word;\r\n`\r\nexport const EditBtn = styled(Link)`\r\n  background: ${ADMIN_COLOR.editBtn_grey};\r\n  color: ${COLOR.text_light};\r\n  padding: 6px 10px;\r\n  border-radius: 3px;\r\n  transition: background 0.2s ease;\r\n  &:hover {\r\n    background: ${ADMIN_COLOR.editBtn_grey_hover};\r\n    color: ${COLOR.text_light};\r\n  }\r\n`\r\n","import { Container, Cell } from '../TableStyle'\r\nimport { GeneralBtn } from '../../Button'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Btn = styled(Link)`\r\n  button {\r\n    min-width: 80px;\r\n    width: 50%;\r\n    background: ${ADMIN_COLOR.Btn_grey};\r\n    &:hover {\r\n      background: ${ADMIN_COLOR.Btn_grey_hover};\r\n    }\r\n  }\r\n`\r\nconst RestyledCell = styled(Cell)`\r\n  word-wrap: break-word;\r\n  padding: 0 4px;\r\n`\r\n\r\nexport default function TableItem({ member }) {\r\n  const calTotalPrice =\r\n    member.Orders.length > 0\r\n      ? member?.Orders.map((order) => order.subTotal).reduce(\r\n          (total, num) => total + num\r\n        )\r\n      : 0\r\n  return (\r\n    <Container>\r\n      <RestyledCell style={{ width: '19%' }}>{member.username}</RestyledCell>\r\n      <RestyledCell style={{ width: '50%' }}>{member.email}</RestyledCell>\r\n      <RestyledCell style={{ width: '20%' }}>\r\n        {member.Orders.length}\r\n      </RestyledCell>\r\n      <RestyledCell style={{ width: '13%' }}>{calTotalPrice}</RestyledCell>\r\n      <RestyledCell style={{ width: '16%' }}>\r\n        <Btn to={`/admin/members/${member.id}`}>\r\n          <GeneralBtn children={'詳情'} />\r\n        </Btn>\r\n      </RestyledCell>\r\n    </Container>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\nimport { useEffect } from 'react'\r\nimport { GeneralBtn } from '../../Button'\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n`\r\nconst Input = styled.input`\r\n  width: 400px;\r\n  padding: 10px 10px 10px 40px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst StyledSearchIcon = styled(FontAwesomeIcon)`\r\n  font-size: 14px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 12px;\r\n  transform: translate(0, -50%);\r\n`\r\n\r\nexport function Search({ value, setValue }) {\r\n  const [isSearching, setIsSearching] = useState(false)\r\n  useEffect(() => {\r\n    value ? setIsSearching(true) : setIsSearching(false)\r\n  }, [value])\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <StyledSearchIcon icon={faSearch} />\r\n      <Input\r\n        placeholder={'輸入帳號、信箱、名稱或是電話來搜尋使用者'}\r\n        value={value}\r\n        onChange={handleChange}\r\n      ></Input>\r\n      {isSearching && (\r\n        <GeneralBtn\r\n          onClick={() => {\r\n            setValue('')\r\n          }}\r\n          color={'admin_blue'}\r\n          children={'清除搜尋'}\r\n          buttonStyle={{ width: '100px', marginLeft: '20px' }}\r\n        />\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nimport styled from 'styled-components'\r\nimport { getAllMembers } from '../../../webAPI/adminMembersAPI'\r\nimport {\r\n  Wrapper,\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer\r\n} from '../../../components/admin/TableStyle'\r\nimport { ADMIN_MEDIA_QUERY } from '../../../constants/style'\r\nimport TableItem from '../../../components/admin/memberManage/MemberItem'\r\nimport { Search } from '../../../components/admin/memberManage/Search'\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  border: 1px solid transparent;\r\n  margin: 40px auto;\r\n  width: 76%;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    width: 60%;\r\n  }\r\n`\r\nconst SearchContainer = styled.div`\r\n  margin: 20px auto;\r\n  display: flex;\r\n  width: 78vw;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    width: 68vw;\r\n    max-width: 1180px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1180px;\r\n  }\r\n`\r\nconst RestyleHeader = styled(Header)`\r\n  width: 12%;\r\n  width: ${({ $name }) => $name === 'Email' && '38%'};\r\n  width: ${({ $name }) => $name === '訂單編號' && '26%'};\r\n`\r\nconst headerNames = ['帳號名稱', 'Email', '訂單數', '消費總金額', 'Edit']\r\nconst Msg = styled.div`\r\n  text-align: center;\r\n  padding: 30px;\r\n`\r\nexport default function AdminMembers() {\r\n  const [members, setMembers] = useState(() => {\r\n    ;(async () => {\r\n      const result = await getAllMembers()\r\n      setMembers(result.data)\r\n    })()\r\n  })\r\n  const [value, setValue] = useState('')\r\n  const [membersFilter, setMembersFilter] = useState()\r\n  useEffect(() => {\r\n    let reg = new RegExp(value, 'i')\r\n    value\r\n      ? setMembersFilter(\r\n          members.filter(\r\n            (member) =>\r\n              reg.test(member.username) ||\r\n              reg.test(member.email) ||\r\n              reg.test(member.fullname) ||\r\n              reg.test(member.phone)\r\n          )\r\n        )\r\n      : setMembersFilter(members)\r\n  }, [members, value])\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <SearchContainer>\r\n        <Search value={value} setValue={setValue} />\r\n      </SearchContainer>\r\n      <Wrapper>\r\n        <ColumnHeader>\r\n          {headerNames.map((name) => (\r\n            <RestyleHeader key={name} $name={name}>\r\n              {name}\r\n            </RestyleHeader>\r\n          ))}\r\n        </ColumnHeader>\r\n        <TableItemContainer>\r\n          {membersFilter &&\r\n            membersFilter\r\n              .sort((a, b) => b.id - a.id)\r\n              .map((member) => <TableItem key={member.id} member={member} />)}\r\n          {!membersFilter?.length && <Msg>沒有符合條件的客人</Msg>}\r\n        </TableItemContainer>\r\n      </Wrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import { Container, Cell } from '../TableStyle'\r\nimport { GeneralBtn } from '../../Button'\r\nimport styled from 'styled-components'\r\nimport { useHistory } from 'react-router'\r\nconst RestyledCell = styled(Cell)`\r\n  width: 12%;\r\n  padding: 0 4px;\r\n`\r\n\r\nexport default function TableItem({ order }) {\r\n  const location = useHistory()\r\n  const calTotalPrice = (order) => {\r\n    let format = 'NT$ X'\r\n    return format.replace('X', order.subTotal)\r\n  }\r\n  return (\r\n    <Container>\r\n      <RestyledCell>{order.status}</RestyledCell>\r\n      <RestyledCell style={{ width: '25%' }}>{order.ticketNo}</RestyledCell>\r\n      <RestyledCell style={{ width: '39%' }}>{order.orderEmail}</RestyledCell>\r\n      <RestyledCell>{calTotalPrice(order)}</RestyledCell>\r\n      <RestyledCell>\r\n        <GeneralBtn\r\n          onClick={() => location.push(`/admin/orders/${order.ticketNo}`)}\r\n          color='admin_grey'\r\n          children={'訂單詳情'}\r\n          buttonStyle={{ minWidth: '80px', width: '50%' }}\r\n        />\r\n      </RestyledCell>\r\n    </Container>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useHistory } from 'react-router'\r\nimport {\r\n  Wrapper,\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer\r\n} from '../../../components/admin/TableStyle'\r\nimport OrderItem from '../../../components/admin/memberManage/OrderItem'\r\nimport { GeneralBtn, LogoutBtn } from '../../../components/Button'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\nimport { useForm } from 'react-hook-form'\r\nimport { updateMemberLevel } from '../../../webAPI/adminMembersAPI'\r\nimport { useParams } from 'react-router-dom'\r\nimport { getMember } from '../../../webAPI/adminMembersAPI'\r\nconst PageWrapper = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  border: 1px solid transparent;\r\n  padding: 40px 0px;\r\n`\r\nconst MemberWrapper = styled.div`\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  position: relative;\r\n  padding: 20px 30px;\r\n  margin: 25px 0px;\r\n`\r\n\r\nconst List = styled.div`\r\n  margin: 30px;\r\n`\r\nconst ListTitle = styled.span`\r\n  margin-right: 20px;\r\n  font-weight: bold;\r\n`\r\nconst ListData = styled.span``\r\n\r\nconst EditButton = styled.div`\r\n  width: 100px;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 30px;\r\n`\r\nconst Msg = styled.div`\r\n  text-align: center;\r\n  padding: 30px;\r\n`\r\nconst RestyleHeader = styled(Header)`\r\n  width: 12%;\r\n  width: ${({ $name }) => $name === 'Email' && '38%'};\r\n  width: ${({ $name }) => $name === '訂單編號' && '26%'};\r\n`\r\nconst headerNames = ['訂單狀態', '訂單編號', 'Email', '訂單金額', 'Edit']\r\nexport default function AdminMemberDetail() {\r\n  let { id } = useParams()\r\n  const location = useHistory()\r\n  const [isEdit, setIsEdit] = useState(false)\r\n  const [memberDetail, setMemberDetail] = useState(() => {\r\n    ;(async () => {\r\n      const result = await getMember(id)\r\n      setMemberDetail(result.data)\r\n    })()\r\n  })\r\n  const handleEdit = () => {\r\n    isEdit ? setIsEdit(false) : setIsEdit(true)\r\n  }\r\n  const { register, handleSubmit, setValue } = useForm()\r\n\r\n  useEffect(() => {\r\n    setValue('level', memberDetail?.level)\r\n  }, [memberDetail?.level, setValue])\r\n\r\n  const onSubmit = async (submitData) => {\r\n    const result = await updateMemberLevel(memberDetail.id, submitData.level)\r\n    if (result.ok === 0) {\r\n      console.log(result.message)\r\n      return false\r\n    }\r\n    setMemberDetail({ ...memberDetail, level: submitData.level })\r\n    alert('已編輯完成!')\r\n    handleEdit()\r\n  }\r\n  return (\r\n    <PageWrapper>\r\n      <Wrapper>\r\n        <LogoutBtn\r\n          onClick={() => {\r\n            setMemberDetail(null)\r\n            location.push('/admin/members')\r\n          }}\r\n          color={'admin_blue'}\r\n          children={'回會員列表'}\r\n          buttonStyle={{ width: '120px' }}\r\n        />\r\n        <MemberWrapper>\r\n          <List>\r\n            <ListTitle>帳號:</ListTitle>\r\n\r\n            <ListData children={memberDetail?.username} />\r\n          </List>\r\n          <List>\r\n            <ListTitle>信箱:</ListTitle>\r\n\r\n            <ListData children={memberDetail?.email} />\r\n          </List>\r\n          <List>\r\n            <ListTitle>名稱:</ListTitle>\r\n\r\n            <ListData children={memberDetail?.fullname} />\r\n          </List>\r\n          <List>\r\n            <ListTitle>電話:</ListTitle>\r\n\r\n            <ListData children={memberDetail?.phone} />\r\n          </List>\r\n          <List>\r\n            <ListTitle>地址:</ListTitle>\r\n\r\n            <ListData children={memberDetail?.address} />\r\n          </List>\r\n          <List>\r\n            <ListTitle>會員等級:</ListTitle>\r\n            {!isEdit && <ListData children={memberDetail?.level} />}\r\n            {isEdit && (\r\n              <select {...register('level')}>\r\n                <option value='normal'>normal</option>\r\n                <option value='vip'>vip</option>\r\n              </select>\r\n            )}\r\n          </List>\r\n          <EditButton onClick={isEdit ? handleSubmit(onSubmit) : handleEdit}>\r\n            <GeneralBtn\r\n              children={isEdit ? '儲存' : '編輯'}\r\n              color={isEdit ? 'admin_blue' : 'admin_grey'}\r\n            />\r\n          </EditButton>\r\n        </MemberWrapper>\r\n        <ColumnHeader>\r\n          {headerNames.map((name) => (\r\n            <RestyleHeader key={name} $name={name}>\r\n              {name}\r\n            </RestyleHeader>\r\n          ))}\r\n        </ColumnHeader>\r\n\r\n        <TableItemContainer>\r\n          {!memberDetail?.Orders.length && <Msg>客人還沒有訂單喔!</Msg>}\r\n          {memberDetail?.Orders.sort((a, b) => b.id - a.id).map((order) => (\r\n            <OrderItem key={order.id} order={order} />\r\n          ))}\r\n        </TableItemContainer>\r\n      </Wrapper>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { css } from '@emotion/react'\r\nimport SyncLoader from 'react-spinners/SyncLoader'\r\nimport { ADMIN_COLOR } from '../../constants/style'\r\n\r\nconst FixedBackground = styled.div`\r\n  position: fixed;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst IsLoadingStyle = styled.div`\r\n  margin: 0 auto;\r\n  position: fixed;\r\n  z-index: 4;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`\r\n\r\nexport function AdminIsLoadingComponent() {\r\n  return (\r\n    <FixedBackground>\r\n      <IsLoadingStyle>\r\n        <SyncLoader\r\n          color={ADMIN_COLOR.table_blue}\r\n          css={override}\r\n          size='13px'\r\n          margin='15px'\r\n          speedMultiplier='2'\r\n        />\r\n      </IsLoadingStyle>\r\n    </FixedBackground>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { useState, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`\r\nconst Input = styled.input`\r\n  width: 200px;\r\n  padding: 10px 10px 10px 40px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst StyledSearchIcon = styled(FontAwesomeIcon)`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 10px;\r\n  transform: translate(0, -50%);\r\n  cursor: pointer;\r\n`\r\nconst Dropdown = styled.select`\r\n  width: 200px;\r\n  padding: 10px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  margin-left: 12px;\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nconst keywordsSearch = (history, setInputValue, keyword) => {\r\n  history.push(`/admin/products/1?search=${keyword}`)\r\n  setInputValue((inputValue) => '')\r\n}\r\n\r\nfunction CategoryDropdown({ onChange }) {\r\n  return (\r\n    <Dropdown\r\n      name='filter'\r\n      id='filter'\r\n      onChange={onChange}\r\n      defaultValue={'DEFAULT'}\r\n    >\r\n      <option value='DEFAULT' disabled>\r\n        商品分類\r\n      </option>\r\n      <option value='all'>所有商品</option>\r\n      <option value='home'>居家生活</option>\r\n      <option value='apparel'>服飾配件</option>\r\n      <option value='kitchenware'>廚房餐具</option>\r\n      <option value='food'>食材雜貨</option>\r\n      <option value='stationery'>設計文具</option>\r\n      <option value='outdoor'>休閒戶外</option>\r\n    </Dropdown>\r\n  )\r\n}\r\n\r\nfunction Search() {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const keyword = inputValue.trim('').replace(/ /g, '%2B')\r\n  const history = useHistory()\r\n\r\n  const handleOnChange = useCallback((e) => {\r\n    setInputValue(e.target.value)\r\n  }, [])\r\n\r\n  const handleOnClick = useCallback(() => {\r\n    keywordsSearch(history, setInputValue, keyword)\r\n  }, [history, keyword])\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e) => {\r\n      if (e.keyCode !== 13) return\r\n      keywordsSearch(history, setInputValue, keyword)\r\n    },\r\n    [history, keyword]\r\n  )\r\n\r\n  return (\r\n    <Wrapper>\r\n      <StyledSearchIcon icon={faSearch} onClick={handleOnClick} />\r\n      <Input\r\n        placeholder='搜尋商品'\r\n        type='text'\r\n        name='search'\r\n        value={inputValue}\r\n        onChange={handleOnChange}\r\n        onKeyDown={handleKeyDown}\r\n      ></Input>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport { CategoryDropdown, Search, StyledSearchIcon, Wrapper, Input }\r\n","import { getTokenFromLocalStorage } from '../utils'\r\nconst BASE_URL = 'https://api.coolizz.tw/admin'\r\n\r\nexport const getAllProducts = async () => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const changeProductStatus = async (id, newStatus) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        status: newStatus\r\n      })\r\n    })\r\n    return await res.json().then((result) => alert(result.message))\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const changeProductQuantity = async (id, newQuantity) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        quantity: newQuantity\r\n      })\r\n    })\r\n    return await res.json().then((result) => alert(result.message))\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const searchProductsFromAdmin = async (keywords) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${keywords}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getProductById = async (id) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const changeProductInfoById = async (id, newInfo) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(newInfo)\r\n    })\r\n    return await res.json().then((result) => alert(result.message))\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const deleteProductById = async (id) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const createNewProduct = async (newProduct) => {\r\n  const token = getTokenFromLocalStorage()\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/products/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(newProduct)\r\n    })\r\n    return await res.json()\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useCallback } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {\r\n  changeProductStatus,\r\n  changeProductQuantity,\r\n  deleteProductById\r\n} from '../../../webAPI/adminProductsAPI'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport { ItemCounter } from '../../../components/Counter'\r\nimport {\r\n  Wrapper,\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer,\r\n  Container,\r\n  Cell\r\n} from '../TableStyle'\r\n\r\nconst TableWrapper = styled(Wrapper)`\r\n  width: 95%;\r\n`\r\n\r\nconst NameHeader = styled(Header)`\r\n  text-align: center;\r\n  width: 13%;\r\n  width: ${({ $name }) => $name === '商品名稱' && '20%'};\r\n  width: ${({ $name }) => $name === '商品預覽' && '15%'};\r\n  margin: 0px 5px;\r\n`\r\nconst GeneralCell = styled(Cell)`\r\n  text-align: center;\r\n  margin: 0px 6px;\r\n`\r\nconst NameCell = styled(GeneralCell)`\r\n  width: 20%;\r\n`\r\nconst ProductCell = styled(GeneralCell)`\r\n  width: 13%;\r\n`\r\nconst ImgCell = styled(GeneralCell)`\r\n  width: 15%;\r\n  height: 80px;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  margin: 0px 3px;\r\n`\r\nconst QuantityCounter = styled(ItemCounter)`\r\n  background-color: transparent;\r\n`\r\nconst ButtonContainer = styled.div`\r\n  width: 70%;\r\n  margin: 0px auto;\r\n`\r\nfunction StatusButton({ id, status }) {\r\n  let color = status === 'on' ? 'admin_blue' : 'admin_grey'\r\n  let content = status === 'on' ? '上架中' : '下架中'\r\n  return (\r\n    <GeneralBtn color={color} id={id}>\r\n      {content}\r\n    </GeneralBtn>\r\n  )\r\n}\r\n\r\nfunction TableItem({ product }) {\r\n  const {\r\n    id,\r\n    name,\r\n    price,\r\n    discountPrice,\r\n    quantity,\r\n    article,\r\n    status,\r\n    Product_imgs\r\n  } = product\r\n  const [productQuantity, setProductQuantity] = useState(quantity)\r\n  const [productStatus, setProductStatus] = useState(status)\r\n  const length = Product_imgs.length\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [productImg, setProductImg] = useState(\r\n    Product_imgs && Product_imgs[length - 1].imgUrlSm\r\n  )\r\n  let history = useHistory()\r\n  const handleCount = useCallback(\r\n    (type, id) => {\r\n      let changeQuantity\r\n      if (type === 'increment') changeQuantity = productQuantity + 1\r\n      if (type === 'decrement') {\r\n        changeQuantity = productQuantity <= 1 ? 1 : productQuantity - 1\r\n      }\r\n      setProductQuantity(changeQuantity)\r\n      changeProductQuantity(id, changeQuantity, product)\r\n    },\r\n    [productQuantity, setProductQuantity, product]\r\n  )\r\n\r\n  const handleChange = useCallback((e) => {\r\n    const changeQuantity = e.target.value ? parseInt(e.target.value) : ''\r\n    changeQuantity && changeQuantity < 1\r\n      ? setProductQuantity((productQuantity) => 1)\r\n      : setProductQuantity((productQuantity) => changeQuantity)\r\n  }, [])\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetId = Number(e.target.id)\r\n      let changeQuantity = e.target.value ? parseInt(e.target.value) : 1\r\n      if (changeQuantity < 1) changeQuantity = 1\r\n      setProductQuantity((productQuantity) => changeQuantity)\r\n      changeProductQuantity(targetId, changeQuantity, product)\r\n    },\r\n    [product]\r\n  )\r\n\r\n  const handleOnStatusClick = useCallback(\r\n    (e) => {\r\n      const targetId = Number(e.target.id)\r\n      let newStatus = productStatus === 'on' ? 'off' : 'on'\r\n      setProductStatus(newStatus)\r\n      changeProductStatus(targetId, newStatus, product)\r\n    },\r\n    [productStatus, product]\r\n  )\r\n\r\n  const handleOnDeleteClick = useCallback(\r\n    (e) => {\r\n      const targetId = Number(e.target.id)\r\n      deleteProductById(targetId).then((result) => {\r\n        if (!result) return\r\n        if (result.ok === 0) return alert(result.message)\r\n        alert('成功刪除商品')\r\n        history.go(0)\r\n      })\r\n    },\r\n    [history]\r\n  )\r\n\r\n  return (\r\n    <Container>\r\n      <ImgCell style={{ backgroundImage: `url(${productImg})` }}></ImgCell>\r\n      <NameCell>{name}</NameCell>\r\n      <ProductCell>NT. {price}</ProductCell>\r\n      <ProductCell>NT. {discountPrice}</ProductCell>\r\n      <ProductCell>\r\n        <QuantityCounter\r\n          targetId={id}\r\n          buttonStyle={{ margin: '0px 4px' }}\r\n          handleChange={handleChange}\r\n          handleCount={handleCount}\r\n          handleOnBlur={handleOnBlur}\r\n          count={productQuantity}\r\n        />\r\n      </ProductCell>\r\n      <ProductCell>{article}</ProductCell>\r\n      <ProductCell>\r\n        <ButtonContainer onClick={handleOnStatusClick} id={id}>\r\n          <StatusButton status={productStatus} id={id} />\r\n        </ButtonContainer>\r\n      </ProductCell>\r\n      <ProductCell>\r\n        <ButtonContainer>\r\n          <Link to={`/admin/products/detail/${id}`}>\r\n            <GeneralBtn color='admin_blue'>進入</GeneralBtn>\r\n          </Link>\r\n        </ButtonContainer>\r\n      </ProductCell>\r\n      <ProductCell>\r\n        <ButtonContainer onClick={handleOnDeleteClick} id={id}>\r\n          <GeneralBtn color='admin_grey' id={id}>\r\n            刪除\r\n          </GeneralBtn>\r\n        </ButtonContainer>\r\n      </ProductCell>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default function Table({ products }) {\r\n  const headerNames = [\r\n    '商品預覽',\r\n    '商品名稱',\r\n    '商品售價',\r\n    '特價價格',\r\n    '庫存數量',\r\n    '活動文章',\r\n    '上下架',\r\n    '詳情',\r\n    '刪除'\r\n  ]\r\n\r\n  return (\r\n    <TableWrapper>\r\n      <ColumnHeader>\r\n        {headerNames.map((name) => (\r\n          <NameHeader key={name} $name={name}>\r\n            {name}\r\n          </NameHeader>\r\n        ))}\r\n      </ColumnHeader>\r\n      <TableItemContainer>\r\n        {products &&\r\n          products.map((product) => (\r\n            <TableItem key={product.id} product={product} />\r\n          ))}\r\n      </TableItemContainer>\r\n    </TableWrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { ADMIN_COLOR, FONT_SIZE } from '../../constants/style'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst PaginatorButtonStyle = styled(Link)`\r\n  background: transport;\r\n  color: ${ADMIN_COLOR.Btn_grey};\r\n  margin: 0px 4px;\r\n  padding: 0px 4px;\r\n  font-size: ${FONT_SIZE.md};\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n  font-weight: bold;\r\n  border-bottom: 1px solid ${ADMIN_COLOR.border_grey};\r\n  `}\r\n`\r\n\r\nexport function PaginatorButton({ to, page, active }) {\r\n  return (\r\n    <PaginatorButtonStyle key={page} to={to} $active={active}>\r\n      {page}\r\n    </PaginatorButtonStyle>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useState, useLayoutEffect, useCallback, useContext } from 'react'\r\nimport { useParams, useLocation, useHistory, Link } from 'react-router-dom'\r\nimport { LoadingContext } from '../../../context'\r\nimport { AdminIsLoadingComponent } from '../../../components/admin/AdminIsLoading'\r\nimport {\r\n  CategoryDropdown,\r\n  Search\r\n} from '../../../components/admin/productManage/Search'\r\nimport Table from '../../../components/admin/productManage/Table'\r\nimport { PaginatorButton } from '../../../components/admin/PaginatorStyle'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport {\r\n  getAllProducts,\r\n  searchProductsFromAdmin\r\n} from '../../../webAPI/adminProductsAPI'\r\nimport { setAdminProductsPageInArray } from '../../../utils'\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  border: 1px solid transparent;\r\n  padding: 40px 20px;\r\n`\r\nconst SearchContainer = styled.div`\r\n  margin: 20px auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 95%;\r\n`\r\n\r\nconst SearchSideContainer = styled.div`\r\n  display: flex;\r\n`\r\nconst PaginatorDiv = styled.div`\r\n  margin: 10px auto;\r\n`\r\n\r\nexport default function AdminProducts() {\r\n  const [products, setProducts] = useState([])\r\n  const [categoryFilter, setCategoryFilter] = useState('all')\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const { page } = useParams()\r\n  const keywords = useLocation().search\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const productsPerPage = 10\r\n  const perPageSliceStart = (Number(page) - 1) * productsPerPage\r\n  const perPageSliceEnd = Number(page) * productsPerPage\r\n  let showProductsList\r\n  let pagesArray\r\n  let showProductsByPage\r\n\r\n  useLayoutEffect(() => {\r\n    setIsLoading(true)\r\n    if (keywords) {\r\n      searchProductsFromAdmin(keywords).then((result) => {\r\n        if (!result) return setIsLoading((isLoading) => true)\r\n        if (result.ok === 0) {\r\n          return history.push('/404')\r\n        }\r\n        setIsLoading(false)\r\n        setProducts(result.data)\r\n      })\r\n    }\r\n    if (!keywords) {\r\n      getAllProducts().then((result) => {\r\n        if (!result) return setIsLoading((isLoading) => true)\r\n        if (result.ok === 0) {\r\n          return history.push('/404')\r\n        }\r\n        setIsLoading(false)\r\n        setProducts(result.data)\r\n      })\r\n    }\r\n  }, [keywords, history, setIsLoading])\r\n\r\n  if (products) {\r\n    showProductsList = products.filter((product) =>\r\n      categoryFilter === 'all' ? product : product.category === categoryFilter\r\n    )\r\n    pagesArray = setAdminProductsPageInArray(showProductsList.length).pagesArray\r\n    showProductsByPage = showProductsList.slice(\r\n      perPageSliceStart,\r\n      perPageSliceEnd\r\n    )\r\n  }\r\n\r\n  const handleDropDownChange = useCallback(\r\n    (e) => {\r\n      setCategoryFilter((categoryFilter) => e.target.value)\r\n      if (keywords) {\r\n        history.push('/admin/products/1')\r\n      }\r\n      if (location.pathname !== '/admin/products/1')\r\n        history.push('/admin/products/1')\r\n    },\r\n    [history, location, keywords]\r\n  )\r\n\r\n  return (\r\n    <PageWrapper>\r\n      {isLoading && <AdminIsLoadingComponent />}\r\n      <SearchContainer>\r\n        <SearchSideContainer>\r\n          <Search />\r\n          <CategoryDropdown onChange={handleDropDownChange} />\r\n        </SearchSideContainer>\r\n        <SearchSideContainer>\r\n          <Link style={{ width: '100px' }} to={'/admin/products/add'}>\r\n            <GeneralBtn color='admin_blue'>新增商品</GeneralBtn>\r\n          </Link>\r\n        </SearchSideContainer>\r\n      </SearchContainer>\r\n      <Table products={showProductsByPage} />\r\n      <PaginatorDiv>\r\n        {pagesArray &&\r\n          pagesArray.map((pageValue) => {\r\n            return (\r\n              <PaginatorButton\r\n                key={pageValue}\r\n                page={pageValue}\r\n                to={`/admin/products/${pageValue}`}\r\n                active={pageValue === parseInt(page)}\r\n              ></PaginatorButton>\r\n            )\r\n          })}\r\n      </PaginatorDiv>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { ADMIN_COLOR, COLOR } from '../../../constants/style'\r\nimport styled from 'styled-components'\r\n\r\nconst TabWrapper = styled.div`\r\n  display: flex;\r\n`\r\nconst Tab = styled.div`\r\n  transition: 0.2s ease-out;\r\n  width: 100%;\r\n  padding: 10px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  box-shadow: inset 0px -0.5px 0.2px ${COLOR.grey};\r\n  text-align: center;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    color: ${COLOR.text_dark};\r\n    background: none;\r\n    box-shadow: none;\r\n  `};\r\n`\r\n// preset 預設顯示 tab\r\nexport const Tabs = ({ tabs, tabsPanel, presetTab }) => {\r\n  const [activeTab, setActiveTab] = useState(presetTab)\r\n  return (\r\n    <>\r\n      <TabWrapper>\r\n        {tabs.map((tab, index) => (\r\n          <Tab\r\n            key={index}\r\n            $active={activeTab === index}\r\n            onClick={() => {\r\n              setActiveTab(index)\r\n            }}\r\n            children={tab}\r\n          />\r\n        ))}\r\n      </TabWrapper>\r\n      {tabsPanel[activeTab]}\r\n    </>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { ADMIN_COLOR, COLOR, FONT_SIZE } from '../../../constants/style'\r\nimport { EditBtn, LogoutBtn, SaveBtn } from '../../../components/Button'\r\n\r\nconst FormWrapper = styled.div`\r\n  min-height: 850px;\r\n  height: 850px;\r\n  transition: 1.5s;\r\n  width: 90%;\r\n  margin: 30px auto;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n`\r\nconst Form = styled.form`\r\n  padding: 20px 0px 50px 0px;\r\n  height: 100%;\r\n`\r\nconst Input = styled.input`\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst InputTitle = styled.div`\r\n  display: flex;\r\n  height: 20xp;\r\n  font-size: ${FONT_SIZE.md};\r\n  margin-bottom: 10px;\r\n  word-break: break-all;\r\n\r\n  & span {\r\n    margin-left: 10px;\r\n    margin-top: 3px;\r\n    color: ${ADMIN_COLOR.warning};\r\n    font-size: ${FONT_SIZE.xs};\r\n    font-weight: bold;\r\n    text-align: left;\r\n  }\r\n`\r\nconst FormTitle = styled.div`\r\n  font-size: ${FONT_SIZE.lg};\r\n  color: ${ADMIN_COLOR.table_blue};\r\n`\r\nconst FormTitleBorder = styled.div`\r\n  margin-top: 5px;\r\n  border-top: 1px solid ${ADMIN_COLOR.border_grey};\r\n`\r\n\r\nconst ErrorMsg = styled.p`\r\n  margin-top: 5px;\r\n  color: ${ADMIN_COLOR.warning};\r\n  font-size: ${FONT_SIZE.xs};\r\n  font-weight: bold;\r\n  text-align: left;\r\n`\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 10px 0px 50px 0px;\r\n`\r\n\r\nconst ButtonDiv = styled.div`\r\n  width: 15%;\r\n  margin: 0px 8px;\r\n`\r\nfunction ButtonForImgForm({ onLeaveClick, onSaveClick, isChecked }) {\r\n  return (\r\n    <ButtonContainer>\r\n      <ButtonDiv onClick={onSaveClick}>\r\n        <SaveBtn color={isChecked ? 'admin_blue' : ''}>儲存</SaveBtn>\r\n      </ButtonDiv>\r\n      <ButtonDiv onClick={onLeaveClick}>\r\n        <LogoutBtn color='admin_blue'>離開</LogoutBtn>\r\n      </ButtonDiv>\r\n    </ButtonContainer>\r\n  )\r\n}\r\n\r\nfunction ButtonGroup({\r\n  status,\r\n  onEditClick,\r\n  onSaveClick,\r\n  onLeaveClick,\r\n  isValid\r\n}) {\r\n  return (\r\n    <ButtonContainer>\r\n      {status === 'edit' ? (\r\n        <ButtonDiv onClick={onEditClick}>\r\n          <EditBtn color='admin_blue'>編輯</EditBtn>\r\n        </ButtonDiv>\r\n      ) : (\r\n        <ButtonDiv onClick={onSaveClick}>\r\n          <SaveBtn color={isValid ? 'admin_blue' : ''}>儲存</SaveBtn>\r\n        </ButtonDiv>\r\n      )}\r\n      <ButtonDiv onClick={onLeaveClick}>\r\n        <LogoutBtn color='admin_blue'>離開</LogoutBtn>\r\n      </ButtonDiv>\r\n    </ButtonContainer>\r\n  )\r\n}\r\n\r\nfunction ButtonGroupForAdd({ onSaveClick, onLeaveClick }) {\r\n  return (\r\n    <ButtonContainer>\r\n      <ButtonDiv onClick={onSaveClick}>\r\n        <SaveBtn color='admin_blue'>儲存</SaveBtn>\r\n      </ButtonDiv>\r\n      <ButtonDiv onClick={onLeaveClick}>\r\n        <LogoutBtn color='admin_blue'>離開</LogoutBtn>\r\n      </ButtonDiv>\r\n    </ButtonContainer>\r\n  )\r\n}\r\n\r\nfunction FormTitleComponent({ title }) {\r\n  return (\r\n    <FormTitle>\r\n      {title}\r\n      <FormTitleBorder />\r\n    </FormTitle>\r\n  )\r\n}\r\n\r\n//InfoForm\r\nconst SelectedComponent = styled.div`\r\n  width: 33%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\nconst DropdownStyle = styled.select`\r\n  width: 200px;\r\n  padding: 8px;\r\n  margin-top: 3px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nfunction Dropdown({ onChange, valueArray, productValue, disabled, name }) {\r\n  return (\r\n    <DropdownStyle\r\n      name={name}\r\n      id='filter'\r\n      onChange={onChange}\r\n      defaultValue={productValue}\r\n    >\r\n      {valueArray.map((value) => {\r\n        return (\r\n          <option key={value} value={value} disabled={disabled}>\r\n            {value}\r\n          </option>\r\n        )\r\n      })}\r\n    </DropdownStyle>\r\n  )\r\n}\r\n\r\nfunction ForNewDropdown({ onChange, valueArray, name }) {\r\n  return (\r\n    <DropdownStyle\r\n      name={name}\r\n      id='filter'\r\n      onChange={onChange}\r\n      defaultValue={valueArray[0]}\r\n    >\r\n      {valueArray.map((value) => {\r\n        return (\r\n          <option key={value} value={value}>\r\n            {value}\r\n          </option>\r\n        )\r\n      })}\r\n    </DropdownStyle>\r\n  )\r\n}\r\n\r\nconst PriceInputContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst InputMark = styled.div`\r\n  width: 12%;\r\n  padding: 3px;\r\n  border-radius: 3px 0px 0px 3px;\r\n  text-align: center;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey} !important;\r\n  border-right: none !important;\r\n  background-color: ${ADMIN_COLOR.light_grey};\r\n`\r\n\r\nconst PriceInputStyle = styled.input`\r\n  display: block;\r\n  width: 53%;\r\n  padding: 3px;\r\n  border-radius: 0px 3px 3px 0px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  }\r\n`\r\n\r\nfunction PriceInput({ value, onChange, onBlur, name, disabled }) {\r\n  return (\r\n    <PriceInputContainer>\r\n      <InputMark style={{ border: '1px solid gray' }}>$</InputMark>\r\n      <PriceInputStyle\r\n        type='text'\r\n        value={value}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n        name={name}\r\n        disabled={disabled}\r\n      ></PriceInputStyle>\r\n    </PriceInputContainer>\r\n  )\r\n}\r\n\r\nconst QuantityInputStyle = styled.input`\r\n  display: block;\r\n  width: 22%;\r\n  padding: 3px;\r\n  border-radius: 0px 3px 3px 0px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  }\r\n`\r\n\r\nexport {\r\n  FormWrapper,\r\n  Form,\r\n  Input,\r\n  InputTitle,\r\n  ErrorMsg,\r\n  FormTitle,\r\n  FormTitleBorder,\r\n  FormTitleComponent,\r\n  Dropdown,\r\n  ForNewDropdown,\r\n  ButtonGroup,\r\n  ButtonGroupForAdd,\r\n  ButtonForImgForm,\r\n  PriceInput,\r\n  SelectedComponent,\r\n  QuantityInputStyle\r\n}\r\n","import { useEffect, useCallback, useState } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { imgVerify } from '../../../../utils'\r\nimport { FONT_SIZE, ADMIN_COLOR } from '../../../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { changeProductInfoById } from '../../../../webAPI/adminProductsAPI'\r\nimport {\r\n  Form,\r\n  Input,\r\n  InputTitle,\r\n  ErrorMsg,\r\n  FormTitleComponent,\r\n  ButtonForImgForm\r\n} from '../FormStyle'\r\n\r\nconst CheckIcon = styled(FontAwesomeIcon)`\r\n  margin-left: 10px;\r\n  margin-top: 60px;\r\n  cursor: pointer;\r\n`\r\n\r\nconst EditIcon = styled(CheckIcon)`\r\n  color: ${ADMIN_COLOR.Btn_darkgrey};\r\n`\r\n\r\nconst ImgInput = styled(Input)`\r\n  margin-top: 3px;\r\n`\r\nconst ImgForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\n\r\nconst ImgInputOutContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 29%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst FormContentContainer = styled.div`\r\n  margin-top: 40px;\r\n  height: 100%;\r\n`\r\n\r\nconst ImgPreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 22%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 76%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlWithTitleContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin: 43px 5px 0px 0px;\r\n  width: 100%;\r\n`\r\nconst SmallTitle = styled.div`\r\n  font-size: ${FONT_SIZE.xs};\r\n  margin: 5px 0px;\r\n`\r\nconst ImgInputContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\nconst ImgContainer = styled.div`\r\n  display: flex;\r\n  width: 80%;\r\n  height: 75%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  color: ${ADMIN_COLOR.grey};\r\n  ${({ $isBlank }) => !$isBlank && 'color: transparent'};\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nfunction ImgPreviewSet({ title, imgUrl }) {\r\n  let isBlank = imgUrl ? false : true\r\n  return (\r\n    <ImgPreviewContainer>\r\n      <InputTitle>{title}</InputTitle>\r\n      <ImgContainer\r\n        style={{ backgroundImage: `url(${imgUrl})` }}\r\n        isBlank={isBlank}\r\n      >\r\n        圖片預覽\r\n      </ImgContainer>\r\n    </ImgPreviewContainer>\r\n  )\r\n}\r\n\r\nfunction ImgUrlWithTitle({\r\n  title,\r\n  name,\r\n  value,\r\n  placeholder,\r\n  disabled,\r\n  formData,\r\n  setFormData\r\n}) {\r\n  const [inputValue, setInputValue] = useState('')\r\n  useEffect(() => {\r\n    if (value) setInputValue((inputValue) => value)\r\n  }, [value])\r\n\r\n  const handleOnChange = (e) => {\r\n    const targetValue = e.target.value.trim(' ')\r\n    const targetName = e.target.name\r\n    setInputValue((inputValue) => targetValue)\r\n    if (!targetValue) {\r\n      delete formData[targetName]\r\n      return setFormData((formData) => formData)\r\n    }\r\n    const newFormData = {\r\n      ...formData,\r\n      [targetName]: targetValue\r\n    }\r\n    setFormData((formData) => newFormData)\r\n  }\r\n\r\n  return (\r\n    <ImgUrlWithTitleContainer>\r\n      <SmallTitle>{title}</SmallTitle>\r\n      <ImgInput\r\n        type='text'\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={inputValue}\r\n        disabled={disabled}\r\n        onChange={handleOnChange}\r\n        formData={formData}\r\n        setFormData={setFormData}\r\n      />\r\n    </ImgUrlWithTitleContainer>\r\n  )\r\n}\r\n\r\nconst deleteKeysFromData = (data) => {\r\n  delete data.id\r\n  return data\r\n}\r\n\r\nfunction ImgInputSet({\r\n  id,\r\n  span,\r\n  formData,\r\n  require,\r\n  setFormData,\r\n  isValid,\r\n  setIsValid\r\n}) {\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [imgData, setImgData] = useState({})\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const inputId = parseInt(id)\r\n\r\n  const setInputValid = useCallback(\r\n    (valid) => {\r\n      return {\r\n        ...isValid,\r\n        [inputId]: valid\r\n      }\r\n    },\r\n    [isValid, inputId]\r\n  )\r\n\r\n  const checkIsImg = useCallback((imgData) => {\r\n    const newData = deleteKeysFromData(JSON.parse(JSON.stringify(imgData)))\r\n    let isChecked\r\n    // eslint-disable-next-line array-callback-return\r\n    Object.values(newData).map((imgUrl) => {\r\n      isChecked = imgVerify(imgUrl)\r\n      if (!isChecked) return isChecked\r\n    })\r\n    return isChecked\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setImgData(formData)\r\n  }, [formData])\r\n\r\n  const handleEditClick = useCallback(() => {\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'save')\r\n  }, [])\r\n\r\n  const handleCheckClick = useCallback(() => {\r\n    const length = Object.keys(imgData).length\r\n    const isNotValid = setInputValid(false)\r\n    const isImgCheck = checkIsImg(imgData)\r\n    if (imgData.id !== undefined) {\r\n      if (length !== 4 && require) {\r\n        setErrorMsg('請完整填入此必填欄位')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      if (length !== 1 && length !== 4) {\r\n        setErrorMsg('請完整填入或刪除此三個欄位')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      if (length !== 1 && !isImgCheck) {\r\n        setErrorMsg('請輸入結尾為 .jpg/.png/.jpeg 的網址')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      setFormData((formData) => imgData)\r\n    }\r\n    if (imgData.id === undefined) {\r\n      if (length !== 0 && length !== 3) {\r\n        setErrorMsg('請完整填入或刪除此三個欄位')\r\n        return setIsValid((isValid) => isNotValid)\r\n      }\r\n      if (length === 3) {\r\n        if (!isImgCheck) {\r\n          setErrorMsg('請輸入結尾為 .jpg/.png/.jpeg 的網址')\r\n          return setIsValid((isValid) => isNotValid)\r\n        }\r\n        setFormData((formData) => imgData)\r\n      }\r\n    }\r\n    setErrorMsg((errorMsg) => '')\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'edit')\r\n    const newValid = setInputValid(true)\r\n    setIsValid((isValid) => newValid)\r\n  }, [imgData, require, setIsValid, setFormData, setInputValid, checkIsImg])\r\n\r\n  return (\r\n    <ImgInputOutContainer>\r\n      <ImgPreviewSet title='圖片預覽' imgUrl={imgData.imgUrlMd}></ImgPreviewSet>\r\n      <ImgUrlSetContainer>\r\n        <InputTitle>\r\n          圖片 URL<span>{span}</span>\r\n        </InputTitle>\r\n        <ImgInputContainer>\r\n          <ImgUrlWithTitle\r\n            title='Small Size'\r\n            name='imgUrlSm'\r\n            value={imgData.imgUrlSm}\r\n            placeholder='small-size ImgURL'\r\n            formData={imgData}\r\n            setFormData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Medium Size'\r\n            name='imgUrlMd'\r\n            value={imgData.imgUrlMd}\r\n            placeholder='medium-size ImgURL'\r\n            formData={imgData}\r\n            setFormData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Large Size'\r\n            name='imgUrlLg'\r\n            value={imgData.imgUrlLg}\r\n            placeholder='large-size ImgURL'\r\n            formData={imgData}\r\n            setFormData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          {buttonStatus === 'edit' ? (\r\n            <EditIcon icon={faEdit} onClick={handleEditClick} />\r\n          ) : (\r\n            <CheckIcon\r\n              icon={faCheckCircle}\r\n              onClick={handleCheckClick}\r\n              style={{ color: isValid[id] ? '#3689c9' : '#aaa' }}\r\n            />\r\n          )}\r\n        </ImgInputContainer>\r\n        {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n      </ImgUrlSetContainer>\r\n    </ImgInputOutContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailImgForm({ product }) {\r\n  const { id } = useParams()\r\n  const { Product_imgs } = product\r\n  const [productImgUrlOne, setProductImgUrlOne] = useState({})\r\n  const [productImgUrlOTwo, setProductImgUrlTwo] = useState({})\r\n  const [productImgUrlThree, setProductImgUrlThree] = useState({})\r\n  const [isValid, setIsValid] = useState({\r\n    1: true,\r\n    2: true,\r\n    3: true\r\n  })\r\n  const [isChecked, setIsChecked] = useState(true)\r\n  const history = useHistory()\r\n  const deleteKeysFromData = (data) => {\r\n    delete data.productId\r\n    delete data.createdAt\r\n    delete data.updatedAt\r\n    return data\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (Product_imgs) {\r\n      Product_imgs[0] &&\r\n        setProductImgUrlOne(deleteKeysFromData(Product_imgs[0]))\r\n      Product_imgs[1] &&\r\n        setProductImgUrlTwo(deleteKeysFromData(Product_imgs[1]))\r\n      Product_imgs[2] &&\r\n        setProductImgUrlThree(deleteKeysFromData(Product_imgs[2]))\r\n    }\r\n  }, [Product_imgs])\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      for (const key in isValid) {\r\n        if (isValid[key] === false) {\r\n          return setIsChecked(false)\r\n        }\r\n        setIsChecked(true)\r\n      }\r\n      const newProductImgs = {\r\n        imgsData: [productImgUrlOne, productImgUrlOTwo, productImgUrlThree]\r\n      }\r\n      changeProductInfoById(parseInt(id), newProductImgs)\r\n    },\r\n    [isValid, productImgUrlOne, productImgUrlOTwo, productImgUrlThree, id]\r\n  )\r\n\r\n  return (\r\n    <ImgForm>\r\n      <FormTitleComponent title='商品圖片網址' />\r\n      <FormContentContainer>\r\n        <ImgInputSet\r\n          id='1'\r\n          span='* 必填欄位'\r\n          require='true'\r\n          formData={productImgUrlOne}\r\n          setFormData={setProductImgUrlOne}\r\n          isValid={isValid}\r\n          setIsValid={setIsValid}\r\n        />\r\n        <ImgInputSet\r\n          id='2'\r\n          formData={productImgUrlOTwo}\r\n          setFormData={setProductImgUrlTwo}\r\n          isValid={isValid}\r\n          setIsValid={setIsValid}\r\n        />\r\n        <ImgInputSet\r\n          id='3'\r\n          formData={productImgUrlThree}\r\n          setFormData={setProductImgUrlThree}\r\n          isValid={isValid}\r\n          setIsValid={setIsValid}\r\n        />\r\n      </FormContentContainer>\r\n      <ButtonForImgForm\r\n        onSaveClick={handleSaveClick}\r\n        onLeaveClick={handleLeaveClick}\r\n        isChecked={isChecked}\r\n      />\r\n    </ImgForm>\r\n  )\r\n}\r\n","import { useState, useCallback } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { ADMIN_COLOR, COLOR } from '../../../../constants/style'\r\nimport { changeProductInfoById } from '../../../../webAPI/adminProductsAPI'\r\nimport {\r\n  Form,\r\n  Input,\r\n  InputTitle,\r\n  FormTitleComponent,\r\n  ButtonGroup,\r\n  ErrorMsg\r\n} from '../FormStyle'\r\n\r\nconst DescInput = styled(Input)`\r\n  margin-top: 8px;\r\n  width: 90%;\r\n`\r\nconst DescForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst ComponentDiv = styled.div`\r\n  margin-top: 20px;\r\n`\r\nconst DescTextArea = styled.textarea`\r\n  margin-top: 8px;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  white-space: pre-wrap;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nexport default function DetailDescForm({ product }) {\r\n  const history = useHistory()\r\n  const { id } = useParams()\r\n  const { name, shortDesc, longDesc } = product\r\n  const [descData, setDescData] = useState({ name, shortDesc, longDesc })\r\n  const [errorMsgForName, setErrorMsgForName] = useState('')\r\n  const [errorMsgForShort, setErrorMsgForShort] = useState('')\r\n  const [errorMsgForLong, setErrorMsgForLong] = useState('')\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [isValid, setIsValid] = useState(true)\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value\r\n      const targetName = e.target.name\r\n      const newDescData = {\r\n        ...descData,\r\n        [targetName]: targetValue\r\n      }\r\n      setDescData(newDescData)\r\n    },\r\n    [descData]\r\n  )\r\n\r\n  const handleOnBlur = useCallback((e) => {\r\n    const targetName = e.target.name\r\n    const targetValue = e.target.value.trim(' ')\r\n    const errMsg = '此欄位不得為空'\r\n    targetValue ? setIsValid(true) : setIsValid(false)\r\n    if (targetName === 'name') {\r\n      targetValue ? setErrorMsgForName('') : setErrorMsgForName(errMsg)\r\n    }\r\n    if (targetName === 'shortDesc') {\r\n      targetValue ? setErrorMsgForShort('') : setErrorMsgForShort(errMsg)\r\n    }\r\n    if (targetName === 'longDesc') {\r\n      targetValue ? setErrorMsgForLong('') : setErrorMsgForLong(errMsg)\r\n    }\r\n  }, [])\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleEditClick = useCallback((e) => {\r\n    e.preventDefault()\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'save')\r\n  }, [])\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      if (!isValid) return\r\n      if (isValid) changeProductInfoById(id, descData)\r\n      setIsDisabled((isDisabled) => !isDisabled)\r\n      setButtonStatus((buttonStatus) => 'edit')\r\n    },\r\n    [isValid, id, descData]\r\n  )\r\n  return (\r\n    <DescForm>\r\n      <FormTitleComponent title={'商品名稱敘述'} />\r\n      <ComponentDiv>\r\n        <InputTitle>商品名稱:</InputTitle>\r\n        <DescInput\r\n          name='name'\r\n          value={descData.name}\r\n          disabled={isDisabled}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForName && <ErrorMsg>{errorMsgForName}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>商品簡述:</InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '100px' }}\r\n          name='shortDesc'\r\n          value={descData.shortDesc}\r\n          disabled={isDisabled}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForShort && <ErrorMsg>{errorMsgForShort}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>商品文案:</InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '250px' }}\r\n          name='longDesc'\r\n          value={descData.longDesc}\r\n          disabled={isDisabled}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForLong && <ErrorMsg>{errorMsgForLong}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ButtonGroup\r\n        status={buttonStatus}\r\n        isValid={isValid}\r\n        onLeaveClick={handleLeaveClick}\r\n        onEditClick={handleEditClick}\r\n        onSaveClick={handleSaveClick}\r\n      />\r\n    </DescForm>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { changeProductInfoById } from '../../../../webAPI/adminProductsAPI'\r\nimport {\r\n  Form,\r\n  FormTitleComponent,\r\n  PriceInput,\r\n  InputTitle,\r\n  Dropdown,\r\n  SelectedComponent,\r\n  QuantityInputStyle,\r\n  ButtonGroup,\r\n  ErrorMsg\r\n} from '../FormStyle'\r\n\r\nconst InfoForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst InfoFormSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-around;\r\n  width: 100%;\r\n  height: 33%;\r\n`\r\nconst OptionsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst SubTitle = styled.div`\r\n  font-size: 10px;\r\n  margin-left: 5px;\r\n  margin-top: 5px;\r\n`\r\n\r\nfunction StatusDropdown({ productValue, disabled, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>上架狀態</InputTitle>\r\n      <Dropdown\r\n        valueArray={['on', 'off']}\r\n        productValue={productValue}\r\n        disabled={disabled}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction CategoriesDropdown({ productValue, disabled, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>商品分類</InputTitle>\r\n      <Dropdown\r\n        valueArray={[\r\n          'home',\r\n          'apparel',\r\n          'kitchenware',\r\n          'food',\r\n          'stationery',\r\n          'outdoor'\r\n        ]}\r\n        productValue={productValue}\r\n        disabled={disabled}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction ArticlesDropdown({ productValue, disabled, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>活動文章</InputTitle>\r\n      <Dropdown\r\n        valueArray={['fragrance', 'dining', 'camping', 'null']}\r\n        productValue={productValue}\r\n        disabled={disabled}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\n// styledComponent End\r\nconst handleBlur = (e, setValid, setErrMsg, errorMessage) => {\r\n  const targetValue = parseInt(e.target.value.trim(' '))\r\n  if (!targetValue) {\r\n    setValid(false)\r\n    return setErrMsg(errorMessage)\r\n  }\r\n  setValid(true)\r\n  setErrMsg('')\r\n}\r\n\r\nfunction StatusComponent({\r\n  status,\r\n  category,\r\n  article,\r\n  disabled,\r\n  setFormData,\r\n  formData\r\n}) {\r\n  const [productStatus, setProductStatus] = useState({\r\n    status,\r\n    category,\r\n    article\r\n  })\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      setProductStatus({ ...productStatus, [e.target.name]: e.target.value })\r\n      setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    },\r\n    [productStatus, formData, setFormData]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品狀態' />\r\n      <OptionsContainer>\r\n        <StatusDropdown\r\n          name='status'\r\n          productValue={productStatus.status}\r\n          disabled={disabled}\r\n          onChange={handleOnChange}\r\n        />\r\n        <CategoriesDropdown\r\n          name='category'\r\n          productValue={productStatus.category}\r\n          disabled={disabled}\r\n          onChange={handleOnChange}\r\n        />\r\n        <ArticlesDropdown\r\n          name='article'\r\n          productValue={productStatus.article}\r\n          disabled={disabled}\r\n          onChange={handleOnChange}\r\n        />\r\n      </OptionsContainer>\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction PriceComponent({\r\n  price,\r\n  discountPrice,\r\n  formData,\r\n  setFormData,\r\n  setIsValid,\r\n  disabled\r\n}) {\r\n  const errorMessage = '此兩欄位不得為空'\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [inputPriceValue, setInputPriceValue] = useState({\r\n    price,\r\n    discountPrice\r\n  })\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value.trim(' ')\r\n      setInputPriceValue({ ...inputPriceValue, [e.target.name]: targetValue })\r\n      setFormData({ ...formData, [e.target.name]: targetValue })\r\n    },\r\n    [setFormData, formData, inputPriceValue]\r\n  )\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const { price, discountPrice } = inputPriceValue\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, setIsValid, setErrorMsg, errorMessage)\r\n      if (isNaN(targetValue)) {\r\n        setErrorMsg('此欄位僅限輸入數字')\r\n        return setIsValid(false)\r\n      }\r\n      if (e.target.name === 'price') {\r\n        if (discountPrice && targetValue < discountPrice) {\r\n          setErrorMsg('原價價格不得低於特價')\r\n          setIsValid(false)\r\n        }\r\n      }\r\n      if (e.target.name === 'discountPrice') {\r\n        if (price && targetValue > price) {\r\n          setErrorMsg('特價價格不可高於原價')\r\n          setIsValid(false)\r\n        }\r\n      }\r\n    },\r\n    [setIsValid, inputPriceValue]\r\n  )\r\n\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品價格' />\r\n      <OptionsContainer>\r\n        <SelectedComponent>\r\n          <InputTitle>商品原價</InputTitle>\r\n          <PriceInput\r\n            name='price'\r\n            value={inputPriceValue.price}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnBlur}\r\n            disabled={disabled}\r\n          ></PriceInput>\r\n        </SelectedComponent>\r\n        <SelectedComponent>\r\n          <InputTitle>\r\n            商品特價\r\n            <SubTitle>(如無特價請輸入同原價價格)</SubTitle>\r\n          </InputTitle>\r\n          <PriceInput\r\n            name='discountPrice'\r\n            value={inputPriceValue.discountPrice}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnBlur}\r\n            disabled={disabled}\r\n          ></PriceInput>\r\n        </SelectedComponent>\r\n      </OptionsContainer>\r\n      {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction QuantityComponent({\r\n  quantity,\r\n  formData,\r\n  setFormData,\r\n  setIsValid,\r\n  disabled\r\n}) {\r\n  const [inputQuantityValue, setInputQuantityValue] = useState(quantity)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const errorMessage = '此欄位不得為空'\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = parseInt(e.target.value.trim(' '))\r\n      const newValue = targetValue ? targetValue : ''\r\n      setInputQuantityValue(newValue)\r\n      setFormData({ ...formData, [e.target.name]: newValue })\r\n    },\r\n    [setFormData, formData, setInputQuantityValue]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, setIsValid, setErrorMsg, errorMessage)\r\n      if (isNaN(targetValue)) {\r\n        setErrorMsg('此欄位僅限輸入數字')\r\n        return setIsValid(false)\r\n      }\r\n    },\r\n    [setIsValid]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品數量' />\r\n      <OptionsContainer>\r\n        <QuantityInputStyle\r\n          name='quantity'\r\n          value={inputQuantityValue}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n          disabled={disabled}\r\n        ></QuantityInputStyle>\r\n      </OptionsContainer>\r\n      {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailInfoForm({ product }) {\r\n  const history = useHistory()\r\n  const { id } = useParams()\r\n  const { status, category, article, price, discountPrice, quantity } = product\r\n  const [isValid, setIsValid] = useState(true)\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [InfoData, setInfoData] = useState({\r\n    status,\r\n    category,\r\n    article,\r\n    price,\r\n    discountPrice,\r\n    quantity\r\n  })\r\n  const handleEditClick = useCallback((e) => {\r\n    e.preventDefault()\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'save')\r\n  }, [])\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      if (!isValid) return\r\n      changeProductInfoById(parseInt(id), InfoData)\r\n      setIsDisabled((isDisabled) => !isDisabled)\r\n      setButtonStatus((buttonStatus) => 'edit')\r\n    },\r\n    [isValid, id, InfoData]\r\n  )\r\n  return (\r\n    <InfoForm>\r\n      <StatusComponent\r\n        status={InfoData.status}\r\n        category={InfoData.category}\r\n        article={InfoData.article}\r\n        formData={InfoData}\r\n        setFormData={setInfoData}\r\n        setIsValid={setIsValid}\r\n        disabled={isDisabled}\r\n      ></StatusComponent>\r\n      <PriceComponent\r\n        price={InfoData.price}\r\n        discountPrice={InfoData.discountPrice}\r\n        formData={InfoData}\r\n        setFormData={setInfoData}\r\n        setIsValid={setIsValid}\r\n        disabled={isDisabled}\r\n      ></PriceComponent>\r\n      <QuantityComponent\r\n        quantity={InfoData.quantity}\r\n        formData={InfoData}\r\n        setFormData={setInfoData}\r\n        setIsValid={setIsValid}\r\n        disabled={isDisabled}\r\n      ></QuantityComponent>\r\n      <ButtonGroup\r\n        status={buttonStatus}\r\n        isValid={isValid}\r\n        onLeaveClick={handleLeaveClick}\r\n        onEditClick={handleEditClick}\r\n        onSaveClick={handleSaveClick}\r\n      />\r\n    </InfoForm>\r\n  )\r\n}\r\n","import { useState, useEffect, useContext } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { Tabs } from '../../../components/admin/productManage/Tab'\r\nimport { FormWrapper } from '../../../components/admin/productManage/FormStyle'\r\nimport ImgForm from '../../../components/admin/productManage/AdminDetailForms/ImgForm'\r\nimport DescForm from '../../../components/admin/productManage/AdminDetailForms/DescForm'\r\nimport InfoForm from '../../../components/admin/productManage/AdminDetailForms/InfoForm'\r\nimport { getProductById } from '../../../webAPI/adminProductsAPI'\r\nimport { LoadingContext } from '../../../context'\r\nimport { AdminIsLoadingComponent } from '../../../components/admin/AdminIsLoading'\r\n\r\nexport default function AdminProductDetail() {\r\n  const [productDetail, setProductDetail] = useState([])\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext)\r\n  const { id } = useParams()\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    getProductById(parseInt(id)).then((result) => {\r\n      if (!result) return\r\n      if (result.ok === 0) return history.push('/404')\r\n      const data = JSON.parse(JSON.stringify(result.data))\r\n      setProductDetail(() => data)\r\n      setIsLoading(false)\r\n    })\r\n  }, [id, setIsLoading, history])\r\n\r\n  return (\r\n    <FormWrapper>\r\n      {isLoading && <AdminIsLoadingComponent />}\r\n      <Tabs\r\n        tabs={['商品圖片', '商品敘述', '商品資訊']}\r\n        tabsPanel={[\r\n          <ImgForm product={productDetail} />,\r\n          <DescForm product={productDetail} />,\r\n          <InfoForm product={productDetail} />\r\n        ]}\r\n        presetTab={0}\r\n      ></Tabs>\r\n    </FormWrapper>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { FONT_SIZE, ADMIN_COLOR } from '../../../../constants/style'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { Input, InputTitle, ErrorMsg, FormTitleComponent } from '../FormStyle'\r\nimport { checkIsImg } from '../../../../utils'\r\n\r\nconst CheckIcon = styled(FontAwesomeIcon)`\r\n  margin-left: 10px;\r\n  margin-top: 60px;\r\n  cursor: pointer;\r\n`\r\nconst EditIcon = styled(CheckIcon)`\r\n  color: ${ADMIN_COLOR.Btn_darkgrey};\r\n`\r\nconst ImgInput = styled(Input)`\r\n  margin-top: 3px;\r\n`\r\nconst ImgForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst ImgInputOutContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 29%;\r\n  margin-top: 20px;\r\n`\r\nconst FormContentContainer = styled.div`\r\n  margin-top: 40px;\r\n  height: 100%;\r\n`\r\nconst ImgPreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 22%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  width: 76%;\r\n  height: 100%;\r\n`\r\nconst ImgUrlWithTitleContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin: 43px 5px 0px 0px;\r\n  width: 100%;\r\n`\r\nconst SmallTitle = styled.div`\r\n  font-size: ${FONT_SIZE.xs};\r\n  margin: 5px 0px;\r\n`\r\nconst ImgInputContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\nconst ImgContainer = styled.div`\r\n  display: flex;\r\n  width: 80%;\r\n  height: 72%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  color: ${ADMIN_COLOR.grey};\r\n  ${({ $isBlank }) => !$isBlank && 'color: transparent'};\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nfunction ImgPreviewSet({ title, imgUrl }) {\r\n  let isBlank = imgUrl ? false : true\r\n  return (\r\n    <ImgPreviewContainer>\r\n      <InputTitle>{title}</InputTitle>\r\n      <ImgContainer\r\n        style={{ backgroundImage: `url(${imgUrl})` }}\r\n        isBlank={isBlank}\r\n      >\r\n        圖片預覽\r\n      </ImgContainer>\r\n    </ImgPreviewContainer>\r\n  )\r\n}\r\n\r\nfunction ImgUrlWithTitle({\r\n  title,\r\n  name,\r\n  placeholder,\r\n  disabled,\r\n  value,\r\n  imgData,\r\n  setImgData\r\n}) {\r\n  const [inputValue, setInputValue] = useState(value || '')\r\n\r\n  const handleOnChange = (e) => {\r\n    const targetValue = e.target.value.trim(' ')\r\n    const targetName = e.target.name\r\n    setInputValue(targetValue)\r\n    if (!targetValue) {\r\n      delete imgData[targetName]\r\n      return setImgData((imgData) => imgData)\r\n    }\r\n    const newFormData = {\r\n      ...imgData,\r\n      [targetName]: targetValue\r\n    }\r\n    setImgData((imgData) => newFormData)\r\n  }\r\n\r\n  return (\r\n    <ImgUrlWithTitleContainer>\r\n      <SmallTitle>{title}</SmallTitle>\r\n      <ImgInput\r\n        type='text'\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={inputValue}\r\n        disabled={disabled}\r\n        onChange={handleOnChange}\r\n      />\r\n    </ImgUrlWithTitleContainer>\r\n  )\r\n}\r\n\r\nfunction ImgInputSet({\r\n  id,\r\n  name,\r\n  span,\r\n  require,\r\n  imgFromData,\r\n  imgsData,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  const [imgData, setImgData] = useState(imgFromData)\r\n  const [isDisabled, setIsDisabled] = useState(true)\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [buttonStatus, setButtonStatus] = useState('edit')\r\n  const inputId = parseInt(id)\r\n\r\n  const setImgDataIsValid = useCallback(\r\n    (imgDataIsValid) => {\r\n      return (isChecked) => ({\r\n        ...isChecked,\r\n        [name]: imgDataIsValid\r\n      })\r\n    },\r\n    [name]\r\n  )\r\n\r\n  const handleEditClick = useCallback(() => {\r\n    setIsDisabled((isDisabled) => !isDisabled)\r\n    setButtonStatus((buttonStatus) => 'save')\r\n    return setIsChecked((isChecked) => ({\r\n      ...isChecked,\r\n      [name]: false\r\n    }))\r\n  }, [name, setIsChecked])\r\n\r\n  const handleCheckClick = useCallback(\r\n    (e) => {\r\n      const length = Object.keys(imgData).length\r\n      const isImgVerifyCheck = checkIsImg(imgData)\r\n      if (length !== 3 && require) {\r\n        setErrorMsg('請完整填入此必填欄位')\r\n        return setIsChecked(setImgDataIsValid(false))\r\n      }\r\n      if (length !== 0 && length !== 3) {\r\n        setErrorMsg('請完整填入或刪除此三個欄位')\r\n        return setIsChecked(setImgDataIsValid(false))\r\n      }\r\n      if (length === 3 && !isImgVerifyCheck) {\r\n        setErrorMsg('請輸入結尾為 .jpg/.png/.jpeg 的網址')\r\n        return setIsChecked(setImgDataIsValid(false))\r\n      }\r\n      setErrorMsg((errorMsg) => '')\r\n      setIsDisabled((isDisabled) => !isDisabled)\r\n      setButtonStatus((buttonStatus) => 'edit')\r\n      imgsData.splice(inputId, 1, imgData)\r\n      setProductDetail((productDetail) => ({\r\n        ...productDetail,\r\n        imgsData: [...imgsData]\r\n      }))\r\n      return setIsChecked(setImgDataIsValid(true))\r\n    },\r\n    [\r\n      require,\r\n      setProductDetail,\r\n      imgsData,\r\n      inputId,\r\n      setIsChecked,\r\n      imgData,\r\n      setImgDataIsValid\r\n    ]\r\n  )\r\n  return (\r\n    <ImgInputOutContainer>\r\n      <ImgPreviewSet title='圖片預覽' imgUrl={imgData.imgUrlMd}></ImgPreviewSet>\r\n      <ImgUrlSetContainer>\r\n        <InputTitle>\r\n          圖片 URL<span>{span}</span>\r\n        </InputTitle>\r\n        <ImgInputContainer>\r\n          <ImgUrlWithTitle\r\n            title='Small Size'\r\n            name='imgUrlSm'\r\n            placeholder='small-size ImgURL'\r\n            value={imgData.imgUrlSm}\r\n            imgData={imgData}\r\n            setImgData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Medium Size'\r\n            name='imgUrlMd'\r\n            placeholder='medium-size ImgURL'\r\n            value={imgData.imgUrlMd}\r\n            imgData={imgData}\r\n            setImgData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          <ImgUrlWithTitle\r\n            title='Large Size'\r\n            name='imgUrlLg'\r\n            placeholder='large-size ImgURL'\r\n            value={imgData.imgUrlLg}\r\n            imgData={imgData}\r\n            setImgData={setImgData}\r\n            disabled={isDisabled}\r\n          />\r\n          {buttonStatus === 'edit' ? (\r\n            <EditIcon icon={faEdit} onClick={handleEditClick} />\r\n          ) : (\r\n            <CheckIcon\r\n              icon={faCheckCircle}\r\n              onClick={handleCheckClick}\r\n              style={{ color: '#3689c9' }}\r\n            />\r\n          )}\r\n        </ImgInputContainer>\r\n        {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n      </ImgUrlSetContainer>\r\n    </ImgInputOutContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailImgForm({\r\n  productDetail,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  const { imgsData } = productDetail\r\n  const imgDataOne = imgsData[0]\r\n  const imgDataTwo = imgsData[1]\r\n  const imgDataThree = imgsData[2]\r\n  return (\r\n    <ImgForm>\r\n      <FormTitleComponent title='商品圖片網址' />\r\n      <FormContentContainer>\r\n        <ImgInputSet\r\n          id='0'\r\n          span='* 必填欄位'\r\n          require='true'\r\n          name='imgsDataOne'\r\n          imgFromData={imgDataOne}\r\n          imgsData={imgsData}\r\n          setProductDetail={setProductDetail}\r\n          isChecked={isChecked}\r\n          setIsChecked={setIsChecked}\r\n        />\r\n        <ImgInputSet\r\n          id='1'\r\n          name='imgsDataTwo'\r\n          imgFromData={imgDataTwo}\r\n          imgsData={imgsData}\r\n          setProductDetail={setProductDetail}\r\n          isChecked={isChecked}\r\n          setIsChecked={setIsChecked}\r\n        />\r\n        <ImgInputSet\r\n          id='2'\r\n          name='imgsDataThree'\r\n          imgFromData={imgDataThree}\r\n          imgsData={imgsData}\r\n          setProductDetail={setProductDetail}\r\n          isChecked={isChecked}\r\n          setIsChecked={setIsChecked}\r\n        />\r\n      </FormContentContainer>\r\n    </ImgForm>\r\n  )\r\n}\r\n","import { useState, useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ADMIN_COLOR, COLOR } from '../../../../constants/style'\r\nimport { Input, InputTitle, FormTitleComponent, ErrorMsg } from '../FormStyle'\r\n\r\nconst DescInput = styled(Input)`\r\n  margin-top: 8px;\r\n  width: 90%;\r\n`\r\nconst DescForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst ComponentDiv = styled.div`\r\n  margin-bottom: 20px;\r\n`\r\nconst DescTextArea = styled.textarea`\r\n  margin-top: 8px;\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  border: solid 1px ${ADMIN_COLOR.border_grey};\r\n  white-space: pre-wrap;\r\n  ::placeholder {\r\n    color: ${COLOR.text_placeholder};\r\n  }\r\n  &:focus {\r\n    border: solid 1px ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nexport default function DetailDescForm({\r\n  productDetail,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  const { name, longDesc, shortDesc } = productDetail\r\n  const [errorMsgForName, setErrorMsgForName] = useState('')\r\n  const [errorMsgForShort, setErrorMsgForShort] = useState('')\r\n  const [errorMsgForLong, setErrorMsgForLong] = useState('')\r\n\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      const targetValue = e.target.value\r\n      const targetName = e.target.name\r\n      setProductDetail((productDetail) => ({\r\n        ...productDetail,\r\n        [targetName]: targetValue\r\n      }))\r\n    },\r\n    [setProductDetail]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = e.target.value.trim(' ')\r\n      const errMsg = '此欄位不得為空'\r\n      const checkValid = (targetValue, setErrorMsg, errMsg, targetName) => {\r\n        if (!targetValue) {\r\n          setErrorMsg(errMsg)\r\n          return setIsChecked((isChecked) => ({\r\n            ...isChecked,\r\n            [targetName]: false\r\n          }))\r\n        }\r\n        setErrorMsg('')\r\n        setIsChecked((isChecked) => ({ ...isChecked, [targetName]: true }))\r\n      }\r\n      if (targetName === 'name') {\r\n        return checkValid(targetValue, setErrorMsgForName, errMsg, targetName)\r\n      }\r\n      if (targetName === 'shortDesc') {\r\n        return checkValid(targetValue, setErrorMsgForShort, errMsg, targetName)\r\n      }\r\n      if (targetName === 'longDesc') {\r\n        return checkValid(targetValue, setErrorMsgForLong, errMsg, targetName)\r\n      }\r\n    },\r\n    [setIsChecked]\r\n  )\r\n\r\n  return (\r\n    <DescForm>\r\n      <FormTitleComponent title={'商品名稱敘述'} />\r\n      <ComponentDiv>\r\n        <InputTitle>商品名稱:</InputTitle>\r\n        <DescInput\r\n          name='name'\r\n          value={name}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForName && <ErrorMsg>{errorMsgForName}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>商品簡述:</InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '100px' }}\r\n          name='shortDesc'\r\n          value={shortDesc}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForShort && <ErrorMsg>{errorMsgForShort}</ErrorMsg>}\r\n      </ComponentDiv>\r\n      <ComponentDiv>\r\n        <InputTitle>商品文案:</InputTitle>\r\n        <DescTextArea\r\n          style={{ width: '90%', height: '250px' }}\r\n          name='longDesc'\r\n          value={longDesc}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        />\r\n        {errorMsgForLong && <ErrorMsg>{errorMsgForLong}</ErrorMsg>}\r\n      </ComponentDiv>\r\n    </DescForm>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  FormTitleComponent,\r\n  PriceInput,\r\n  InputTitle,\r\n  ForNewDropdown,\r\n  SelectedComponent,\r\n  QuantityInputStyle,\r\n  ErrorMsg\r\n} from '../FormStyle'\r\n\r\nconst InfoForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 30px;\r\n  height: 100%;\r\n`\r\nconst InfoFormSetContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-around;\r\n  width: 100%;\r\n  height: 33%;\r\n`\r\nconst OptionsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n`\r\n\r\nconst SubTitle = styled.div`\r\n  font-size: 10px;\r\n  margin-left: 5px;\r\n  margin-top: 5px;\r\n`\r\n\r\nfunction StatusDropdown({ value, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>上架狀態</InputTitle>\r\n      <ForNewDropdown\r\n        dropdownTitle='status'\r\n        valueArray={['on', 'off']}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction CategoriesDropdown({ value, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>商品分類</InputTitle>\r\n      <ForNewDropdown\r\n        dropdownTitle='Category'\r\n        valueArray={[\r\n          'home',\r\n          'apparel',\r\n          'kitchenware',\r\n          'food',\r\n          'stationery',\r\n          'outdoor'\r\n        ]}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\nfunction ArticlesDropdown({ value, onChange, name }) {\r\n  return (\r\n    <SelectedComponent>\r\n      <InputTitle>活動文章</InputTitle>\r\n      <ForNewDropdown\r\n        dropdownTitle='article'\r\n        valueArray={['fragrance', 'dining', 'camping', 'null']}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n      />\r\n    </SelectedComponent>\r\n  )\r\n}\r\n\r\n// styledComponent End\r\nconst setImgDataIsValid = (name, imgDataIsValid) => {\r\n  return (isChecked) => ({\r\n    ...isChecked,\r\n    [name]: imgDataIsValid\r\n  })\r\n}\r\n\r\nconst handleChange = (e, setProductDetail) => {\r\n  const targetValue = e.target.value.trim(' ')\r\n  setProductDetail((productDetail) => ({\r\n    ...productDetail,\r\n    [e.target.name]: targetValue\r\n  }))\r\n}\r\n\r\nconst handleBlur = (e, setIsChecked, setErrorMsg, errorMsg) => {\r\n  const targetName = e.target.name\r\n  const targetValue = e.target.value.trim(' ')\r\n  if (!targetValue) {\r\n    setErrorMsg(errorMsg)\r\n    return setIsChecked(setImgDataIsValid(targetName, false))\r\n  }\r\n  setErrorMsg('')\r\n  setIsChecked(setImgDataIsValid(targetName, true))\r\n}\r\n\r\nfunction StatusComponent({ productDetail, setProductDetail }) {\r\n  const { status, category, article } = productDetail\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      setProductDetail((productDetail) => ({\r\n        ...productDetail,\r\n        [e.target.name]: e.target.value\r\n      }))\r\n    },\r\n    [setProductDetail]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品狀態' />\r\n      <OptionsContainer>\r\n        <StatusDropdown\r\n          name='status'\r\n          productValue={status}\r\n          onChange={handleOnChange}\r\n        />\r\n        <CategoriesDropdown\r\n          name='category'\r\n          productValue={category}\r\n          onChange={handleOnChange}\r\n        />\r\n        <ArticlesDropdown\r\n          name='article'\r\n          productValue={article}\r\n          onChange={handleOnChange}\r\n        />\r\n      </OptionsContainer>\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction PriceComponent({ productDetail, setProductDetail, setIsChecked }) {\r\n  const errorMessage = '此兩欄位不得為空'\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const { price, discountPrice } = productDetail\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      handleChange(e, setProductDetail)\r\n    },\r\n    [setProductDetail]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, setIsChecked, setErrorMsg, errorMessage)\r\n      if (isNaN(targetValue)) {\r\n        setErrorMsg('此欄位僅限輸入數字')\r\n        return setIsChecked(setImgDataIsValid(targetName, false))\r\n      }\r\n      if (e.target.name === 'price') {\r\n        if (discountPrice && targetValue < discountPrice) {\r\n          setErrorMsg('原價價格不得低於特價')\r\n          return setIsChecked(setImgDataIsValid(targetName, false))\r\n        }\r\n      }\r\n      if (e.target.name === 'discountPrice') {\r\n        if (price && targetValue > price) {\r\n          setErrorMsg('特價價格不可高於原價')\r\n          return setIsChecked(setImgDataIsValid(targetName, false))\r\n        }\r\n      }\r\n    },\r\n    [setIsChecked, price, discountPrice]\r\n  )\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品價格' />\r\n      <OptionsContainer>\r\n        <SelectedComponent>\r\n          <InputTitle>商品原價</InputTitle>\r\n          <PriceInput\r\n            name='price'\r\n            value={price}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnBlur}\r\n          ></PriceInput>\r\n        </SelectedComponent>\r\n        <SelectedComponent>\r\n          <InputTitle>\r\n            商品特價\r\n            <SubTitle>(如無特價請輸入同原價價格)</SubTitle>\r\n          </InputTitle>\r\n          <PriceInput\r\n            name='discountPrice'\r\n            value={discountPrice}\r\n            onChange={handleOnChange}\r\n            onBlur={handleOnBlur}\r\n          ></PriceInput>\r\n        </SelectedComponent>\r\n      </OptionsContainer>\r\n      {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nfunction QuantityComponent({ productDetail, setProductDetail, setIsChecked }) {\r\n  const { quantity } = productDetail\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const errorMessage = '此欄位不得為空'\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      handleChange(e, setProductDetail)\r\n    },\r\n    [setProductDetail]\r\n  )\r\n\r\n  const handleOnBlur = useCallback(\r\n    (e) => {\r\n      const targetName = e.target.name\r\n      const targetValue = parseInt(e.target.value)\r\n      handleBlur(e, setIsChecked, setErrorMsg, errorMessage)\r\n      if (isNaN(targetValue)) {\r\n        setErrorMsg('此欄位僅限輸入數字')\r\n        return setIsChecked(setImgDataIsValid(targetName, false))\r\n      }\r\n    },\r\n    [setIsChecked]\r\n  )\r\n\r\n  return (\r\n    <InfoFormSetContainer>\r\n      <FormTitleComponent title='商品數量' />\r\n      <OptionsContainer>\r\n        <QuantityInputStyle\r\n          name='quantity'\r\n          value={quantity}\r\n          onChange={handleOnChange}\r\n          onBlur={handleOnBlur}\r\n        ></QuantityInputStyle>\r\n      </OptionsContainer>\r\n      {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\r\n    </InfoFormSetContainer>\r\n  )\r\n}\r\n\r\nexport default function DetailInfoForm({\r\n  productDetail,\r\n  setProductDetail,\r\n  isChecked,\r\n  setIsChecked\r\n}) {\r\n  return (\r\n    <InfoForm>\r\n      <StatusComponent\r\n        productDetail={productDetail}\r\n        setProductDetail={setProductDetail}\r\n        setIsChecked={setIsChecked}\r\n      ></StatusComponent>\r\n      <PriceComponent\r\n        productDetail={productDetail}\r\n        setProductDetail={setProductDetail}\r\n        setIsChecked={setIsChecked}\r\n      ></PriceComponent>\r\n      <QuantityComponent\r\n        productDetail={productDetail}\r\n        setProductDetail={setProductDetail}\r\n        setIsChecked={setIsChecked}\r\n      ></QuantityComponent>\r\n    </InfoForm>\r\n  )\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { createNewProduct } from '../webAPI/adminProductsAPI'\r\nimport {\r\n  addNewProductToLocalStorage,\r\n  getNewProductFromLocalStorage,\r\n  removeNewProductFromLocalStorage\r\n} from '../utils'\r\n\r\nexport default function useCreateProduct() {\r\n  let history = useHistory()\r\n  const initProductState = {\r\n    status: 'on',\r\n    category: 'home',\r\n    article: 'fragrance',\r\n    name: '',\r\n    longDesc: '',\r\n    shortDesc: '',\r\n    quantity: '',\r\n    price: '',\r\n    discountPrice: '',\r\n    imgsData: [{}, {}, {}]\r\n  }\r\n  const [isChecked, setIsChecked] = useState({\r\n    name: false,\r\n    price: false,\r\n    discountPrice: false,\r\n    category: true,\r\n    quantity: false,\r\n    status: true,\r\n    shortDesc: false,\r\n    longDesc: false,\r\n    article: true,\r\n    imgsDataOne: false,\r\n    imgsDataTwo: true,\r\n    imgsDataThree: true\r\n  })\r\n\r\n  const [productDetail, setProductDetail] = useState(\r\n    JSON.parse(getNewProductFromLocalStorage()) || initProductState\r\n  )\r\n\r\n  useEffect(() => {\r\n    addNewProductToLocalStorage(productDetail)\r\n  }, [productDetail])\r\n\r\n  const handleLeaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      removeNewProductFromLocalStorage()\r\n      history.push('/admin/products/1')\r\n    },\r\n    [history]\r\n  )\r\n  const handleSaveClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      let isAllChecked\r\n      console.log(isChecked)\r\n      for (const key in isChecked) {\r\n        if (isChecked[key] === false) {\r\n          isAllChecked = false\r\n          alert('請完整填寫正確商品資訊後再提交，謝謝')\r\n          return\r\n        }\r\n        isAllChecked = true\r\n      }\r\n      if (isAllChecked) {\r\n        createNewProduct(productDetail).then((result) => {\r\n          if (!result) return\r\n          if (result.ok === 0) return alert(result.message)\r\n          removeNewProductFromLocalStorage()\r\n          alert('成功新增商品')\r\n        })\r\n      }\r\n    },\r\n    [productDetail, isChecked]\r\n  )\r\n\r\n  return {\r\n    isChecked,\r\n    setIsChecked,\r\n    productDetail,\r\n    setProductDetail,\r\n    handleLeaveClick,\r\n    handleSaveClick\r\n  }\r\n}\r\n","import { Tabs } from '../../../components/admin/productManage/Tab'\r\nimport {\r\n  FormWrapper,\r\n  ButtonGroupForAdd\r\n} from '../../../components/admin/productManage/FormStyle'\r\nimport ImgForm from '../../../components/admin/productManage/AdminAddForms/ImgForm'\r\nimport DescForm from '../../../components/admin/productManage/AdminAddForms/DescForm'\r\nimport InfoForm from '../../../components/admin/productManage/AdminAddForms/InfoForm'\r\nimport useCreateProduct from '../../../hooks/useCreateProduct'\r\n\r\nexport default function AdminProductAdd() {\r\n  const {\r\n    isChecked,\r\n    setIsChecked,\r\n    productDetail,\r\n    setProductDetail,\r\n    handleLeaveClick,\r\n    handleSaveClick\r\n  } = useCreateProduct()\r\n  return (\r\n    <form>\r\n      <FormWrapper>\r\n        <Tabs\r\n          tabs={['商品圖片', '商品敘述', '商品資訊']}\r\n          tabsPanel={[\r\n            <ImgForm\r\n              productDetail={productDetail}\r\n              setProductDetail={setProductDetail}\r\n              isChecked={isChecked}\r\n              setIsChecked={setIsChecked}\r\n            />,\r\n            <DescForm\r\n              productDetail={productDetail}\r\n              setProductDetail={setProductDetail}\r\n              isChecked={isChecked}\r\n              setIsChecked={setIsChecked}\r\n            />,\r\n            <InfoForm\r\n              productDetail={productDetail}\r\n              setProductDetail={setProductDetail}\r\n              isChecked={isChecked}\r\n              setIsChecked={setIsChecked}\r\n            />\r\n          ]}\r\n          presetTab={0}\r\n        ></Tabs>\r\n      </FormWrapper>\r\n      <ButtonGroupForAdd\r\n        onLeaveClick={handleLeaveClick}\r\n        onSaveClick={handleSaveClick}\r\n      />\r\n    </form>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { ADMIN_COLOR } from '../../../constants/style'\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n`\r\nconst Input = styled.input`\r\n  width: 200px;\r\n  padding: 10px 10px 10px 40px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  border-radius: 3px;\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\nconst StyledSearchIcon = styled(FontAwesomeIcon)`\r\n  font-size: 14px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 12px;\r\n  transform: translate(0, -50%);\r\n`\r\nconst Dropdown = styled.select`\r\n  display: inline-block;\r\n  width: 200px;\r\n  padding: 11px;\r\n  border: 1px solid ${ADMIN_COLOR.border_grey};\r\n  border-radius: 3px;\r\n  margin-left: 12px;\r\n  &:focus {\r\n    border: 1px solid ${ADMIN_COLOR.border_dark_grey};\r\n  }\r\n`\r\n\r\nexport function Search() {\r\n  return (\r\n    <Wrapper>\r\n      <StyledSearchIcon\r\n        icon={faSearch}\r\n        style={{ color: ADMIN_COLOR.border_dark_grey }}\r\n      />\r\n      <Input placeholder={'搜尋訂單'}></Input>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport function Filter({ filter, handleFilter }) {\r\n  return (\r\n    <Dropdown\r\n      name='filter'\r\n      id='filter'\r\n      onChange={(e) => {\r\n        handleFilter(e.target.value)\r\n      }}\r\n      value={filter}\r\n    >\r\n      <option value='所有訂單'>所有訂單</option>\r\n      <option value='處理中'>處理中</option>\r\n      <option value='已出貨'>已出貨</option>\r\n      <option value='已取消'>已取消</option>\r\n      <option value='已完成'>已完成</option>\r\n    </Dropdown>\r\n  )\r\n}\r\n","import { Container, Cell } from '../TableStyle'\r\nimport { GeneralBtn } from '../../Button'\r\nimport styled from 'styled-components'\r\nimport { formatPrice } from '../../../utils'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst RestyledCell = styled(Cell)`\r\n  width: 12%;\r\n  padding: 0 4px;\r\n`\r\n\r\nexport default function TableItem({ order }) {\r\n  return (\r\n    <Container>\r\n      <RestyledCell>{order.status}</RestyledCell>\r\n      <RestyledCell style={{ width: '28%' }}>{order.ticketNo}</RestyledCell>\r\n      <RestyledCell style={{ width: '36%' }}>{order.orderEmail}</RestyledCell>\r\n      <RestyledCell>\r\n        {/* 暫時擋掉沒有 subTotal 的舊訂單 */}\r\n        {order.subTotal && formatPrice(order.subTotal)}\r\n      </RestyledCell>\r\n      <RestyledCell>\r\n        <Link to={`/admin/orders/${order.ticketNo}`}>\r\n          <GeneralBtn\r\n            color='admin_grey'\r\n            children={'訂單詳情'}\r\n            buttonStyle={{ minWidth: '80px', width: '50%' }}\r\n          />\r\n        </Link>\r\n      </RestyledCell>\r\n    </Container>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\n\r\nexport default function useFetchData(ApiFunc, setterFunc, args) {\r\n  useEffect(() => {\r\n    let isMounted = true\r\n    ;(async () => {\r\n      const res = await ApiFunc(args)\r\n      if (!res.ok) return alert(res.message)\r\n      if (setterFunc && isMounted) {\r\n        setterFunc(res.data)\r\n      }\r\n    })()\r\n    return () => (isMounted = false)\r\n  }, [ApiFunc, args, setterFunc])\r\n}\r\n","import { useState } from 'react'\r\nimport { getOrders } from '../../../webAPI/adminAPIs'\r\nimport { Search, Filter } from '../../../components/admin/orderManage/Search'\r\nimport styled from 'styled-components'\r\nimport {\r\n  FONT_SIZE,\r\n  ADMIN_COLOR,\r\n  ADMIN_MEDIA_QUERY\r\n} from '../../../constants/style'\r\nimport {\r\n  ColumnHeader,\r\n  Header,\r\n  TableItemContainer\r\n} from '../../../components/admin/TableStyle'\r\nimport TableItem from '../../../components/admin/orderManage/TableItem'\r\nimport { GeneralBtn } from '../../../components/Button'\r\nimport useFetchData from '../../../hooks/useFetchData'\r\nimport { calTotalPages } from '../../../utils'\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin: 40px auto;\r\n  width: 75vw;\r\n  font-size: ${FONT_SIZE.sm};\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1280px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1280px;\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst SearchContainer = styled.div`\r\n  margin: 20px auto;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  width: 74vw;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    max-width: 1260px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1260px;\r\n  }\r\n`\r\nconst RestyleHeader = styled(Header)`\r\n  width: 12%;\r\n  width: ${({ $name }) => $name === 'Email' && '36%'};\r\n  width: ${({ $name }) => $name === '訂單編號' && '28%'};\r\n`\r\nconst Paginator = styled.div`\r\n  text-align: center;\r\n  margin: 20px;\r\n`\r\nconst PaginatorBtn = styled.button`\r\n  background: transport;\r\n  color: ${ADMIN_COLOR.Btn_grey};\r\n  margin: 0px 4px;\r\n  padding: 0px 4px;\r\n  font-size: ${FONT_SIZE.md};\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    font-weight: bold;\r\n    border-bottom: 1px solid ${ADMIN_COLOR.border_grey};\r\n    `}\r\n`\r\nconst headerNames = ['訂單狀態', '訂單編號', 'Email', '訂單金額', 'Edit']\r\n\r\nexport default function AdminOrders() {\r\n  const [orders, setOrders] = useState([])\r\n  const [filter, setFilter] = useState('所有訂單')\r\n  const [isViewingArchive, setIsViewingArchive] = useState(false)\r\n  const [offset, setOffset] = useState(0)\r\n\r\n  const filteredOrders = orders.filter((orders) => orders.status === filter)\r\n  const ORDERS_PER_PAGE = 10\r\n  const TotalPages =\r\n    filter === '所有訂單'\r\n      ? [...Array(calTotalPages(orders.length)).keys()]\r\n      : [...Array(calTotalPages(filteredOrders.length)).keys()]\r\n\r\n  const handleFilter = (name) => {\r\n    setFilter(name)\r\n    setOffset(0)\r\n  }\r\n\r\n  const handleGetOrders = (condition) => {\r\n    ;(async () => {\r\n      const res = await getOrders(condition)\r\n      if (!res.ok) alert('發生錯誤：' + res.message)\r\n      setOrders(res.data)\r\n      setOffset(0)\r\n    })()\r\n  }\r\n\r\n  useFetchData(getOrders, setOrders, 'active')\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <SearchContainer>\r\n        <div>\r\n          <Search />\r\n          {!isViewingArchive && (\r\n            <Filter filter={filter} handleFilter={handleFilter} />\r\n          )}\r\n        </div>\r\n        {isViewingArchive ? (\r\n          <GeneralBtn\r\n            onClick={() => {\r\n              handleGetOrders('active')\r\n              setIsViewingArchive(false)\r\n              setFilter('所有訂單')\r\n            }}\r\n            color='admin_blue'\r\n            children='查看所有訂單'\r\n            buttonStyle={{ width: '120px', marginRight: '20px' }}\r\n          />\r\n        ) : (\r\n          <GeneralBtn\r\n            onClick={() => {\r\n              handleGetOrders('archive')\r\n              setIsViewingArchive(true)\r\n            }}\r\n            color='admin_grey'\r\n            children='查看封存訂單'\r\n            buttonStyle={{ width: '120px', marginRight: '20px' }}\r\n          />\r\n        )}\r\n      </SearchContainer>\r\n      <ColumnHeader>\r\n        {headerNames.map((name) => (\r\n          <RestyleHeader key={name} $name={name}>\r\n            {name}\r\n          </RestyleHeader>\r\n        ))}\r\n      </ColumnHeader>\r\n      <TableItemContainer>\r\n        {isViewingArchive\r\n          ? orders\r\n              .sort((a, b) => b.id - a.id)\r\n              .slice(offset, offset + ORDERS_PER_PAGE)\r\n              .map((order) => <TableItem key={order.id} order={order} />)\r\n          : orders\r\n              .filter((order) =>\r\n                filter === '所有訂單' ? order : order.status === filter\r\n              )\r\n              .sort((a, b) => b.id - a.id)\r\n              .slice(offset, offset + ORDERS_PER_PAGE)\r\n              .map((order) => <TableItem key={order.id} order={order} />)}\r\n      </TableItemContainer>\r\n      <Paginator>\r\n        {TotalPages.map((page) => (\r\n          <PaginatorBtn\r\n            onClick={() => setOffset(page * ORDERS_PER_PAGE)}\r\n            key={page}\r\n            $active={offset / 10 === page}\r\n          >\r\n            {page + 1}\r\n          </PaginatorBtn>\r\n        ))}\r\n      </Paginator>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {\r\n  ADMIN_COLOR,\r\n  COLOR,\r\n  FONT_SIZE,\r\n  ADMIN_MEDIA_QUERY\r\n} from '../../../constants/style'\r\nimport { Wrapper } from '../../../components/admin/TableStyle'\r\nimport { ImgAnchor } from '../../../components/general'\r\nimport { GeneralBtn, LogoutBtn } from '../../../components/Button'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faChevronDown,\r\n  faQuestionCircle\r\n} from '@fortawesome/free-solid-svg-icons'\r\nimport { multiplyPrice, formatPrice } from '../../../utils'\r\nimport {\r\n  getSingleOrder,\r\n  updateOrderStatus,\r\n  archiveOrder\r\n} from '../../../webAPI/adminAPIs'\r\nimport { FullModal } from '../../../components/Modal'\r\nimport useFetchData from '../../../hooks/useFetchData'\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin: 60px auto;\r\n  width: 76vw;\r\n  ${ADMIN_MEDIA_QUERY.md} {\r\n    width: 60vw;\r\n    max-width: 1180px;\r\n  }\r\n  ${ADMIN_MEDIA_QUERY.lg} {\r\n    max-width: 1180px;\r\n  }\r\n`\r\nconst Container = styled(Wrapper)`\r\n  width: 100%;\r\n  background: ${ADMIN_COLOR.light_grey};\r\n  border-radius: 20px;\r\n  position: relative;\r\n  margin: 40px auto;\r\n  padding-bottom: 20px;\r\n  &:first-child {\r\n    margin-top: 10vh;\r\n  }\r\n`\r\nconst Title = styled.h3`\r\n  text-align: center;\r\n  padding: 20px;\r\n  font-weight: bold;\r\n`\r\nconst Subtotal = styled.div`\r\n  text-align: center;\r\n  span {\r\n    margin: 0 8px;\r\n  }\r\n`\r\nconst Collapser = styled.div`\r\n  margin-top: 10px;\r\n`\r\nconst Icon = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  ${({ $isOpen }) => $isOpen && 'transform: rotate(180deg)'};\r\n`\r\nconst Menu = styled.div`\r\n  height: ${({ $isOpen }) => ($isOpen ? 'unset' : 0)};\r\n  div {\r\n    transition: opacity 0.1s;\r\n    opacity: ${({ $isOpen }) => ($isOpen ? 1 : 0)};\r\n  }\r\n`\r\nconst TableHeaders = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 10px;\r\n  margin: 0 20px;\r\n  border-bottom: 1px solid ${COLOR.border_grey};\r\n  span {\r\n    text-align: center;\r\n  }\r\n  span:first-child {\r\n    text-align: left;\r\n    width: 70%;\r\n  }\r\n  span:last-child {\r\n    text-align: right;\r\n  }\r\n`\r\nconst Header = styled.span`\r\n  width: 10%;\r\n`\r\nconst ItemContainer = styled(TableHeaders)`\r\n  padding: 10px;\r\n  margin: 0 20px 10px 20px;\r\n  div {\r\n    text-align: center;\r\n    width: 10%;\r\n    margin: 2px 0px;\r\n  }\r\n  div:first-child {\r\n    width: 70%;\r\n    display: flex;\r\n  }\r\n  div:last-child {\r\n    text-align: right;\r\n  }\r\n`\r\nconst Pic = styled.div`\r\n  max-width: 70px;\r\n  height: 70px;\r\n  background: ${({ $img }) => `url(${$img})`};\r\n`\r\nconst Name = styled(Link)`\r\n  margin: 2px 10px;\r\n  font-weight: bold;\r\n  color: ${COLOR.text_dark};\r\n  &:hover {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n`\r\nconst PriceDetail = styled.div`\r\n  width: 100%;\r\n  padding: 4px 30px;\r\n  text-align: right;\r\n  div {\r\n    margin: 10px 0px;\r\n  }\r\n  div:first-child {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  div:last-child {\r\n    font-size: ${FONT_SIZE.lg};\r\n    font-weight: bold;\r\n  }\r\n`\r\nconst OrderInfo = styled.div`\r\n  padding: 10px 40px;\r\n  div {\r\n    margin: 8px 0px;\r\n  }\r\n`\r\nconst Buttons = styled.div`\r\n  position: absolute;\r\n  top: 22%;\r\n  right: 40px;\r\n  display: flex;\r\n  button {\r\n    padding: 0 20px;\r\n    margin: 0 8px;\r\n    transition: 0.2s ease;\r\n  }\r\n`\r\nconst Archived = styled.span`\r\n  margin-left: 4px;\r\n  color: ${ADMIN_COLOR.Btn_grey};\r\n  span {\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n    padding: 4px;\r\n    border-bottom: 1px dotted black;\r\n    font-size: ${FONT_SIZE.xs};\r\n    position: relative;\r\n    bottom: 8px;\r\n    left: 8px;\r\n  }\r\n  &:hover {\r\n    span {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\n\r\nfunction Item({ item }) {\r\n  return (\r\n    <ItemContainer>\r\n      <div>\r\n        <Pic $img={JSON.stringify(item.Product.Product_imgs[0].imgUrlSm)}>\r\n          <ImgAnchor to={`/admin/products/detail/${item.productId}`} />\r\n        </Pic>\r\n        <Name to={`/admin/products/detail/${item.productId}`}>\r\n          {item.Product.name}\r\n        </Name>\r\n      </div>\r\n      <div>{formatPrice(item.Product.discountPrice)}</div>\r\n      <div>{item.quantity}</div>\r\n      <div>\r\n        {formatPrice(multiplyPrice(item.Product.discountPrice, item.quantity))}\r\n      </div>\r\n    </ItemContainer>\r\n  )\r\n}\r\n\r\nexport default function AdminOrderDetail() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [orderDetail, setOrderDetail] = useState(null)\r\n  const { ticket } = useParams()\r\n\r\n  useFetchData(getSingleOrder, setOrderDetail, ticket)\r\n\r\n  // TODO: 變更後要抓新資料。沒變更的情況下回上一頁，可以不重打 API 嗎？\r\n  const handleArchive = (ticketNo) => {\r\n    ;(async () => {\r\n      const res = await archiveOrder(ticketNo)\r\n      if (!res.ok) return alert('發生錯誤：' + res.message)\r\n      alert('已封存訂單！')\r\n      window.location.reload()\r\n    })()\r\n  }\r\n\r\n  const handleOrderStatus = (status) => {\r\n    ;(async () => {\r\n      const res = await updateOrderStatus(ticket, status)\r\n      if (!res.ok) return alert('發生錯誤：' + res.message)\r\n      alert('變更成功！')\r\n      window.location.reload()\r\n    })()\r\n  }\r\n\r\n  return (\r\n    <PageWrapper $isOpen={isOpen}>\r\n      <Link to='/admin/orders'>\r\n        <LogoutBtn\r\n          color='admin_blue'\r\n          children='回訂單列表'\r\n          buttonStyle={{ width: '120px' }}\r\n        />\r\n      </Link>\r\n      <Container>\r\n        {orderDetail && (\r\n          <>\r\n            <Title>訂購明細</Title>\r\n            <Subtotal>\r\n              <span>\r\n                共 <b>{orderDetail.Order_items.length}</b> 件商品\r\n              </span>\r\n              <span>\r\n                合計：\r\n                <b>\r\n                  {orderDetail.subTotal && formatPrice(orderDetail.subTotal)}\r\n                </b>\r\n              </span>\r\n              <Collapser\r\n                onClick={() => {\r\n                  setIsOpen(!isOpen)\r\n                }}\r\n              >\r\n                <Icon icon={faChevronDown} $isOpen={isOpen} />\r\n              </Collapser>\r\n            </Subtotal>\r\n            <Menu $isOpen={isOpen}>\r\n              <TableHeaders>\r\n                <Header>商品名稱</Header>\r\n                <Header>單件價格</Header>\r\n                <Header>數量</Header>\r\n                <Header>小計</Header>\r\n              </TableHeaders>\r\n              {orderDetail.Order_items.map((item) => (\r\n                <Item key={item.productId} item={item} />\r\n              ))}\r\n              <PriceDetail>\r\n                <div>\r\n                  <span>運費：</span>\r\n                  <span>{formatPrice(80)}</span>\r\n                </div>\r\n                <div>\r\n                  <span>合計：</span>\r\n                  <span>\r\n                    {orderDetail.subTotal && formatPrice(orderDetail.subTotal)}\r\n                  </span>\r\n                </div>\r\n              </PriceDetail>\r\n            </Menu>\r\n          </>\r\n        )}\r\n      </Container>\r\n      <Container>\r\n        {orderDetail && (\r\n          <>\r\n            <Title>訂單資料</Title>\r\n            <OrderInfo>\r\n              <div>\r\n                訂單狀態：{orderDetail.status}\r\n                {orderDetail.isDeleted ? (\r\n                  <Archived>\r\n                    <FontAwesomeIcon icon={faQuestionCircle} />\r\n                    <span>此筆訂單已封存</span>\r\n                  </Archived>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </div>\r\n              <div>訂單編號：{orderDetail.ticketNo}</div>\r\n              <div>訂購人姓名：{orderDetail.orderName}</div>\r\n              <div>寄送地址：{orderDetail.orderAddress}</div>\r\n              <div>聯絡信箱：{orderDetail.orderEmail}</div>\r\n              <div>聯絡電話：{orderDetail.orderPhone}</div>\r\n              <div>付款方式：{orderDetail.payment}</div>\r\n              <div>運送方式：{orderDetail.shipping}</div>\r\n            </OrderInfo>\r\n            <Buttons>\r\n              <FullModal\r\n                open={isModalOpen}\r\n                content='確定要取消這筆訂單嗎？'\r\n                buttonOne={\r\n                  <GeneralBtn\r\n                    onClick={() => handleOrderStatus('cancel')}\r\n                    color='admin_blue'\r\n                    children='確定'\r\n                  />\r\n                }\r\n                buttonTwo={\r\n                  <GeneralBtn\r\n                    onClick={() => setIsModalOpen(false)}\r\n                    color='admin_grey'\r\n                    children='返回'\r\n                  />\r\n                }\r\n                onClose={() => setIsModalOpen(false)}\r\n              />\r\n              {orderDetail.status === '處理中' && (\r\n                <>\r\n                  <GeneralBtn\r\n                    onClick={() => handleOrderStatus('ship')}\r\n                    color='admin_blue'\r\n                    children='出貨'\r\n                  />\r\n                  <GeneralBtn\r\n                    onClick={() => handleOrderStatus('cancel')}\r\n                    color='admin_grey'\r\n                    children='取消訂單'\r\n                  />\r\n                </>\r\n              )}\r\n              {orderDetail.status === '已出貨' && (\r\n                <GeneralBtn\r\n                  onClick={() => handleOrderStatus('complete')}\r\n                  color='admin_grey'\r\n                  children='完成訂單'\r\n                />\r\n              )}\r\n              {orderDetail.status === '已完成' && !orderDetail.isDeleted && (\r\n                <GeneralBtn\r\n                  onClick={() => handleArchive(orderDetail.ticketNo)}\r\n                  color='admin_grey'\r\n                  children='封存訂單'\r\n                />\r\n              )}\r\n              {orderDetail.status === '已取消' && !orderDetail.isDeleted && (\r\n                <GeneralBtn\r\n                  onClick={() => handleArchive(orderDetail.ticketNo)}\r\n                  color='admin_grey'\r\n                  children='封存訂單'\r\n                />\r\n              )}\r\n            </Buttons>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </PageWrapper>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faShoppingCart,\r\n  faUserFriends,\r\n  faEye,\r\n  faImages,\r\n  faThLarge,\r\n  faSignOutAlt,\r\n  faAngleLeft\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst NavWrapper = styled.nav`\r\n  width: 230px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 8px 0 48px;\r\n  background: #333;\r\n  transition: all linear 0.3s;\r\n\r\n  ${({ $active }) =>\r\n    $active &&\r\n    `\r\n    margin-left: -230px;\r\n  `}\r\n`\r\n\r\nconst Avatar = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  margin: 50px auto;\r\n  overflow: hidden;\r\n\r\n  img {\r\n    width: 140%;\r\n    height: auto;\r\n  }\r\n`\r\n\r\nconst NavbarList = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n`\r\n\r\nconst Nav = styled(NavLink, {\r\n  activeClass: 'active'\r\n})`\r\n  text-align: center;\r\n  padding: 16px 0;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  border-bottom: 1px solid #ccc;\r\n\r\n  span {\r\n    margin-left: 16px;\r\n    color: #fff;\r\n  }\r\n\r\n  &.active {\r\n    background: #555;\r\n  }\r\n\r\n  &:hover {\r\n    background: #555;\r\n  }\r\n`\r\n\r\nconst LogoutButton = styled.button`\r\n  width: 80%;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  border-radius: 10px;\r\n  color: #003169;\r\n  background: #cecece;\r\n  padding: 10px 4px;\r\n  transition: all 0.3s;\r\n\r\n  svg {\r\n    margin-right: 6px;\r\n  }\r\n\r\n  &:hover {\r\n    color: #cecece;\r\n    background: #aaa;\r\n  }\r\n`\r\n\r\nconst SwitchButton = styled.button`\r\n  position: absolute;\r\n  display: block;\r\n  width: 30px;\r\n  height: 60px;\r\n  top: 50%;\r\n  right: -30px;\r\n  color: #fff;\r\n\r\n  background: #333c;\r\n  font-size: 24px;\r\n  border-radius: 0 10px 10px 0;\r\n  transform: translateY(-50%);\r\n\r\n  ${({ $active }) =>\r\n    $active &&\r\n    `\r\n    svg {\r\n      transform: scale(-1);\r\n    }\r\n  `}\r\n`\r\n\r\nconst Navbar = ({ handleLogout }) => {\r\n  const [active, setActive] = useState(false)\r\n\r\n  return (\r\n    <NavWrapper $active={active}>\r\n      <NavbarList>\r\n        <Avatar to='/'>\r\n          <img src='https://i.imgur.com/jPZXt9T.png' alt='' />\r\n        </Avatar>\r\n        <Nav exact to='/admin/members'>\r\n          <FontAwesomeIcon icon={faUserFriends} />\r\n          <span>會員管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/orders'>\r\n          <FontAwesomeIcon icon={faShoppingCart} />\r\n          <span>訂單管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/products/1'>\r\n          <FontAwesomeIcon icon={faEye} />\r\n          <span>商品管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/4'>\r\n          <FontAwesomeIcon icon={faImages} />\r\n          <span>活動管理</span>\r\n        </Nav>\r\n        <Nav to='/admin/5'>\r\n          <FontAwesomeIcon icon={faThLarge} />\r\n          <span>分類頁面</span>\r\n        </Nav>\r\n      </NavbarList>\r\n      <LogoutButton onClick={handleLogout}>\r\n        <FontAwesomeIcon icon={faSignOutAlt} />\r\n        Logout\r\n      </LogoutButton>\r\n      <SwitchButton $active={active} onClick={() => setActive((pre) => !pre)}>\r\n        <FontAwesomeIcon icon={faAngleLeft} />\r\n      </SwitchButton>\r\n    </NavWrapper>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import styled from 'styled-components'\r\n\r\n\r\nconst FootWrapper = styled.footer`\r\n  height: 36px;\r\n  line-height: 36px;\r\n  letter-spacing: 1px;\r\n  text-align: center;\r\n  background: #c4c4c4;\r\n  color: #fff;\r\n`\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <FootWrapper>&copy; copyright 2021</FootWrapper>\r\n  )\r\n};\r\n\r\nexport default Footer\r\n","import { useEffect, useCallback } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { adminCheck } from '../../webAPI/adminAPIs'\r\nimport styled from 'styled-components'\r\nimport Navbar from './Navbar'\r\nimport Footer from './Footer'\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  height: calc(100vh - 36px);\r\n`\r\n\r\nconst Container = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n  padding: 6px 0 12px;\r\n`\r\n\r\nconst Layout = ({ children }) => {\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      if(await adminCheck()) return\r\n      \r\n      alert('請先登入!!!')\r\n      history.push('/admin/login')\r\n    })()\r\n  }, [history, children])\r\n\r\n  const handleLogout = useCallback(() => {\r\n    localStorage.removeItem('token')\r\n    history.go(0)\r\n  }, [history])\r\n  \r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        <Navbar handleLogout={handleLogout}/>\r\n        <Container>\r\n          { children }\r\n        </Container>\r\n      </Wrapper>\r\n      <Footer/>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default Layout\r\n","import styled from 'styled-components'\r\nimport { PageWidth, FullWidth } from '../../../components/general'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../../constants/style'\r\n\r\nconst Img = styled.div`\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: cover;\r\n  height: 200px;\r\n\r\n  ${MEDIA_QUERY.tablet} {\r\n    height: 360px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    height: 440px;\r\n  }\r\n`\r\nconst ContentDiv = styled.div`\r\n  margin: 40px auto;\r\n  width: 70%;\r\n  text-align: left;\r\n  white-space: pre-wrap;\r\n  line-height: 2em;\r\n`\r\n\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: bold;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 15px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 15px;\r\n  }\r\n`\r\n\r\nconst TitleBorder = styled.div`\r\n  margin-top: 8px;\r\n  width: 25%;\r\n  border-bottom: 3px solid ${COLOR.primary_dark};\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 10%;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 5%;\r\n  }\r\n`\r\n\r\nconst AboutImg = styled(Img)`\r\n  opacity: 0.8;\r\n  background-image: url('https://images.unsplash.com/photo-1565581406026-a79f239d1b61?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=870&q=80');\r\n`\r\n\r\nexport default function Brand() {\r\n  const content =\r\n    '在這個後疫情時代，人們一邊懷念過往隨性移動的自由，同時也開始為自己建構新的生活模式。停留的時間更長了，過去的恣意燦爛透過多種風格且豐富的用品轉換為另外一種型態的溫暖，DAYEAYEAYEA 在共同對生活質感的愛好下，誕生在 2021 年秋天。\\n\\n一個食材帶你領略旅遊清單上的夢想國度，又或一縷香氣成為你穿梭回憶的時光機；脫離居家與工作的兩點一線，和三五好友在山林或海際共度閒暇的時刻裡，精良品質與設計風格兼備的戶外用品讓期待已久的美好假期有了更多愉快記憶。\\n\\nDAYEAYEAYEA 身為結合生活多種風貌的選品購物網站，提供來自各地設計品牌的一時之選，邀請你一起為生活增添一抹色彩，讓日常乘載更多美好記憶。'\r\n\r\n  return (\r\n    <>\r\n      <FullWidth>\r\n        <AboutImg />\r\n      </FullWidth>\r\n      <PageWidth style={{ marginTop: '40px' }}>\r\n        <Title>\r\n          About DAYEAYEAYEA\r\n          <TitleBorder />\r\n        </Title>\r\n        <ContentDiv>{content}</ContentDiv>\r\n      </PageWidth>\r\n    </>\r\n  )\r\n}\r\n","const BASE_URL = 'https://api.coolizz.tw'\r\nconst getFAQs = async () => {\r\n  let res\r\n  try {\r\n    res = await fetch(`${BASE_URL}/faq`)\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport default getFAQs\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../../constants/style'\r\nimport getFAQs from '../../../webAPI/faq'\r\nimport { IsLoadingComponent } from '../../../components/IsLoading'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Title = styled.div`\r\n  margin-top: 40px;\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 60px;\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 80px;\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n`\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  margin: 10px auto;\r\n  margin-bottom: 40px;\r\n  padding: 20px;\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 80%;\r\n    margin: 10px auto;\r\n    margin-bottom: 60px;\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 60%;\r\n    margin: 10px auto;\r\n    margin-bottom: 80px;\r\n  }\r\n`\r\nconst Q = styled.div`\r\n  padding: 22px 18px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: ${({ $isOpen }) =>\r\n    $isOpen ? 'none' : `2px solid ${COLOR.border_super_light}`};\r\n  div {\r\n    font-size: ${FONT_SIZE.sm};\r\n    font-weight: bold;\r\n    text-align: left;\r\n    margin-right: 4px;\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n  }\r\n`\r\nconst A = styled.div`\r\n  padding: 18px;\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n  text-align: left;\r\n  font-size: ${FONT_SIZE.sm};\r\n  border-bottom: ${({ $isOpen }) =>\r\n    $isOpen ? `2px solid ${COLOR.border_light_grey}` : `none`};\r\n  div {\r\n    width: 90%;\r\n    text-align: left;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    font-size: ${FONT_SIZE.md};\r\n  }\r\n`\r\nconst Toggle = styled(FontAwesomeIcon)`\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  transform: ${({ $isOpen }) => ($isOpen ? 'rotate(180deg)' : 'none')};\r\n`\r\n\r\n// 問題：要怎麼限制一次只能展開一個答案？\r\nfunction Item({ faq }) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const toggleOpen = () => {\r\n    setIsOpen(!isOpen)\r\n  }\r\n  return (\r\n    <>\r\n      <Q $isOpen={isOpen}>\r\n        <div>{faq.question}</div>\r\n        <Toggle icon={faChevronUp} onClick={toggleOpen} $isOpen={isOpen} />\r\n      </Q>\r\n      <A $isOpen={isOpen}>\r\n        <div>{faq.answer}</div>\r\n      </A>\r\n    </>\r\n  )\r\n}\r\nexport default function FAQ() {\r\n  const [faqs, setFaqs] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  useEffect(() => {\r\n    async function fetchFAQs() {\r\n      let res\r\n      try {\r\n        res = await getFAQs()\r\n        if (res.ok) {\r\n          setFaqs(res.data)\r\n          setIsLoading(false)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    fetchFAQs()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <IsLoadingComponent />}\r\n      {!isLoading && (\r\n        <PageWidth>\r\n          <Title>常見問題</Title>\r\n          <Container>\r\n            {faqs.map((faq) => (\r\n              <Item key={faq.id} faq={faq} />\r\n            ))}\r\n          </Container>\r\n        </PageWidth>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { COLOR, FONT_SIZE, MEDIA_QUERY } from '../../../constants/style'\r\nimport { PageWidth } from '../../../components/general'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport { faPortrait } from '@fortawesome/free-solid-svg-icons'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nlibrary.add(fab)\r\nconst Card = styled.div`\r\n  margin-top: 120px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`\r\nconst CardMember = styled.div`\r\n  position: relative;\r\n  margin: 50px;\r\n  min-width: 300px;\r\n  margin-bottom: 120px;\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 315px;\r\n  }\r\n  ${MEDIA_QUERY.tablet} {\r\n    width: 315px;\r\n  }\r\n  & hover {\r\n  }\r\n`\r\nconst CardTop = styled.div`\r\n  padding: 50px 50px 20px 50px;\r\n  border: 1px solid ${COLOR.border_primary};\r\n  border-radius: 20% 20% 0% 0%;\r\n`\r\nconst Avatar = styled.div`\r\n  border: 5px solid ${COLOR.border_light_grey};\r\n  border-radius: 50%;\r\n  width: 150px;\r\n  height: 150px;\r\n  position: absolute;\r\n  top: -110px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  overflow: hidden;\r\n  background: url(${(props) => props.$img}) no-repeat center,\r\n    radial-gradient(\r\n      circle at center,\r\n      ${COLOR.primary_light},\r\n      ${COLOR.primary_light_hover}\r\n    );\r\n  background-size: cover;\r\n`\r\nconst Name = styled.div`\r\n  font-size: ${FONT_SIZE.xl};\r\n  padding-bottom: 5px;\r\n  border-bottom: 2px solid ${COLOR.border_primary};\r\n  font-weight: bold;\r\n`\r\nconst Title = styled.div`\r\n  font-size: ${FONT_SIZE.xxl};\r\n  font-weight: 700;\r\n  margin: 50px;\r\n`\r\nconst SubTitle = styled.div`\r\n  font-weight: 700;\r\n  margin: 20px;\r\n`\r\nconst Work = styled.ul`\r\n  > li {\r\n    margin: 10px;\r\n  }\r\n`\r\nconst CardFooter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  background: ${COLOR.primary_light};\r\n  padding: 10px;\r\n  border-radius: 0% 0% 3px 3px;\r\n`\r\nconst IconTitle = styled.span`\r\n  margin-left: 10px;\r\n  color: white;\r\n`\r\nexport default function Join() {\r\n  return (\r\n    <PageWidth>\r\n      <Title>DAYEAYEAYEA 團隊</Title>\r\n      <Card>\r\n        <CardMember>\r\n          <CardTop>\r\n            <Avatar $img={'https://i.imgur.com/UkSjhZT.png'}></Avatar>\r\n            <Name>叮叮</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>blablablabla</li>\r\n              <li>blablabla</li>\r\n              <li>blablablabla</li>\r\n              <li>blablablablabla</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </div>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </div>\r\n          </CardFooter>\r\n        </CardMember>\r\n        <CardMember>\r\n          <CardTop>\r\n            <Avatar $img={'https://i.imgur.com/7KaTasx.png'}></Avatar>\r\n            <Name>Jackie</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>blablablablabla</li>\r\n              <li>blablabla</li>\r\n              <li>blablablabla</li>\r\n              <li>blablablablabla</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </div>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </div>\r\n          </CardFooter>\r\n        </CardMember>\r\n        <CardMember>\r\n          <CardTop>\r\n            <Avatar $img={'https://i.imgur.com/KKUyQO6.png'}></Avatar>\r\n            <Name>Enzo</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>blablablabla</li>\r\n              <li>blablablablabla</li>\r\n              <li>blablablabla</li>\r\n              <li>blablablablablabla</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </div>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </div>\r\n          </CardFooter>\r\n        </CardMember>\r\n        <CardMember>\r\n          <CardTop>\r\n            <Avatar $img={'https://i.imgur.com/NIlmi5Z.png'}></Avatar>\r\n            <Name>Janet</Name>\r\n            <SubTitle>負責項目</SubTitle>\r\n            <Work>\r\n              <li>網站視覺設計</li>\r\n              <li>登入頁面切版&功能</li>\r\n              <li>結帳切版&功能</li>\r\n              <li>會員管理切版&功能</li>\r\n            </Work>\r\n          </CardTop>\r\n          <CardFooter>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={['fab', 'github']}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'GitHub'} />\r\n            </div>\r\n            <div>\r\n              <FontAwesomeIcon\r\n                icon={faPortrait}\r\n                size='lg'\r\n                color={`${COLOR.light}`}\r\n              />\r\n              <IconTitle children={'履歷'} />\r\n            </div>\r\n          </CardFooter>\r\n        </CardMember>\r\n      </Card>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { PageWidth } from '../../../components/general'\r\n\r\n\r\nconst Container = styled.div`\r\n  margin: 60px auto 60px;\r\n  padding: 0 8px;\r\n  width: 90%;\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  margin-top: 40px;\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 60px;\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 80px;\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  text-align: left;\r\n  h3 {\r\n    margin: 48px 0 12px;\r\n    font-size: ${FONT_SIZE.lg};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.xl};\r\n    }\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n  }\r\n\r\n  p + p {\r\n    margin-top: 8px;\r\n  }\r\n`\r\n\r\nexport default function Notice() {\r\n  return (\r\n    <PageWidth>\r\n      <Container>\r\n        <Title>購物需知</Title>\r\n        <Content>\r\n          <h3>免責聲明</h3>\r\n          <p>當您使用本站，代表您了解並遵守以下規章：</p>\r\n          <p>根據 FTC 規定，請假設本站中所推薦的商家、產品均有合作關係，當使用者於站內連結到第三方商家網站並進行消費 ，本站將獲得部分消費金額作為傭金回報並維持本站營運的開銷，但這不影響您所購買任何商品的價格，本站也不會 多收您任何一分一毛。</p>\r\n          <p>本站將不負責任何用戶與商家之間的交易。任何取消、更改訂單請直接與商家客服聯絡。本站將不參與及協助任何消 費者與商家之間的糾紛。</p>\r\n          <p>所有來信諮詢的信件我們不會將資料轉發給其他方或商家，信箱及個人資訊僅供本站與用戶聯繫。</p>\r\n\r\n          <h3>退貨政策</h3>\r\n          <p>台灣境內交易七天鑑賞期</p>\r\n          <p>本賣場非七天猶豫期商店，不接受個人因素，如：不喜歡、尺寸不合、不符合個人期待等...理由退換貨</p>\r\n          <p>當您確認購買後，即代表您同意本賣場購買規則。如不接受者，請勿隨意下單。</p>\r\n        </Content>\r\n      </Container>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { MEDIA_QUERY, FONT_SIZE } from '../../../constants/style'\r\nimport { PageWidth } from '../../../components/general'\r\n\r\n\r\nconst Container = styled.div`\r\n  margin: 60px auto 60px;\r\n  padding: 0 8px;\r\n  width: 90%;\r\n  ${MEDIA_QUERY.desktop} {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst Title = styled.div`\r\n  margin-top: 40px;\r\n  font-size: ${FONT_SIZE.lg};\r\n  font-weight: bold;\r\n  ${MEDIA_QUERY.tablet} {\r\n    margin-top: 60px;\r\n    font-size: ${FONT_SIZE.xl};\r\n  }\r\n  ${MEDIA_QUERY.desktop} {\r\n    margin-top: 80px;\r\n    font-size: ${FONT_SIZE.xxl};\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  text-align: left;\r\n\r\n  h3, h5 {\r\n    margin: 48px 0 12px;\r\n  }\r\n  h3 {\r\n    font-size: ${FONT_SIZE.lg};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.lg};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.xl};\r\n    }\r\n  }\r\n\r\n  h5 {\r\n    font-size: ${FONT_SIZE.sm};\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n    ${MEDIA_QUERY.tablet} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n    ${MEDIA_QUERY.desktop} {\r\n      font-size: ${FONT_SIZE.md};\r\n    }\r\n  }\r\n\r\n  p + p {\r\n    margin-top: 8px;\r\n  }\r\n`\r\n\r\nexport default function Privacy() {\r\n  return (\r\n    <PageWidth>\r\n      <Container>\r\n        <Title>隱私權條款</Title>\r\n        <Content>\r\n          <h5>DAYEAYEAYEA（以下簡稱本網站），為了讓您能夠安心使用本網站的各項服務與資訊，特此向您說明本網站的隱私權保護政策，以保障您的權益，請您詳閱下列內容：</h5>\r\n\r\n          <h3>一、隱私權保護政策的適用範圍</h3>\r\n          <p>隱私權保護政策內容，包括本網站如何處理在您使用網站服務時收集到的個人識別資料。隱私權保護政策不適用於本網站以外的相關連結網站，也不適用於非本網站所委託或參與管理的人員。</p>\r\n        \r\n          <h3>二、個人資料的蒐集、處理及利用方式</h3>\r\n          <p>當您造訪本網站或使用本網站所提供之功能服務時，我們將視該服務功能性質，請您提供必要的個人資料，並在該特定目的範圍內處理及利用您的個人資料；非經您書面同意，本網站不會將個人資料用於其他用途。</p>\r\n\r\n          <h3>三、資料之保護</h3>\r\n          <p>只由經過授權的人員才能接觸您的個人資料，如因業務需要有必要委託其他單位提供服務時，本網站亦會嚴格要求其遵守保密義務，並且採取必要檢查程序以確定其將確實遵守。</p>\r\n          \r\n          <h3>四、網站對外的相關連結</h3>\r\n          <p>本網站的網頁提供其他網站的網路連結，您也可經由本網站所提供的連結，點選進入其他網站。但該連結網站不適用本網站的隱私權保護政策，您必須參考該連結網站中的隱私權保護政策。</p>\r\n\r\n          <h3>五、與第三人共用個人資料之政策</h3>\r\n          <p>本網站絕不會提供、交換、出租或出售任何您的個人資料給其他個人、團體、私人企業或公務機關，但有法律依據或合約義務者，不在此限。</p>\r\n\r\n          <h3>六、隱私權保護政策之修正</h3>\r\n          <p>本網站隱私權保護政策將因應需求隨時進行修正，修正後的條款將刊登於網站上。</p>\r\n        </Content>\r\n      </Container>\r\n    </PageWidth>\r\n  )\r\n}\r\n","import { createGlobalStyle } from 'styled-components'\r\nimport { COLOR } from './style'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    line-height: 1.5em;\r\n    text-decoration: none;\r\n  }\r\n  #root {\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  ::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    -webkit-border-radius: 24px;\r\n    border-radius: 24px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 4px;\r\n    border-radius: 4px;\r\n    background: rgb(204,204,204);\r\n  }\r\n  div, p, span, input, select, option {\r\n    color: ${COLOR.text_dark};\r\n  }\r\n  h1, h2, h3, h4, h5, h6 {\r\n    margin: 0;\r\n    padding: 0;\r\n    line-height:normal;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    &:hover {\r\n      color: ${COLOR.text_dark};\r\n    }\r\n  }\r\n  ul, li {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  button {\r\n    box-sizing: border-box;\r\n    border: none;\r\n    cursor: pointer;\r\n    background: transparent;\r\n    &:hover, &:focus {\r\n      outline: none\r\n    }\r\n  }\r\n  input {\r\n    outline: none;\r\n    border: none;\r\n\r\n    &:focus {\r\n      outline: none;\r\n      border: none\r\n    }\r\n  }\r\n  textarea {\r\n    resize: none;\r\n  }\r\n  img {\r\n    height: 600px;\r\n  }\r\n`\r\n\r\nexport default GlobalStyle\r\n","import { useEffect, useState, useMemo, useCallback } from 'react'\r\nimport Navbar from './components/navbar/Navbar'\r\nimport Footer from './components/Footer'\r\nimport {\r\n  Articles,\r\n  Step1,\r\n  Step2,\r\n  Step3,\r\n  Categories,\r\n  Search,\r\n  Home,\r\n  Login,\r\n  Me,\r\n  Products,\r\n  NotFound\r\n} from './pages'\r\nimport {\r\n  AdminLogin,\r\n  AdminOrders,\r\n  AdminOrderDetail,\r\n  AdminProducts,\r\n  AdminMembers,\r\n  AdminMemberDetail,\r\n  AdminProductDetail,\r\n  AdminProductAdd,\r\n  Layout as AdminLayout\r\n} from './pages/AdminPages'\r\nimport { Brand, FAQ, Join, Notice, Privacy } from './pages/InfoPages/index'\r\nimport { PageHeight } from './components/general'\r\nimport {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n  useRouteMatch\r\n} from 'react-router-dom'\r\nimport {\r\n  ScrollToTop,\r\n  addItemsToLocalStorage,\r\n  getItemsFromLocalStorage,\r\n  getTokenFromLocalStorage\r\n} from './utils'\r\nimport {\r\n  LoadingContext,\r\n  ModalContext,\r\n  LocalStorageContext,\r\n  UserContext\r\n} from './context'\r\nimport GlobalStyle from './constants/globalStyle'\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router basename='/'>\r\n      <GlobalStyle />\r\n      <ScrollToTop />\r\n      <Switch>\r\n        <Route path='/admin' component={AdminRoutes} />\r\n        <Route path='/' component={Shop} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nfunction AdminRoutes() {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  return (\r\n    <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\r\n      <Switch>\r\n        <Route path={'/admin/login'} component={AdminLogin} />\r\n        <AdminLayout>\r\n          <Switch>\r\n            <Route path={'/admin/members/:id'} component={AdminMemberDetail} />\r\n            <Route path={'/admin/members'} component={AdminMembers} />\r\n            <Route\r\n              path={'/admin/orders/:ticket'}\r\n              component={AdminOrderDetail}\r\n            />\r\n            <Route path={'/admin/orders'} component={AdminOrders} />\r\n            <Route\r\n              path={'/admin/products/detail/:id'}\r\n              component={AdminProductDetail}\r\n            />\r\n            <Route path={'/admin/products/add'} component={AdminProductAdd} />\r\n            <Route path={'/admin/products/:page'} component={AdminProducts} />\r\n          </Switch>\r\n        </AdminLayout>\r\n      </Switch>\r\n    </LoadingContext.Provider>\r\n  )\r\n}\r\nfunction Shop() {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [isProductSoldOut, setIsProductSoldOut] = useState(false)\r\n  const [cartItems, setCartItems] = useState(\r\n    JSON.parse(getItemsFromLocalStorage())\r\n  )\r\n\r\n  const [user, setUser] = useState()\r\n  useEffect(() => {\r\n    if (!getTokenFromLocalStorage()) return false\r\n    try {\r\n      const _info = jwt_decode(getTokenFromLocalStorage())\r\n      if (_info.hasOwnProperty('id')) return setUser(_info)\r\n      return setUser(null)\r\n    } catch (error) {\r\n      return setUser(null)\r\n    }\r\n  }, [])\r\n\r\n  const handleModalClose = useCallback(() => {\r\n    setIsModalOpen((isModalOpen) => false)\r\n    setIsProductSoldOut((isProductSoldOut) => false)\r\n  }, [setIsModalOpen])\r\n\r\n  const totalPrice = useMemo(() => {\r\n    if (!cartItems) return\r\n    // 預先加上 80 元運費\r\n    let sum = 80\r\n    for (const cartItem of cartItems) {\r\n      sum += cartItem.discountPrice * cartItem.quantity\r\n    }\r\n    return sum\r\n  }, [cartItems])\r\n\r\n  const totalItems = useMemo(() => {\r\n    if (!cartItems) return\r\n    return cartItems.length\r\n  }, [cartItems])\r\n\r\n  const handleAddCartItem = (targetId, productInfo) => {\r\n    const { imgs, name, price, discountPrice, quantity } = productInfo\r\n    let storageProductItems = JSON.parse(getItemsFromLocalStorage()) || []\r\n    let imgUrlSm\r\n    if (imgs) {\r\n      imgUrlSm = imgs.length > 0 ? imgs[0].imgUrlSm : ''\r\n    }\r\n    const checkHasProducts =\r\n      storageProductItems.length >= 1\r\n        ? storageProductItems.filter((item) => item.id === targetId)\r\n        : []\r\n    let productList\r\n    if (checkHasProducts.length < 1) {\r\n      productList = [\r\n        ...storageProductItems,\r\n        {\r\n          id: targetId,\r\n          img: imgUrlSm,\r\n          name,\r\n          price,\r\n          discountPrice,\r\n          quantity\r\n        }\r\n      ]\r\n    } else {\r\n      productList = storageProductItems.map((item) => {\r\n        if (item.id !== targetId) return item\r\n        return {\r\n          ...item,\r\n          quantity: item.quantity + quantity\r\n        }\r\n      })\r\n    }\r\n    addItemsToLocalStorage(productList)\r\n    setCartItems(productList)\r\n  }\r\n\r\n  const handleRemoveCartItem = (id) => {\r\n    addItemsToLocalStorage(cartItems.filter((item) => item.id !== id))\r\n    setCartItems(cartItems.filter((item) => item.id !== id))\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCartItems(JSON.parse(getItemsFromLocalStorage()))\r\n  }, [])\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, setUser }}>\r\n      <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\r\n        <ModalContext.Provider\r\n          value={{\r\n            isModalOpen,\r\n            setIsModalOpen,\r\n            handleModalClose,\r\n            isProductSoldOut,\r\n            setIsProductSoldOut\r\n          }}\r\n        >\r\n          <LocalStorageContext.Provider\r\n            value={{\r\n              cartItems,\r\n              totalPrice,\r\n              totalItems,\r\n              setCartItems,\r\n              handleAddCartItem,\r\n              handleRemoveCartItem\r\n            }}\r\n          >\r\n            <Navbar />\r\n            <PageHeight>\r\n              <Switch>\r\n                <Route path='/articles/:id/:page' component={Articles} />\r\n                <Route path='/checkout' component={CheckoutRoutes} />\r\n                <Route path='/categories/:slug/:page' component={Categories} />\r\n                <Route path='/search' component={Search} />\r\n                <Route path='/login' component={Login} />\r\n                <Route path='/member' component={MemberRoutes} />\r\n                <Route path='/products/:id' component={Products} />\r\n                <Route path='/info' component={InfoRoutes} />\r\n                <Route exact path='/' component={Home} />\r\n                <Route path='*' component={NotFound} />\r\n              </Switch>\r\n            </PageHeight>\r\n            <Footer />\r\n          </LocalStorageContext.Provider>\r\n        </ModalContext.Provider>\r\n      </LoadingContext.Provider>\r\n    </UserContext.Provider>\r\n  )\r\n}\r\nfunction CheckoutRoutes() {\r\n  const { path } = useRouteMatch()\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/step1`} component={Step1} />\r\n      <Route path={`${path}/step2`} component={Step2} />\r\n      <Route path={`${path}/step3/:ticket`} component={Step3} />\r\n    </Switch>\r\n  )\r\n}\r\nfunction MemberRoutes() {\r\n  const { path } = useRouteMatch()\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/me`} component={Me} />\r\n      <Route path={`${path}/modify-info`} component={Me} />\r\n      <Route path={`${path}/orders/order-detail`} component={Me} />\r\n      <Route path={`${path}/orders`} component={Me} />\r\n    </Switch>\r\n  )\r\n}\r\nfunction InfoRoutes() {\r\n  const { path } = useRouteMatch()\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/brand`} component={Brand} />\r\n      <Route path={`${path}/faq`} component={FAQ} />\r\n      <Route path={`${path}/join`} component={Join} />\r\n      <Route path={`${path}/notice`} component={Notice} />\r\n      <Route path={`${path}/privacy`} component={Privacy} />\r\n    </Switch>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}